
################################################################################
#                      MODULE_SOCIAL_FACEBOOK                            #
#                   ODOO MODULE DOCUMENTATION GENERATOR                     #
#                           Version 1.3.0 - Enterprise Style                #
################################################################################

================================================================================
                                ğŸ“‚ DIRECTORY TREE
================================================================================
ğŸ“„ __init__.py
ğŸ“„ __manifest__.py
ğŸ“ controllers
â”œâ”€â”€ ğŸ“„ __init__.py
â”œâ”€â”€ ğŸ“„ main.py
â””â”€â”€ ğŸ“„ webhook.py
ğŸ“ data
â”œâ”€â”€ ğŸ“„ chatbot_data.xml
â”œâ”€â”€ ğŸ“„ facebook_post_template_data.xml
â”œâ”€â”€ ğŸ“„ ir_cron_data.xml
â”œâ”€â”€ ğŸ“„ mail_template_data.xml
â””â”€â”€ ğŸ“„ user_groups_data.xml
ğŸ“„ generate_doc_3.py
ğŸ“ lib
â”œâ”€â”€ ğŸ“„ __init__.py
â””â”€â”€ ğŸ“„ facebook_api.py
ğŸ“ models
â”œâ”€â”€ ğŸ“„ __init__.py
â”œâ”€â”€ ğŸ“„ crm_lead.py
â”œâ”€â”€ ğŸ“„ res_company.py
â”œâ”€â”€ ğŸ“„ res_config_settings.py
â”œâ”€â”€ ğŸ“„ social_account.py
â”œâ”€â”€ ğŸ“„ social_analytics.py
â”œâ”€â”€ ğŸ“„ social_chatbot_automation.py
â”œâ”€â”€ ğŸ“„ social_comment.py
â”œâ”€â”€ ğŸ“„ social_conversation.py
â”œâ”€â”€ ğŸ“„ social_message.py
â”œâ”€â”€ ğŸ“„ social_messenger_order.py
â”œâ”€â”€ ğŸ“„ social_messenger_product.py
â”œâ”€â”€ ğŸ“„ social_post.py
â””â”€â”€ ğŸ“„ social_post_template.py
ğŸ“„ module_social_facebook_DOCUMENTATION_2025-12-27_18h33.txt
ğŸ“„ ok.py
ğŸ“ security
â”œâ”€â”€ ğŸ“„ ir.model.access.csv
â””â”€â”€ ğŸ“„ social_security.xml
ğŸ“ static
â”œâ”€â”€ ğŸ“ description
â”‚   â””â”€â”€ ğŸ“„ icon.png
â””â”€â”€ ğŸ“ src
    â”œâ”€â”€ ğŸ“ css
    â”‚   â””â”€â”€ ğŸ“„ social_facebook.css
    â”œâ”€â”€ ğŸ“ js
    â”‚   â”œâ”€â”€ ğŸ“„ social_conversation_list.js
    â”‚   â””â”€â”€ ğŸ“„ social_dashboard.js
    â””â”€â”€ ğŸ“ xml
        â””â”€â”€ ğŸ“„ social_conversation_templates.xml
ğŸ“ views
â”œâ”€â”€ ğŸ“„ dashboard_views.xml
â”œâ”€â”€ ğŸ“„ menu_views.xml
â”œâ”€â”€ ğŸ“„ res_config_settings_views.md
â”œâ”€â”€ ğŸ“„ social_account_views.xml
â”œâ”€â”€ ğŸ“„ social_analytics_views.xml
â”œâ”€â”€ ğŸ“„ social_chatbot_automation_views.xml
â”œâ”€â”€ ğŸ“„ social_comment_views.xml
â”œâ”€â”€ ğŸ“„ social_conversation_views.xml
â”œâ”€â”€ ğŸ“„ social_message_views.xml
â”œâ”€â”€ ğŸ“„ social_messenger_order_views.xml
â”œâ”€â”€ ğŸ“„ social_messenger_product_views.xml
â”œâ”€â”€ ğŸ“„ social_post_calendar_views.xml
â”œâ”€â”€ ğŸ“„ social_post_template_views.xml
â””â”€â”€ ğŸ“„ social_post_views.xml
ğŸ“ wizard
â”œâ”€â”€ ğŸ“„ __init__.py
â”œâ”€â”€ ğŸ“„ bulk_schedule_wizard.py
â”œâ”€â”€ ğŸ“„ post_composer_wizard.py
â””â”€â”€ ğŸ“„ wizard_views.xml


================================================================================
                              Cáº¤U TRÃšC THÆ¯ Má»¤C - 54 FILES
================================================================================

  1.  __init__.py
  2.  __manifest__.py
  3.  controllers/__init__.py
  4.  controllers/main.py
  5.  controllers/webhook.py
  6.  data/chatbot_data.xml
  7.  data/facebook_post_template_data.xml
  8.  data/ir_cron_data.xml
  9.  data/mail_template_data.xml
 10.  data/user_groups_data.xml
 11.  generate_doc_3.py
 12.  lib/__init__.py
 13.  lib/facebook_api.py
 14.  models/__init__.py
 15.  models/crm_lead.py
 16.  models/res_company.py
 17.  models/res_config_settings.py
 18.  models/social_account.py
 19.  models/social_analytics.py
 20.  models/social_chatbot_automation.py
 21.  models/social_comment.py
 22.  models/social_conversation.py
 23.  models/social_message.py
 24.  models/social_messenger_order.py
 25.  models/social_messenger_product.py
 26.  models/social_post.py
 27.  models/social_post_template.py
 28.  module_social_facebook_DOCUMENTATION_2025-12-27_18h33.txt
 29.  ok.py
 30.  security/ir.model.access.csv
 31.  security/social_security.xml
 32.  static/description/icon.png
 33.  static/src/css/social_facebook.css
 34.  static/src/js/social_conversation_list.js
 35.  static/src/js/social_dashboard.js
 36.  static/src/xml/social_conversation_templates.xml
 37.  views/dashboard_views.xml
 38.  views/menu_views.xml
 39.  views/res_config_settings_views.md
 40.  views/social_account_views.xml
 41.  views/social_analytics_views.xml
 42.  views/social_chatbot_automation_views.xml
 43.  views/social_comment_views.xml
 44.  views/social_conversation_views.xml
 45.  views/social_message_views.xml
 46.  views/social_messenger_order_views.xml
 47.  views/social_messenger_product_views.xml
 48.  views/social_post_calendar_views.xml
 49.  views/social_post_template_views.xml
 50.  views/social_post_views.xml
 51.  wizard/__init__.py
 52.  wizard/bulk_schedule_wizard.py
 53.  wizard/post_composer_wizard.py
 54.  wizard/wizard_views.xml


================================================================================
                         Báº¢NG Tá»”NG Káº¾T 54 FILES
================================================================================
â”‚  #  â”‚ ÄÆ°á»ng dáº«n file                                     â”‚ Loáº¡i     â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1   â”‚ __init__.py                                        â”‚ Python   â”‚
â”‚ 2   â”‚ __manifest__.py                                    â”‚ Python   â”‚
â”‚ 3   â”‚ controllers/__init__.py                            â”‚ Python   â”‚
â”‚ 4   â”‚ controllers/main.py                                â”‚ Python   â”‚
â”‚ 5   â”‚ controllers/webhook.py                             â”‚ Python   â”‚
â”‚ 6   â”‚ data/chatbot_data.xml                              â”‚ XML      â”‚
â”‚ 7   â”‚ data/facebook_post_template_data.xml               â”‚ XML      â”‚
â”‚ 8   â”‚ data/ir_cron_data.xml                              â”‚ XML      â”‚
â”‚ 9   â”‚ data/mail_template_data.xml                        â”‚ XML      â”‚
â”‚ 10  â”‚ data/user_groups_data.xml                          â”‚ XML      â”‚
â”‚ 11  â”‚ generate_doc_3.py                                  â”‚ Python   â”‚
â”‚ 12  â”‚ lib/__init__.py                                    â”‚ Python   â”‚
â”‚ 13  â”‚ lib/facebook_api.py                                â”‚ Python   â”‚
â”‚ 14  â”‚ models/__init__.py                                 â”‚ Python   â”‚
â”‚ 15  â”‚ models/crm_lead.py                                 â”‚ Python   â”‚
â”‚ 16  â”‚ models/res_company.py                              â”‚ Python   â”‚
â”‚ 17  â”‚ models/res_config_settings.py                      â”‚ Python   â”‚
â”‚ 18  â”‚ models/social_account.py                           â”‚ Python   â”‚
â”‚ 19  â”‚ models/social_analytics.py                         â”‚ Python   â”‚
â”‚ 20  â”‚ models/social_chatbot_automation.py                â”‚ Python   â”‚
â”‚ 21  â”‚ models/social_comment.py                           â”‚ Python   â”‚
â”‚ 22  â”‚ models/social_conversation.py                      â”‚ Python   â”‚
â”‚ 23  â”‚ models/social_message.py                           â”‚ Python   â”‚
â”‚ 24  â”‚ models/social_messenger_order.py                   â”‚ Python   â”‚
â”‚ 25  â”‚ models/social_messenger_product.py                 â”‚ Python   â”‚
â”‚ 26  â”‚ models/social_post.py                              â”‚ Python   â”‚
â”‚ 27  â”‚ models/social_post_template.py                     â”‚ Python   â”‚
â”‚ 28  â”‚ module_social_facebook_DOCUMENTATION_2025-12-27_18h33.txt â”‚ Other    â”‚
â”‚ 29  â”‚ ok.py                                              â”‚ Python   â”‚
â”‚ 30  â”‚ security/ir.model.access.csv                       â”‚ CSV      â”‚
â”‚ 31  â”‚ security/social_security.xml                       â”‚ XML      â”‚
â”‚ 32  â”‚ static/description/icon.png                        â”‚ Image    â”‚
â”‚ 33  â”‚ static/src/css/social_facebook.css                 â”‚ CSS      â”‚
â”‚ 34  â”‚ static/src/js/social_conversation_list.js          â”‚ JS       â”‚
â”‚ 35  â”‚ static/src/js/social_dashboard.js                  â”‚ JS       â”‚
â”‚ 36  â”‚ static/src/xml/social_conversation_templates.xml   â”‚ XML      â”‚
â”‚ 37  â”‚ views/dashboard_views.xml                          â”‚ XML      â”‚
â”‚ 38  â”‚ views/menu_views.xml                               â”‚ XML      â”‚
â”‚ 39  â”‚ views/res_config_settings_views.md                 â”‚ Other    â”‚
â”‚ 40  â”‚ views/social_account_views.xml                     â”‚ XML      â”‚
â”‚ 41  â”‚ views/social_analytics_views.xml                   â”‚ XML      â”‚
â”‚ 42  â”‚ views/social_chatbot_automation_views.xml          â”‚ XML      â”‚
â”‚ 43  â”‚ views/social_comment_views.xml                     â”‚ XML      â”‚
â”‚ 44  â”‚ views/social_conversation_views.xml                â”‚ XML      â”‚
â”‚ 45  â”‚ views/social_message_views.xml                     â”‚ XML      â”‚
â”‚ 46  â”‚ views/social_messenger_order_views.xml             â”‚ XML      â”‚
â”‚ 47  â”‚ views/social_messenger_product_views.xml           â”‚ XML      â”‚
â”‚ 48  â”‚ views/social_post_calendar_views.xml               â”‚ XML      â”‚
â”‚ 49  â”‚ views/social_post_template_views.xml               â”‚ XML      â”‚
â”‚ 50  â”‚ views/social_post_views.xml                        â”‚ XML      â”‚
â”‚ 51  â”‚ wizard/__init__.py                                 â”‚ Python   â”‚
â”‚ 52  â”‚ wizard/bulk_schedule_wizard.py                     â”‚ Python   â”‚
â”‚ 53  â”‚ wizard/post_composer_wizard.py                     â”‚ Python   â”‚
â”‚ 54  â”‚ wizard/wizard_views.xml                            â”‚ XML      â”‚



================================================================================
                              Ná»˜I DUNG CÃC FILES
================================================================================

################################################################################
## FILE 1: __init__.py
## ÄÆ°á»ng dáº«n: __init__.py
################################################################################

# -*- coding: utf-8 -*-

from . import models
from . import controllers
from . import wizard
from . import lib



################################################################################
## FILE 2: __manifest__.py
## ÄÆ°á»ng dáº«n: __manifest__.py
################################################################################

# -*- coding: utf-8 -*-
{
    'name': 'Social Media - Facebook Enhanced',
    'version': '19.0.2.0.0',
    'category': 'Marketing/Social Marketing',
    'summary': 'Facebook Integration with CRM, Messenger Sales & Content Calendar',
    'description': """
Facebook Integration - Enterprise Edition
==========================================

Core Features:
--------------
* Facebook Pages Management
* Posts Publishing & Scheduling
* Comments & Reactions Tracking
* Messenger Conversations
* Analytics & Insights
* Webhook Integration

NEW Features (v2.0):
-------------------
* âœ¨ CRM Lead Auto-creation from Messenger & Lead Ads
* âœ¨ Messenger Sales Bot with Order Creation
* âœ¨ Content Calendar View
* âœ¨ Ngrok Integration for Local Development
* âœ¨ Webhook Configuration UI
* âœ¨ Messenger Product Catalog
* âœ¨ Sale Order Integration
    """,
    'author': 'Your Company',
    'website': 'https://www.yourcompany.com',
    'license': 'LGPL-3',
    'depends': [
        'base',
        'mail',
        'web',
        'crm',
        'sale_management',
        'product',
    ],
    'data': [
        # Security
        'security/social_security.xml',
        'security/ir.model.access.csv',
        
        # Data - CHá»ˆ GIá»® FILE Tá»’N Táº I
        'data/ir_cron_data.xml',
        
        # Views - CHá»ˆ GIá»® FILE Tá»’N Táº I
        'views/social_account_views.xml',
        'views/social_post_views.xml',
        'views/social_comment_views.xml',
        'views/social_conversation_views.xml',
        'views/social_message_views.xml',
        'views/social_messenger_product_views.xml',
        'views/social_messenger_order_views.xml',
        'views/menu_views.xml',
    ],
    'installable': True,
    'application': True,
    'auto_install': False,
}



################################################################################
## FILE 3: __init__.py
## ÄÆ°á»ng dáº«n: controllers/__init__.py
################################################################################

from . import main
from . import webhook




################################################################################
## FILE 4: main.py
## ÄÆ°á»ng dáº«n: controllers/main.py
################################################################################

from odoo import http
from odoo.http import request


class SocialFacebookController(http.Controller):
    """
    Controller chÃ­nh cho Facebook integration.
    """

    @http.route('/social/facebook/oauth/callback', type='http', auth='user', website=True)
    def facebook_oauth_callback(self, **kwargs):
        """
        Callback URL sau khi user authorize Facebook app.
        """
        code = kwargs.get('code')
        state = kwargs.get('state')
        
        if not code:
            return request.render('module_social_facebook.oauth_error', {
                'error': 'No authorization code received'
            })
        
        # Process OAuth code and exchange for access token
        # Logic xá»­ lÃ½ á»Ÿ Ä‘Ã¢y
        
        return request.redirect('/web#action=module_social_facebook.action_social_account')




################################################################################
## FILE 5: webhook.py
## ÄÆ°á»ng dáº«n: controllers/webhook.py
################################################################################

import json
import logging
import requests
import re
from datetime import datetime, timedelta
from odoo import http
from odoo.http import request

_logger = logging.getLogger(__name__)


class FacebookWebhookController(http.Controller):
    
    @http.route('/social/facebook/webhook', type='http', auth='public', 
                methods=['GET'], csrf=False)
    def webhook_verify(self, **kwargs):
        """Verify webhook"""
        mode = kwargs.get('hub.mode')
        token = kwargs.get('hub.verify_token')
        challenge = kwargs.get('hub.challenge')
        
        verify_token = request.env['ir.config_parameter'].sudo().get_param(
            'module_social_facebook.verify_token', '16112005'
        )
        
        if mode == 'subscribe' and token == verify_token:
            _logger.info('âœ… Webhook verified')
            return challenge
        else:
            _logger.warning('âŒ Webhook verify failed')
            return 'Forbidden', 403
    
    @http.route('/social/facebook/webhook', type='http', auth='public', 
                methods=['POST'], csrf=False)
    def webhook_callback(self, **kwargs):
        """Nháº­n events tá»« Facebook"""
        try:
            body = request.httprequest.get_data(as_text=True)
            data = json.loads(body)
            
            if data.get('object') != 'page':
                return 'OK'
            
            for entry in data.get('entry', []):
                self._process_entry(entry)
            
            return 'OK'
            
        except Exception as e:
            _logger.error('âŒ Webhook error: %s', e, exc_info=True)
            return 'OK'
    
    def _process_entry(self, entry):
        """Xá»­ lÃ½ entry tá»« webhook"""
        if 'messaging' in entry:
            for event in entry['messaging']:
                self._process_messaging_event(event)
    
    def _process_messaging_event(self, event):
        """Xá»­ lÃ½ messaging event"""
        sender_id = event.get('sender', {}).get('id')
        recipient_id = event.get('recipient', {}).get('id')
        
        if not sender_id or not recipient_id:
            return
        
        # Find or create conversation
        conversation = self._find_or_create_conversation(sender_id, recipient_id)
        if not conversation:
            return
        
        # Process message
        if 'message' in event:
            message_data = event['message']
            
            # Skip echo messages (tá»« page gá»­i Ä‘i)
            if message_data.get('is_echo'):
                return
            
            # Process chatbot flow
            if 'quick_reply' in message_data:
                payload = message_data['quick_reply'].get('payload', '')
                self._process_chatbot_flow(conversation, payload)
            else:
                text = message_data.get('text', '')
                self._process_chatbot_flow(conversation, text)
    
    # =========================================================================
    # CHATBOT FLOW - STATE MACHINE
    # =========================================================================
    
    def _process_chatbot_flow(self, conversation, user_message):
        """Main chatbot flow dispatcher"""
        # Check if chatbot is enabled
        chatbot_enabled = request.env['ir.config_parameter'].sudo().get_param(
            'module_social_facebook.chatbot_enabled', 'False'
        )
        
        if chatbot_enabled != 'True':
            return
        
        # Check cooldown (after order completion)
        if self._is_in_cooldown(conversation):
            self._send_text(conversation, 
                "Cáº£m Æ¡n báº¡n Ä‘Ã£ Ä‘áº·t hÃ ng! ÄÆ¡n hÃ ng Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½. "
                "Náº¿u cáº§n há»— trá»£, vui lÃ²ng liÃªn há»‡ hotline.")
            return
        
        # Get current state
        current_state = conversation.chatbot_state or 'idle'
        
        _logger.info('ğŸ¤– State: %s | Message: %s', current_state, user_message)
        
        # Dispatch to state handlers
        if current_state == 'idle':
            self._state_idle(conversation, user_message)
        elif current_state == 'ask_name':
            self._state_ask_name(conversation, user_message)
        elif current_state == 'ask_phone':
            self._state_ask_phone(conversation, user_message)
        elif current_state == 'show_products':
            self._state_show_products(conversation, user_message)
        elif current_state == 'confirm_order':
            self._state_confirm_order(conversation, user_message)
        elif current_state == 'completed':
            self._state_completed(conversation, user_message)
    
    # =========================================================================
    # STATE HANDLERS
    # =========================================================================
    
    def _state_idle(self, conv, msg):
        """State: idle - Chá» trigger tá»« user"""
        msg_lower = msg.lower().strip()
        
        # Check purchase intent keywords
        if any(kw in msg_lower for kw in ['mua', 'order', 'buy', 'menu', 'Ä‘áº·t hÃ ng']):
            conv.sudo().write({'chatbot_state': 'ask_name'})
            self._send_text(conv, "Xin chÃ o! ğŸ‘‹\n\nBáº¡n vui lÃ²ng cho biáº¿t tÃªn cá»§a báº¡n?")
        else:
            self._send_text(conv, 'ğŸ‘‹ Gá»­i "mua" Ä‘á»ƒ xem sáº£n pháº©m vÃ  Ä‘áº·t hÃ ng!')
    
    def _state_ask_name(self, conv, msg):
        """State: ask_name - Thu tháº­p tÃªn khÃ¡ch hÃ ng"""
        name = msg.strip()
        
        # Validate name length
        if len(name) < 2:
            self._send_text(conv, "TÃªn quÃ¡ ngáº¯n. Vui lÃ²ng nháº­p láº¡i (Ã­t nháº¥t 2 kÃ½ tá»±).")
            return
        
        # Normalize name (capitalize each word)
        name_normalized = ' '.join(word.capitalize() for word in name.split())
        
        # Update conversation
        conv.sudo().write({
            'customer_name': name_normalized,
            'chatbot_state': 'ask_phone'
        })
        
        # Ask for phone
        welcome_msg = "Xin chÃ o %s! ğŸ˜Š\n\nBáº¡n vui lÃ²ng cung cáº¥p sá»‘ Ä‘iá»‡n thoáº¡i?" % name_normalized
        self._send_text(conv, welcome_msg)
    
    def _state_ask_phone(self, conv, msg):
        """State: ask_phone - Thu tháº­p sá»‘ Ä‘iá»‡n thoáº¡i"""
        phone = msg.strip()
        
        # Clean phone number
        phone_clean = re.sub(r'[\s\-\(\)]', '', phone)
        
        # Convert +84 or 84 to 0
        if phone_clean.startswith('+84'):
            phone_clean = '0' + phone_clean[3:]
        elif phone_clean.startswith('84'):
            phone_clean = '0' + phone_clean[2:]
        
        # Validate Vietnamese phone format (0XXXXXXXXX)
        if not re.match(r'^0\d{9,10}$', phone_clean):
            self._send_text(conv, 
                "ğŸ“± Sá»‘ Ä‘iá»‡n thoáº¡i khÃ´ng há»£p lá»‡!\n\n"
                "Vui lÃ²ng nháº­p láº¡i (VD: 0912345678)")
            return
        
        # Update conversation
        conv.sudo().write({
            'customer_phone': phone_clean,
            'chatbot_state': 'show_products'
        })
        
        # Show product list
        self._send_product_list(conv)
    
    def _state_show_products(self, conv, msg):
        """State: show_products - Chá» user chá»n sáº£n pháº©m"""
        # Check if message is a product selection payload
        if msg.startswith('PRODUCT_'):
            product_id = self._extract_product_id(msg)
            if product_id:
                self._handle_product_selection(conv, product_id)
    
    def _state_confirm_order(self, conv, msg):
        """
        âœ… State: confirm_order - XÃ¡c nháº­n vÃ  Táº O SALE ORDER
        """
        msg_lower = msg.lower().strip()
        
        _logger.info('ğŸ“ CONFIRM ORDER - Message: %s', msg)
        
        # User confirms order
        if any(kw in msg_lower for kw in ['cÃ³', 'yes', 'ok', 'Ä‘á»“ng Ã½', 'xÃ¡c nháº­n']):
            _logger.info('âœ… User confirmed order')
            
            try:
                # Step 1: Validate order data
                _logger.info('Step 1: Validating order data...')
                validation = self._validate_order_data(conv)
                
                if not validation['valid']:
                    error_msg = "âŒ Dá»¯ liá»‡u khÃ´ng há»£p lá»‡: %s" % validation['errors']
                    _logger.error(error_msg)
                    self._send_text(conv, error_msg)
                    return
                
                # âœ… Step 2: Táº O SALE ORDER TRá»°C TIáº¾P
                _logger.info('Step 2: Creating Sale Order directly...')
                sale_order = self._create_sale_order_directly(conv)
                _logger.info('âœ… Sale order created: %s', sale_order.name)
                
                # Step 3: Update conversation state
                conv.sudo().write({
                    'chatbot_state': 'completed',
                    # LÆ°u sale_order_id vÃ o conversation (cáº§n thÃªm field nÃ y)
                })
                
                # Step 4: Send success message
                _logger.info('Step 4: Sending success message...')
                
                # Calculate total
                total_amount = sale_order.amount_total
                
                success_msg = """ğŸ‰ Äáº·t hÃ ng thÃ nh cÃ´ng!

ğŸ“ MÃ£ Ä‘Æ¡n hÃ ng: %s
ğŸ’° Tá»•ng tiá»n: %s Ä‘

ğŸ“¦ Sáº£n pháº©m:
%s

ğŸ‘¤ KhÃ¡ch hÃ ng: %s
ğŸ“ SÄT: %s

âœ… ÄÆ¡n hÃ ng Ä‘Ã£ Ä‘Æ°á»£c ghi nháº­n!
ChÃºng tÃ´i sáº½ liÃªn há»‡ xÃ¡c nháº­n trong thá»i gian sá»›m nháº¥t.

Cáº£m Æ¡n báº¡n! ğŸ™""" % (
                    sale_order.name,
                    "{:,.0f}".format(total_amount),
                    self._format_order_lines(sale_order),
                    conv.customer_name,
                    conv.customer_phone
                )
                
                self._send_text(conv, success_msg)
                
                # Set cooldown
                self._set_cooldown(conv)
                
                _logger.info('âœ… Order flow completed: %s', sale_order.name)
                
            except Exception as e:
                import traceback
                _logger.error('âŒ ORDER FAILED: %s', str(e))
                _logger.error('Traceback:\n%s', traceback.format_exc())
                
                # Reset to idle on error
                conv.sudo().write({'chatbot_state': 'idle'})
                self._send_text(conv, 
                    "âŒ Xin lá»—i, cÃ³ lá»—i xáº£y ra khi táº¡o Ä‘Æ¡n hÃ ng.\n\n"
                    "Vui lÃ²ng thá»­ láº¡i hoáº·c liÃªn há»‡ hotline Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£!")
        
        # User cancels order
        elif any(kw in msg_lower for kw in ['khÃ´ng', 'no', 'há»§y', 'cancel']):
            conv.sudo().write({
                'chatbot_state': 'show_products',
                'selected_product_ids': [(5, 0, 0)]  # Clear selected products
            })
            self._send_text(conv, "ÄÃ£ há»§y Ä‘Æ¡n hÃ ng. Báº¡n cÃ³ thá»ƒ chá»n láº¡i sáº£n pháº©m! ğŸ”„")
            self._send_product_list(conv)
        
        else:
            self._send_text(conv, 
                'âš ï¸ Vui lÃ²ng tráº£ lá»i:\n'
                'âœ… "CÃ³" - Ä‘á»ƒ xÃ¡c nháº­n Ä‘áº·t hÃ ng\n'
                'âŒ "KhÃ´ng" - Ä‘á»ƒ há»§y vÃ  chá»n láº¡i')
    
    def _state_completed(self, conv, msg):
        """State: completed - ÄÆ¡n hÃ ng Ä‘Ã£ hoÃ n táº¥t"""
        if self._is_in_cooldown(conv):
            self._send_text(conv, 
                "ÄÆ¡n hÃ ng cá»§a báº¡n Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½. "
                "ChÃºng tÃ´i sáº½ liÃªn há»‡ sá»›m nháº¥t! ğŸ“")
        else:
            # Cooldown expired, reset to idle
            conv.sudo().write({'chatbot_state': 'idle'})
            self._state_idle(conv, msg)
    
    # =========================================================================
    # âœ… CORE BUSINESS LOGIC - Táº O SALE ORDER TRá»°C TIáº¾P
    # =========================================================================
    
    def _create_sale_order_directly(self, conv):
        """
        âœ… Táº O SALE ORDER TRá»°C TIáº¾P (khÃ´ng qua social.messenger.order)
        
        Args:
            conv (social.message): Conversation record
        
        Returns:
            sale.order: Created sale order
        """
        # 1. Find or create partner
        partner = self._find_or_create_partner(conv)
        
        # 2. Create sale.order
        sale_vals = {
            'partner_id': partner.id,
            'company_id': conv.company_id.id,
            'date_order': fields.Datetime.now(),
            'origin': 'Facebook Messenger - %s' % conv.facebook_user_id,
            'note': 'ÄÆ¡n hÃ ng tá»« Facebook Messenger\nPSID: %s' % conv.facebook_user_id,
        }
        
        # Get default salesperson from settings
        default_user_id = request.env['ir.config_parameter'].sudo().get_param(
            'module_social_facebook.lead_default_user_id'
        )
        if default_user_id:
            sale_vals['user_id'] = int(default_user_id)
        
        sale_order = request.env['sale.order'].sudo().create(sale_vals)
        
        _logger.info('âœ… Created sale.order: %s for partner: %s', 
                     sale_order.name, partner.name)
        
        # 3. Add order lines
        for product in conv.selected_product_ids:
            line_vals = {
                'order_id': sale_order.id,
                'product_id': product.product_id.id,
                'product_uom_qty': 1,
                'price_unit': product.price,
            }
            request.env['sale.order.line'].sudo().create(line_vals)
            
            _logger.info('  â• Added product: %s - %s Ä‘', 
                        product.product_id.name, product.price)
        
        # 4. Add note to chatter
        sale_order.message_post(
            body='ÄÆ¡n hÃ ng táº¡o tá»« Facebook Messenger chatbot\n'
                 'KhÃ¡ch hÃ ng: %s\n'
                 'SÄT: %s\n'
                 'PSID: %s' % (
                     conv.customer_name,
                     conv.customer_phone,
                     conv.facebook_user_id
                 ),
            subject='Facebook Messenger Order',
            message_type='comment',
            subtype_xmlid='mail.mt_note'
        )
        
        return sale_order
    
    def _find_or_create_partner(self, conv):
        """
        TÃ¬m hoáº·c táº¡o res.partner tá»« conversation data
        
        Args:
            conv (social.message): Conversation record
        
        Returns:
            res.partner: Partner record
        """
        Partner = request.env['res.partner'].sudo()
        
        # Search by phone first
        if conv.customer_phone:
            partner = Partner.search([
                ('phone', '=', conv.customer_phone),
                ('company_id', 'in', [False, conv.company_id.id]),
            ], limit=1)
            
            if partner:
                _logger.info('âœ… Found existing partner: %s (by phone)', partner.name)
                return partner
        
        # Create new partner
        partner_vals = {
            'name': conv.customer_name,
            'phone': conv.customer_phone,
            'company_id': conv.company_id.id,
            'comment': 'Created from Facebook Messenger chatbot\nPSID: %s' % conv.facebook_user_id,
        }
        
        # Add facebook_user_id if field exists
        if 'facebook_user_id' in Partner._fields:
            partner_vals['facebook_user_id'] = conv.facebook_user_id
        
        partner = Partner.create(partner_vals)
        
        _logger.info('âœ… Created new partner: %s (ID: %s)', partner.name, partner.id)
        
        return partner
    
    # =========================================================================
    # HELPER METHODS
    # =========================================================================
    
    def _handle_product_selection(self, conv, product_id):
        """Xá»­ lÃ½ khi user chá»n sáº£n pháº©m"""
        try:
            product = request.env['social.messenger.product'].sudo().browse(product_id)
            
            if not product.exists():
                self._send_text(conv, "âŒ Sáº£n pháº©m khÃ´ng tá»“n táº¡i!")
                return
            
            # Update conversation with selected product
            conv.sudo().write({
                'selected_product_ids': [(6, 0, [product.id])],
                'chatbot_state': 'confirm_order'
            })
            
            # Format price
            price_text = "{:,.0f}Ä‘".format(product.price) if product.price > 0 else "LiÃªn há»‡"
            
            # Send confirmation message
            confirm_msg = """âœ… Báº¡n Ä‘Ã£ chá»n:

ğŸ“¦ Sáº£n pháº©m: %s
ğŸ”¢ Sá»‘ lÆ°á»£ng: 1
ğŸ’° GiÃ¡: %s

ğŸ‘¤ KhÃ¡ch hÃ ng: %s
ğŸ“ SÄT: %s

XÃ¡c nháº­n Ä‘áº·t hÃ ng?

ğŸ‘‰ Gá»­i "CÃ³" Ä‘á»ƒ xÃ¡c nháº­n
ğŸ‘‰ Gá»­i "KhÃ´ng" Ä‘á»ƒ chá»n láº¡i""" % (
                product.product_id.name,
                price_text,
                conv.customer_name,
                conv.customer_phone
            )
            
            self._send_text(conv, confirm_msg)
            
        except Exception as e:
            _logger.error('âŒ Product selection error: %s', e)
            self._send_text(conv, "CÃ³ lá»—i xáº£y ra. Vui lÃ²ng thá»­ láº¡i!")
    
    def _send_text(self, conv, text):
        """
        Gá»­i tin nháº¯n text qua Facebook Send API
        
        Args:
            conv (social.message): Conversation record
            text (str): Message text
        
        Returns:
            bool: True if success
        """
        url = 'https://graph.facebook.com/v18.0/me/messages'
        
        payload = {
            'recipient': {'id': conv.facebook_user_id},
            'message': {'text': text},
            'messaging_type': 'RESPONSE'
        }
        
        params = {'access_token': conv.account_id.access_token}
        
        try:
            resp = requests.post(url, json=payload, params=params, timeout=10)
            success = resp.status_code == 200
            
            if success:
                _logger.debug('âœ… Message sent to %s', conv.facebook_user_id)
            else:
                _logger.error('âŒ Send failed: %s', resp.text)
            
            return success
            
        except Exception as e:
            _logger.error('âŒ Send error: %s', e)
            return False
    
    def _send_product_list(self, conv):
        """Gá»­i danh sÃ¡ch sáº£n pháº©m vá»›i quick reply buttons"""
        # Get active products
        products = request.env['social.messenger.product'].sudo().search([
            ('active', '=', True),
            ('company_id', '=', conv.company_id.id)
        ], order='sequence, id')
        
        if not products:
            self._send_text(conv, "Xin lá»—i, hiá»‡n táº¡i chÆ°a cÃ³ sáº£n pháº©m nÃ o!")
            return
        
        # Build product list text
        product_list = "ğŸ“¦ Danh sÃ¡ch sáº£n pháº©m:\n\n"
        
        for idx, p in enumerate(products, 1):
            price = "{:,.0f}Ä‘".format(p.price) if p.price > 0 else "LiÃªn há»‡"
            product_list += "%s. %s - %s\n" % (idx, p.product_id.name, price)
        
        product_list += "\nğŸ‘‡ Vui lÃ²ng chá»n sáº£n pháº©m:"
        
        # Build quick reply buttons (max 11)
        quick_replies = []
        for p in products[:11]:
            quick_replies.append({
                'content_type': 'text',
                'title': p.quick_reply_title or p.product_id.name[:20],
                'payload': 'PRODUCT_%s' % p.id
            })
        
        # Send message with quick replies
        url = 'https://graph.facebook.com/v18.0/me/messages'
        
        payload = {
            'recipient': {'id': conv.facebook_user_id},
            'message': {
                'text': product_list,
                'quick_replies': quick_replies
            },
            'messaging_type': 'RESPONSE'
        }
        
        params = {'access_token': conv.account_id.access_token}
        
        try:
            resp = requests.post(url, json=payload, params=params, timeout=10)
            if resp.status_code == 200:
                _logger.info('âœ… Product list sent to %s', conv.facebook_user_id)
            else:
                _logger.error('âŒ Failed to send product list: %s', resp.text)
        except Exception as e:
            _logger.error('âŒ Error sending product list: %s', e)
    
    def _validate_order_data(self, conv):
        """
        Validate order data before creating sale order
        
        Returns:
            dict: {'valid': bool, 'errors': str}
        """
        errors = []
        
        if not conv.customer_name:
            errors.append("Thiáº¿u tÃªn khÃ¡ch hÃ ng")
        
        if not conv.customer_phone:
            errors.append("Thiáº¿u sá»‘ Ä‘iá»‡n thoáº¡i")
        
        if not conv.selected_product_ids:
            errors.append("ChÆ°a chá»n sáº£n pháº©m")
        
        return {
            'valid': len(errors) == 0,
            'errors': ', '.join(errors)
        }
    
    def _format_order_lines(self, sale_order):
        """Format order lines for display"""
        lines = []
        for line in sale_order.order_line:
            lines.append("  â€¢ %s x%s - %s Ä‘" % (
                line.product_id.name,
                int(line.product_uom_qty),
                "{:,.0f}".format(line.price_unit)
            ))
        return "\n".join(lines)
    
    def _set_cooldown(self, conv):
        """Set cooldown period after order completion"""
        try:
            cooldown_until = datetime.now() + timedelta(minutes=5)
            conv.sudo().write({'cooldown_until': cooldown_until})
            _logger.info('â° Cooldown set until %s', cooldown_until)
        except Exception as e:
            _logger.error('âŒ Failed to set cooldown: %s', e)
    
    def _is_in_cooldown(self, conv):
        """Check if conversation is in cooldown period"""
        if not hasattr(conv, 'cooldown_until'):
            return False
        
        if conv.cooldown_until and conv.cooldown_until > datetime.now():
            return True
        
        return False
    
    def _extract_product_id(self, payload):
        """Extract product ID from payload string"""
        try:
            return int(payload.replace('PRODUCT_', ''))
        except:
            return None
    
    def _find_or_create_conversation(self, sender_id, recipient_id):
        """
        Find or create conversation record
        
        Args:
            sender_id (str): Facebook user PSID
            recipient_id (str): Facebook page ID
        
        Returns:
            social.message: Conversation record or None
        """
        # Find account by page ID
        account = request.env['social.account'].sudo().search([
            ('facebook_page_id', '=', recipient_id)
        ], limit=1)
        
        if not account:
            _logger.warning('âŒ Account not found for page: %s', recipient_id)
            return None
        
        # Find existing conversation
        conv = request.env['social.message'].sudo().search([
            ('facebook_user_id', '=', sender_id),
            ('account_id', '=', account.id),
        ], limit=1)
        
        if conv:
            _logger.debug('âœ… Found existing conversation: %s', conv.id)
            return conv
        
        # Create new conversation
        conv_vals = {
            'facebook_user_id': sender_id,
            'account_id': account.id,
            'company_id': account.company_id.id,
            'chatbot_state': 'idle',
        }
        
        try:
            conv = request.env['social.message'].sudo().create(conv_vals)
            _logger.info('âœ… Created new conversation: %s', conv.id)
            return conv
        except Exception as e:
            _logger.error('âŒ Failed to create conversation: %s', e)
            return None



################################################################################
## FILE 6: chatbot_data.xml
## ÄÆ°á»ng dáº«n: data/chatbot_data.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Purchase Intent Rule - Vietnamese -->
        <record id="chatbot_rule_purchase_intent_vietnamese" model="social.chatbot.automation">
            <field name="name">Mua hÃ ng - Tiáº¿ng Viá»‡t</field>
            <field name="trigger_keywords">mua,Ä‘áº·t hÃ ng,muá»‘n mua,Ä‘áº·t mua</field>
            <field name="response_text">Cáº£m Æ¡n báº¡n Ä‘Ã£ quan tÃ¢m Ä‘áº¿n sáº£n pháº©m cá»§a chÃºng tÃ´i! ğŸ‰

TÃ´i Ä‘Ã£ ghi nháº­n nhu cáº§u mua hÃ ng cá»§a báº¡n vÃ  Ä‘á»™i ngÅ© tÆ° váº¥n sáº½ liÃªn há»‡ vá»›i báº¡n trong thá»i gian sá»›m nháº¥t.

Äá»ƒ Ä‘Æ°á»£c há»— trá»£ nhanh hÆ¡n, báº¡n vui lÃ²ng cho tÃ´i biáº¿t:
- Sáº£n pháº©m báº¡n quan tÃ¢m
- Sá»‘ lÆ°á»£ng cáº§n mua
- Thá»i gian dá»± kiáº¿n nháº­n hÃ ng

Xin cáº£m Æ¡n! ğŸ™</field>
            <field name="priority">100</field>
            <field name="active" eval="True"/>
        </record>

        <!-- Purchase Intent Rule - English -->
        <record id="chatbot_rule_purchase_intent_english" model="social.chatbot.automation">
            <field name="name">Purchase - English</field>
            <field name="trigger_keywords">buy,order,purchase,want to buy</field>
            <field name="response_text">Thank you for your interest in our products! ğŸ‰

I've noted your purchase request and our sales team will contact you as soon as possible.

For faster assistance, please provide:
- Product(s) you're interested in
- Quantity needed
- Expected delivery time

Thank you! ğŸ™</field>
            <field name="priority">100</field>
            <field name="active" eval="True"/>
        </record>

        <!-- Greeting Rule -->
        <record id="chatbot_rule_greeting" model="social.chatbot.automation">
            <field name="name">ChÃ o há»i</field>
            <field name="trigger_keywords">xin chÃ o,chÃ o,hello,hi,hey</field>
            <field name="response_text">Xin chÃ o! ğŸ‘‹ Cáº£m Æ¡n báº¡n Ä‘Ã£ nháº¯n tin cho chÃºng tÃ´i.

TÃ´i cÃ³ thá»ƒ giÃºp gÃ¬ cho báº¡n hÃ´m nay?</field>
            <field name="priority">50</field>
            <field name="active" eval="True"/>
        </record>

        <!-- Pricing Rule -->
        <record id="chatbot_rule_pricing" model="social.chatbot.automation">
            <field name="name">Há»i giÃ¡</field>
            <field name="trigger_keywords">giÃ¡,bao nhiÃªu,price,cost,how much</field>
            <field name="response_text">Äá»ƒ tÆ° váº¥n giÃ¡ chÃ­nh xÃ¡c nháº¥t, báº¡n vui lÃ²ng cho tÃ´i biáº¿t:
- Sáº£n pháº©m báº¡n quan tÃ¢m
- Sá»‘ lÆ°á»£ng cáº§n mua

Äá»™i ngÅ© cá»§a chÃºng tÃ´i sáº½ bÃ¡o giÃ¡ chi tiáº¿t trong thá»i gian sá»›m nháº¥t! ğŸ’°</field>
            <field name="priority">70</field>
            <field name="active" eval="True"/>
        </record>

    </data>
</odoo>



################################################################################
## FILE 7: facebook_post_template_data.xml
## ÄÆ°á»ng dáº«n: data/facebook_post_template_data.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- TEMPLATE BÃ€I ÄÄ‚NG MáºªU -->

        <record id="template_new_product_launch" model="social.post.template">
            <field name="name">ğŸš€ Ra Máº¯t Sáº£n Pháº©m Má»›i</field>
            <field name="template_type">product_launch</field>
            <field name="content"><![CDATA[ğŸ‰ EXCITING NEWS! ğŸ‰

We're thrilled to announce our latest product: {{product_name}}!

âœ¨ Key Features:
{{feature_list}}

ğŸ’° Special Launch Price: {{price}}
ğŸ Limited time offer: {{offer_details}}

ğŸ‘‰ Shop now: {{shop_link}}

#NewProduct #Launch #{{company_name}}]]></field>
        </record>

        <record id="template_flash_sale" model="social.post.template">
            <field name="name">âš¡ Flash Sale</field>
            <field name="template_type">promotion</field>
            <field name="content"><![CDATA[âš¡ FLASH SALE ALERT! âš¡

ğŸ”¥ {{discount_percentage}}% OFF on {{product_category}}!

â° Hurry! Only {{hours_left}} hours left!
ğŸ›’ Shop now: {{shop_link}}

Don't miss out on this amazing deal! ğŸ¯

#FlashSale #Discount #LimitedOffer #{{company_name}}]]></field>
        </record>

        <record id="template_customer_testimonial" model="social.post.template">
            <field name="name">ğŸ’¬ ÄÃ¡nh GiÃ¡ KhÃ¡ch HÃ ng</field>
            <field name="template_type">testimonial</field>
            <field name="content"><![CDATA[â­â­â­â­â­

"{{testimonial_text}}"

- {{customer_name}}

Thank you for your amazing feedback! ğŸ’™

We love hearing from our satisfied customers. Your trust means the world to us! ğŸ™

#CustomerLove #Testimonial #{{company_name}}]]></field>
        </record>

        <record id="template_weekly_tips" model="social.post.template">
            <field name="name">ğŸ’¡ Tips HÃ ng Tuáº§n</field>
            <field name="template_type">educational</field>
            <field name="content"><![CDATA[ğŸ’¡ TIP OF THE WEEK ğŸ’¡

{{tip_title}}

{{tip_description}}

ğŸ‘‰ Try it out and let us know your results!

Have questions? Drop them in the comments below! ğŸ‘‡

#Tips #DidYouKnow #{{company_name}}]]></field>
        </record>

        <record id="template_behind_the_scenes" model="social.post.template">
            <field name="name">ğŸ¬ Behind The Scenes</field>
            <field name="template_type">engagement</field>
            <field name="content"><![CDATA[ğŸ¬ BEHIND THE SCENES ğŸ¬

Ever wondered how we {{process_description}}?

Here's a sneak peek into our {{department_name}} team! ğŸ‘€

{{additional_details}}

Drop a â¤ï¸ if you'd like to see more behind-the-scenes content!

#BehindTheScenes #TeamWork #{{company_name}}]]></field>
        </record>

        <record id="template_event_announcement" model="social.post.template">
            <field name="name">ğŸ“… ThÃ´ng BÃ¡o Sá»± Kiá»‡n</field>
            <field name="template_type">event</field>
            <field name="content"><![CDATA[ğŸ“… SAVE THE DATE! ğŸ“…

{{event_name}}

ğŸ“ Location: {{location}}
ğŸ—“ï¸ Date: {{event_date}}
â° Time: {{event_time}}

{{event_description}}

ğŸŸï¸ Register now: {{registration_link}}

Limited seats available! Don't miss out! ğŸ¯

#Event #SaveTheDate #{{company_name}}]]></field>
        </record>

    </data>
</odoo>



################################################################################
## FILE 8: ir_cron_data.xml
## ÄÆ°á»ng dáº«n: data/ir_cron_data.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->
    <!-- CRON JOBS - Facebook Synchronization -->
    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->

    <!-- Cron: Sync Facebook Posts -->
    <record id="cron_sync_facebook_posts" model="ir.cron">
        <field name="name">Facebook: Sync Posts</field>
        <field name="model_id" ref="model_social_post"/>
        <field name="state">code</field>
        <field name="code">model._cron_sync_posts()</field>
        <field name="interval_number">15</field>
        <field name="interval_type">minutes</field>
        <field name="active">True</field>
    </record>

    <!-- Cron: Sync Facebook Comments -->
    <record id="cron_sync_facebook_comments" model="ir.cron">
        <field name="name">Facebook: Sync Comments</field>
        <field name="model_id" ref="model_social_comment"/>
        <field name="state">code</field>
        <field name="code">model._cron_sync_comments()</field>
        <field name="interval_number">10</field>
        <field name="interval_type">minutes</field>
        <field name="active">True</field>
    </record>

    <!-- Cron: Publish Scheduled Posts -->
    <record id="cron_publish_scheduled_posts" model="ir.cron">
        <field name="name">Facebook: Publish Scheduled Posts</field>
        <field name="model_id" ref="model_social_post"/>
        <field name="state">code</field>
        <field name="code">model._cron_publish_scheduled_posts()</field>
        <field name="interval_number">5</field>
        <field name="interval_type">minutes</field>
        <field name="active">True</field>
    </record>

    <!-- 
    NOTE: Ngrok health check Ä‘Ã£ bá»‹ XÃ“A
    LÃ½ do: Odoo 19 cáº¥m opcode IMPORT_NAME trong cron code
    Náº¿u cáº§n kiá»ƒm tra ngrok, dÃ¹ng external monitoring tool
    -->

</odoo>



################################################################################
## FILE 9: mail_template_data.xml
## ÄÆ°á»ng dáº«n: data/mail_template_data.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- EMAIL NOTIFICATION TEMPLATES -->

        <record id="mail_template_post_published" model="mail.template">
            <field name="name">Social Facebook: Post Published</field>
            <field name="model_id" ref="model_social_post"/>
            <field name="subject">Your Facebook post has been published</field>
            <field name="body_html"><![CDATA[
<div style="font-family: Arial, sans-serif;">
    <h3>Post Published Successfully!</h3>
    <p>Your post has been published to Facebook:</p>
    <blockquote style="border-left: 3px solid #1877f2; padding-left: 10px;">
        ${object.content}
    </blockquote>
    <p>
        <strong>Page:</strong> ${object.account_id.name}<br/>
        <strong>Published:</strong> ${object.published_date}<br/>
    </p>
    <p><a href="${object.facebook_post_url}" style="color: #1877f2;">View on Facebook</a></p>
</div>
            ]]></field>
        </record>

        <record id="mail_template_new_comment" model="mail.template">
            <field name="name">Social Facebook: New Comment</field>
            <field name="model_id" ref="model_social_comment"/>
            <field name="subject">New comment on your Facebook post</field>
            <field name="body_html"><![CDATA[
<div style="font-family: Arial, sans-serif;">
    <h3>New Comment Received!</h3>
    <p><strong>${object.author_name}</strong> commented:</p>
    <blockquote style="border-left: 3px solid #1877f2; padding-left: 10px;">
        ${object.message}
    </blockquote>
    <p>On post: "${object.post_id.content[:100]}..."</p>
    <p><a href="/web#id=${object.id}&model=social.comment" style="color: #1877f2;">Reply in Odoo</a></p>
</div>
            ]]></field>
        </record>

    </data>
</odoo>



################################################################################
## FILE 10: user_groups_data.xml
## ÄÆ°á»ng dáº«n: data/user_groups_data.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ThÃªm Admin vÃ o groups Social Facebook -->
    <!-- âœ… Sá»¬A: Äá»•i tÃªn group reference cho khá»›p -->
    <record id="base.user_admin" model="res.users">
        <field name="group_ids" eval="[(4, ref('module_social_facebook.group_social_facebook_manager'))]"/>
    </record>

</odoo>



################################################################################
## FILE 11: generate_doc_3.py
## ÄÆ°á»ng dáº«n: generate_doc_3.py
################################################################################

import os
import datetime

# -------------------------------------------------------------
# CONFIG
# -------------------------------------------------------------
OUTPUT_NAME = None  # None -> tá»± Ä‘áº·t tÃªn theo thÆ° má»¥c module

# ğŸš« ThÆ° má»¥c bá»‹ loáº¡i trá»« á»Ÿ má»i cáº¥p
EXCLUDED_DIRS = {
    "__pycache__",
    ".git",          # âœ… NEW: cháº·n thÆ° má»¥c git
}


# -------------------------------------------------------------
# HÃ€M Táº O BANNER
# -------------------------------------------------------------
def make_banner(module_name):
    banner = f"""
################################################################################
#                      {module_name.upper():<50}#
#                   ODOO MODULE DOCUMENTATION GENERATOR                     #
#                           Version 1.3.0 - Enterprise Style                #
################################################################################
"""
    return banner


# -------------------------------------------------------------
# HÃ€M QUÃ‰T FILES (Bá» QUA __pycache__, .git)
# -------------------------------------------------------------
def scan_files(root):
    file_list = []

    for base, dirs, files in os.walk(root):
        # ğŸ”¥ CHáº¶N __pycache__ & .git á» Má»ŒI Cáº¤P
        dirs[:] = [d for d in dirs if d not in EXCLUDED_DIRS]

        dirs.sort()
        files.sort()

        for f in files:
            full_path = os.path.join(base, f)
            rel = os.path.relpath(full_path, root).replace("\\", "/")
            file_list.append(rel)

    return file_list


# -------------------------------------------------------------
# HÃ€M XÃC Äá»ŠNH LOáº I FILE
# -------------------------------------------------------------
def detect_type(file):
    ext = file.lower().split(".")[-1]
    if ext == "py":
        return "Python"
    if ext == "xml":
        return "XML"
    if ext == "csv":
        return "CSV"
    if ext == "js":
        return "JS"
    if ext == "css":
        return "CSS"
    if ext in ["png", "jpg", "jpeg", "svg"]:
        return "Image"
    return "Other"


# -------------------------------------------------------------
# HÃ€M SINH CÃ‚Y THÆ¯ Má»¤C Dáº NG TREE (ASCII)
# -------------------------------------------------------------
def generate_directory_tree(files):
    if not files:
        return ""

    tree = {}
    for path in files:
        parts = path.split("/")
        current = tree
        for part in parts:
            current = current.setdefault(part, {})

    lines = []

    def render(node, prefix="", is_root=True):
        items = list(node.items())
        for i, (name, children) in enumerate(items):
            is_last = (i == len(items) - 1)

            if is_root:
                connector = ""
                new_prefix = ""
            else:
                connector = "â””â”€â”€ " if is_last else "â”œâ”€â”€ "
                new_prefix = prefix + ("    " if is_last else "â”‚   ")

            icon = "ğŸ“" if children else "ğŸ“„"
            lines.append(f"{prefix}{connector}{icon} {name}")

            if children:
                render(children, new_prefix, is_root=False)

    render(tree)

    return "\n".join([
        "================================================================================",
        "                                ğŸ“‚ DIRECTORY TREE",
        "================================================================================",
        "\n".join(lines),
        "\n"
    ])


# -------------------------------------------------------------
# HÃ€M SINH Cáº¤U TRÃšC THÆ¯ Má»¤C Dáº NG STT
# -------------------------------------------------------------
def generate_tree(files, root):
    lines = []
    counter = 1

    lines.append("================================================================================")
    lines.append(f"                              Cáº¤U TRÃšC THÆ¯ Má»¤C - {len(files)} FILES")
    lines.append("================================================================================\n")

    for f in files:
        lines.append(f"{counter:>3}.  {f}")
        counter += 1

    lines.append("\n")
    return "\n".join(lines)


# -------------------------------------------------------------
# HÃ€M SINH Báº¢NG Tá»”NG Káº¾T FILES
# -------------------------------------------------------------
def generate_summary(files):
    lines = []

    lines.append("================================================================================")
    lines.append(f"                         Báº¢NG Tá»”NG Káº¾T {len(files)} FILES")
    lines.append("================================================================================")
    lines.append("â”‚  #  â”‚ ÄÆ°á»ng dáº«n file                                     â”‚ Loáº¡i     â”‚")
    lines.append("â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤")

    for idx, f in enumerate(files, 1):
        ftype = detect_type(f)
        lines.append(f"â”‚ {idx:<3} â”‚ {f:<50} â”‚ {ftype:<8} â”‚")

    lines.append("\n")
    return "\n".join(lines)


# -------------------------------------------------------------
# HÃ€M Äá»ŒC Ná»˜I DUNG FILE
# -------------------------------------------------------------
def read_file(fullpath):
    try:
        with open(fullpath, "r", encoding="utf-8") as f:
            return f.read()
    except:
        return "[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]"


# -------------------------------------------------------------
# HÃ€M SINH Ná»˜I DUNG CÃC FILE
# -------------------------------------------------------------
def generate_file_contents(files, root):
    lines = []

    lines.append("\n================================================================================")
    lines.append("                              Ná»˜I DUNG CÃC FILES")
    lines.append("================================================================================\n")

    for idx, f in enumerate(files, 1):
        fullpath = os.path.join(root, f)

        lines.append("################################################################################")
        lines.append(f"## FILE {idx}: {os.path.basename(f)}")
        lines.append(f"## ÄÆ°á»ng dáº«n: {f}")
        lines.append("################################################################################\n")

        lines.append(read_file(fullpath))
        lines.append("\n\n")

    return "\n".join(lines)


# -------------------------------------------------------------
# MAIN
# -------------------------------------------------------------
def main():
    root = os.path.dirname(os.path.abspath(__file__))
    module_name = os.path.basename(root)

    now = datetime.datetime.now().strftime("%Y-%m-%d_%Hh%M")
    output_file = OUTPUT_NAME or f"{module_name}_DOCUMENTATION_{now}.txt"

    files = sorted(scan_files(root))

    output = [
        make_banner(module_name),
        generate_directory_tree(files),
        generate_tree(files, root),
        generate_summary(files),
        generate_file_contents(files, root),
    ]

    with open(output_file, "w", encoding="utf-8") as f:
        f.write("\n".join(output))

    print(f"\nDONE! File generated: {output_file}")


if __name__ == "__main__":
    main()




################################################################################
## FILE 12: __init__.py
## ÄÆ°á»ng dáº«n: lib/__init__.py
################################################################################

from . import facebook_api



################################################################################
## FILE 13: facebook_api.py
## ÄÆ°á»ng dáº«n: lib/facebook_api.py
################################################################################

# -*- coding: utf-8 -*-

import requests
import logging

_logger = logging.getLogger(__name__)


class FacebookAPI:
    """
    Wrapper for Facebook Graph API.
    Version: v18.0
    """
    
    API_VERSION = 'v18.0'
    BASE_URL = f'https://graph.facebook.com/{API_VERSION}'
    
    def __init__(self, access_token):
        """
        Initialize API wrapper.
        
        Args:
            access_token (str): Page Access Token
        """
        self.access_token = access_token
    
    # -------------------------------------------------------------------------
    # PAGE METHODS
    # -------------------------------------------------------------------------
    
    def get_page_info(self, page_id):
        """Get page information"""
        url = f"{self.BASE_URL}/{page_id}"
        params = {
            'access_token': self.access_token,
            'fields': 'id,name,category,picture,fan_count,link'
        }
        response = requests.get(url, params=params)
        return response.json()
    
    def publish_post(self, page_id, message, **kwargs):
        """Publish a post to page"""
        url = f"{self.BASE_URL}/{page_id}/feed"
        data = {
            'access_token': self.access_token,
            'message': message,
        }
        data.update(kwargs)
        response = requests.post(url, data=data)
        return response.json()
    
    # -------------------------------------------------------------------------
    # âœ… MESSENGER SEND API - FIXED
    # -------------------------------------------------------------------------
    
    def send_message(self, recipient_id, message_text):
        """
        âœ… FIX: Send text message via Messenger Send API.
        
        Args:
            recipient_id (str): PSID of recipient
            message_text (str): Text message to send
        
        Returns:
            dict: API response with message_id
            
        Example:
            >>> api = FacebookAPI('token123')
            >>> api.send_message('user456', 'Hello!')
            {'recipient_id': 'user456', 'message_id': 'mid.xxx'}
        """
        url = f"{self.BASE_URL}/me/messages"
        
        payload = {
            'recipient': {'id': recipient_id},
            'message': {'text': message_text},
            'messaging_type': 'RESPONSE'
        }
        
        params = {'access_token': self.access_token}
        
        try:
            response = requests.post(url, json=payload, params=params, timeout=30)
            response.raise_for_status()
            
            # âœ… FIX: Parse JSON an toÃ n
            try:
                result = response.json()
                
                # âœ… Check result lÃ  dict
                if isinstance(result, dict):
                    message_id = result.get('message_id', 'N/A')
                    _logger.info(f"âœ… Message sent to {recipient_id}: {message_id}")
                else:
                    # Result lÃ  list hoáº·c kiá»ƒu khÃ¡c
                    _logger.info(f"âœ… Message sent to {recipient_id}")
                    result = {'success': True}
                
                return result
                
            except Exception as json_error:
                _logger.warning(f"âš ï¸ JSON parse warning: {json_error}")
                return {'success': True}
            
        except requests.exceptions.HTTPError as e:
            # âœ… FIX: Handle HTTP errors
            try:
                error_data = e.response.json()
                
                # âœ… Check error_data type
                if isinstance(error_data, dict):
                    error_msg = error_data.get('error', {}).get('message', str(e))
                else:
                    error_msg = str(e)
            except:
                error_msg = str(e)
            
            _logger.error(f"âŒ Facebook API Error: {error_msg}")
            raise Exception(f"Facebook API Error: {error_msg}")
            
        except requests.exceptions.RequestException as e:
            _logger.error(f"âŒ Request failed: {e}")
            raise Exception(f"Failed to send message: {str(e)}")
    
    # -------------------------------------------------------------------------
    # CONVERSATION METHODS
    # -------------------------------------------------------------------------
    
    def get_conversation_messages(self, conversation_id, limit=25):
        """Get messages from a conversation"""
        url = f"{self.BASE_URL}/{conversation_id}"
        params = {
            'access_token': self.access_token,
            'fields': f'messages.limit({limit}){{id,created_time,from,to,message}}'
        }
        response = requests.get(url, params=params)
        return response.json()
    
    # -------------------------------------------------------------------------
    # LEADGEN API
    # -------------------------------------------------------------------------
    
    def get_leadgen_data(self, leadgen_id):
        """
        Láº¥y dá»¯ liá»‡u lead form tá»« Facebook.
        
        Endpoint: /{leadgen_id}
        Fields: field_data (contains name, phone, email, etc.)
        
        Args:
            leadgen_id (str): Lead generation ID from webhook
        
        Returns:
            dict: Lead data
                {
                    'id': '123',
                    'created_time': '2025-01-01T10:00:00+0000',
                    'field_data': [
                        {'name': 'full_name', 'values': ['John Doe']},
                        {'name': 'phone_number', 'values': ['+1234567890']},
                        {'name': 'email', 'values': ['john@example.com']},
                    ]
                }
        """
        url = f"{self.BASE_URL}/{leadgen_id}"
        params = {
            'access_token': self.access_token,
            'fields': 'id,created_time,field_data'
        }
        
        try:
            response = requests.get(url, params=params, timeout=10)
            response.raise_for_status()
            data = response.json()
            
            _logger.info(f'Successfully fetched leadgen data for {leadgen_id}')
            return data
            
        except requests.exceptions.RequestException as e:
            _logger.error(f'Failed to fetch leadgen {leadgen_id}: {e}')
            raise
    
    def get_leadgen_forms(self, page_id):
        """
        Láº¥y danh sÃ¡ch lead forms cá»§a page.
        
        Args:
            page_id (str): Facebook Page ID
        
        Returns:
            list: List of lead forms
        """
        url = f"{self.BASE_URL}/{page_id}/leadgen_forms"
        params = {
            'access_token': self.access_token,
            'fields': 'id,name,status,questions'
        }
        
        try:
            response = requests.get(url, params=params, timeout=10)
            response.raise_for_status()
            data = response.json()
            
            return data.get('data', [])
            
        except requests.exceptions.RequestException as e:
            _logger.error(f'Failed to fetch leadgen forms: {e}')
            return []
    
    # -------------------------------------------------------------------------
    # MESSENGER PROFILE API
    # -------------------------------------------------------------------------
    
    def set_get_started_button(self, payload='GET_STARTED'):
        """
        Set Get Started button for Messenger.
        
        Args:
            payload (str): Postback payload when button clicked
        """
        url = f"{self.BASE_URL}/me/messenger_profile"
        data = {
            'access_token': self.access_token,
            'get_started': {'payload': payload}
        }
        response = requests.post(url, json=data)
        return response.json()
    
    def set_greeting_text(self, greeting_text):
        """
        Set greeting text for Messenger.
        
        Args:
            greeting_text (str): Greeting message
        """
        url = f"{self.BASE_URL}/me/messenger_profile"
        data = {
            'access_token': self.access_token,
            'greeting': [
                {
                    'locale': 'default',
                    'text': greeting_text
                }
            ]
        }
        response = requests.post(url, json=data)
        return response.json()



################################################################################
## FILE 14: __init__.py
## ÄÆ°á»ng dáº«n: models/__init__.py
################################################################################

# -*- coding: utf-8 -*-

from . import crm_lead
from . import res_company
from . import res_config_settings
from . import social_account
from . import social_analytics
from . import social_comment
from . import social_conversation
from . import social_message
from . import social_messenger_order
from . import social_messenger_product
from . import social_post
from . import social_post_template
from . import social_chatbot_automation



################################################################################
## FILE 15: crm_lead.py
## ÄÆ°á»ng dáº«n: models/crm_lead.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _


class CrmLead(models.Model):
    """
    Má»Ÿ rá»™ng crm.lead Ä‘á»ƒ link vá»›i Facebook conversations.
    """
    _inherit = 'crm.lead'
    
    # Link to Facebook
    facebook_conversation_id = fields.Many2one(
        'social.message',
        string='Facebook Conversation',
        ondelete='set null',
        help='Conversation Messenger táº¡o ra lead nÃ y',
    )
    facebook_user_id = fields.Char(
        string='Facebook User ID',
        help='PSID cá»§a khÃ¡ch hÃ ng',
    )
    
    # Statistics
    messenger_message_count = fields.Integer(
        string='Messenger Messages',
        compute='_compute_messenger_stats',
        help='Sá»‘ tin nháº¯n trong conversation',
    )
    
    def _compute_messenger_stats(self):
        """TÃ­nh sá»‘ tin nháº¯n Messenger"""
        for lead in self:
            if lead.facebook_conversation_id:
                messages = self.env['social.message'].search_count([
                    ('conversation_id', '=', lead.facebook_conversation_id.id)
                ])
                lead.messenger_message_count = messages
            else:
                lead.messenger_message_count = 0
    
    def action_view_messenger_conversation(self):
        """Xem conversation Messenger"""
        self.ensure_one()
        if not self.facebook_conversation_id:
            return {'type': 'ir.actions.act_window_close'}
        
        return {
            'name': _('Messenger Conversation'),
            'type': 'ir.actions.act_window',
            'res_model': 'social.message',
            'res_id': self.facebook_conversation_id.id,
            'view_mode': 'form',
            'target': 'current',
        }



################################################################################
## FILE 16: res_company.py
## ÄÆ°á»ng dáº«n: models/res_company.py
################################################################################

from odoo import models, fields


class ResCompany(models.Model):
    _inherit = 'res.company'

    facebook_app_id = fields.Char(
        string='Facebook App ID',
        help='Facebook App ID for authentication'
    )
    
    facebook_app_secret = fields.Char(
        string='Facebook App Secret',
        help='Facebook App Secret for authentication'
    )
    
    facebook_webhook_verify_token = fields.Char(
        string='Webhook Verify Token',
        help='Token for Facebook webhook verification'
    )




################################################################################
## FILE 17: res_config_settings.py
## ÄÆ°á»ng dáº«n: models/res_config_settings.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import UserError
import subprocess
import requests
import logging
import os

_logger = logging.getLogger(__name__)


class ResConfigSettings(models.TransientModel):
    _inherit = 'res.config.settings'
    
    # -------------------------------------------------------------------------
    # FACEBOOK WEBHOOK CONFIG
    # -------------------------------------------------------------------------
    
    facebook_verify_token = fields.Char(
        string='Webhook Verify Token',
        config_parameter='module_social_facebook.verify_token',
        help='Token Ä‘á»ƒ verify webhook tá»« Facebook (GET request)',
    )
    facebook_webhook_url = fields.Char(
        string='Webhook URL',
        compute='_compute_webhook_url',
        help='URL webhook hiá»‡n táº¡i (localhost hoáº·c ngrok)',
    )
    
    # -------------------------------------------------------------------------
    # NGROK CONFIG
    # -------------------------------------------------------------------------
    
    ngrok_executable_path = fields.Char(
        string='Ngrok Executable Path',
        config_parameter='module_social_facebook.ngrok_path',
        default='C:/ngrok/ngrok.exe',
        help='ÄÆ°á»ng dáº«n Ä‘áº§y Ä‘á»§ tá»›i file ngrok.exe',
    )
    ngrok_tunnel_url = fields.Char(
        string='Ngrok Public URL',
        compute='_compute_ngrok_tunnel_url',
        help='URL cÃ´ng khai tá»« ngrok (https)',
    )
    ngrok_is_running = fields.Boolean(
        string='Ngrok Running',
        compute='_compute_ngrok_is_running',
        help='Tráº¡ng thÃ¡i ngrok',
    )
    
    # -------------------------------------------------------------------------
    # CRM INTEGRATION CONFIG
    # -------------------------------------------------------------------------
    
    auto_create_lead = fields.Boolean(
        string='Auto Create Leads',
        config_parameter='module_social_facebook.auto_create_lead',
        default=True,
        help='Tá»± Ä‘á»™ng táº¡o crm.lead tá»« Messenger conversations',
    )
    lead_default_user_id = fields.Many2one(
        'res.users',
        string='Default Salesperson',
        config_parameter='module_social_facebook.lead_default_user_id',
        help='NgÆ°á»i Ä‘Æ°á»£c assign lead máº·c Ä‘á»‹nh',
    )
    
    # -------------------------------------------------------------------------
    # CHATBOT CONFIG
    # -------------------------------------------------------------------------
    
    chatbot_enabled = fields.Boolean(
        string='Enable Sales Chatbot',
        config_parameter='module_social_facebook.chatbot_enabled',
        default=False,
        help='Báº­t chatbot bÃ¡n hÃ ng tá»± Ä‘á»™ng qua Messenger',
    )
    chatbot_welcome_message = fields.Text(
        string='Welcome Message',
        config_parameter='module_social_facebook.chatbot_welcome_message',
        default='Xin chÃ o! TÃ´i lÃ  trá»£ lÃ½ bÃ¡n hÃ ng tá»± Ä‘á»™ng. ğŸ˜Š\nBáº¡n vui lÃ²ng cho tÃ´i biáº¿t tÃªn cá»§a báº¡n?',
        help='Tin nháº¯n chÃ o má»«ng khi báº¯t Ä‘áº§u flow',
    )
    
    # -------------------------------------------------------------------------
    # COMPUTE METHODS
    # -------------------------------------------------------------------------
    
    @api.depends('ngrok_tunnel_url')
    def _compute_webhook_url(self):
        """TÃ­nh toÃ¡n webhook URL (ngrok hoáº·c localhost)"""
        for record in self:
            base_url = record.ngrok_tunnel_url or self.env['ir.config_parameter'].sudo().get_param('web.base.url', 'http://localhost:8069')
            record.facebook_webhook_url = f"{base_url}/social/facebook/webhook"
    
    def _compute_ngrok_tunnel_url(self):
        """Láº¥y URL ngrok tá»« API"""
        for record in self:
            try:
                # Query ngrok API (default: http://127.0.0.1:4040/api/tunnels)
                response = requests.get('http://127.0.0.1:4040/api/tunnels', timeout=2)
                if response.status_code == 200:
                    data = response.json()
                    tunnels = data.get('tunnels', [])
                    for tunnel in tunnels:
                        if tunnel.get('proto') == 'https':
                            record.ngrok_tunnel_url = tunnel.get('public_url')
                            return
                record.ngrok_tunnel_url = False
            except Exception as e:
                _logger.debug(f'Failed to get ngrok URL: {e}')
                record.ngrok_tunnel_url = False
    
    def _compute_ngrok_is_running(self):
        """Kiá»ƒm tra ngrok cÃ³ Ä‘ang cháº¡y khÃ´ng"""
        for record in self:
            record.ngrok_is_running = bool(record.ngrok_tunnel_url)
    
    # -------------------------------------------------------------------------
    # NGROK ACTIONS
    # -------------------------------------------------------------------------
    
    def action_start_ngrok(self):
        """
        Khá»Ÿi Ä‘á»™ng ngrok subprocess.
        
        Command: ngrok.exe http 8069
        Process cháº¡y background, khÃ´ng block Odoo.
        """
        self.ensure_one()
        
        ngrok_path = self.ngrok_executable_path or 'C:/ngrok/ngrok.exe'
        
        # Check if file exists
        if not os.path.exists(ngrok_path):
            raise UserError(_(
                'Ngrok executable not found at: %s\n'
                'Please update the path in settings!'
            ) % ngrok_path)
        
        # Check if already running
        if self.ngrok_is_running:
            raise UserError(_('Ngrok is already running!'))
        
        try:
            # Start ngrok subprocess
            # Use Popen to run in background
            subprocess.Popen(
                [ngrok_path, 'http', '8069'],
                stdout=subprocess.DEVNULL,
                stderr=subprocess.DEVNULL,
                creationflags=subprocess.CREATE_NEW_CONSOLE if os.name == 'nt' else 0
            )
            
            _logger.info('Ngrok started successfully')
            
            return {
                'type': 'ir.actions.client',
                'tag': 'display_notification',
                'params': {
                    'title': _('Success'),
                    'message': _('Ngrok started! Please wait 5 seconds then refresh to see the URL.'),
                    'type': 'success',
                    'sticky': False,
                }
            }
            
        except Exception as e:
            _logger.error(f'Failed to start ngrok: {e}')
            raise UserError(_(
                'Failed to start ngrok: %s\n'
                'Please check the executable path and try again.'
            ) % str(e))
    
    def action_stop_ngrok(self):
        """
        Dá»«ng ngrok process.
        
        Kill táº¥t cáº£ process ngrok Ä‘ang cháº¡y.
        """
        self.ensure_one()
        
        try:
            if os.name == 'nt':  # Windows
                subprocess.run(['taskkill', '/F', '/IM', 'ngrok.exe'], 
                             stdout=subprocess.DEVNULL, 
                             stderr=subprocess.DEVNULL)
            else:  # Linux/Mac
                subprocess.run(['pkill', 'ngrok'], 
                             stdout=subprocess.DEVNULL, 
                             stderr=subprocess.DEVNULL)
            
            _logger.info('Ngrok stopped')
            
            return {
                'type': 'ir.actions.client',
                'tag': 'display_notification',
                'params': {
                    'title': _('Success'),
                    'message': _('Ngrok stopped successfully!'),
                    'type': 'success',
                    'sticky': False,
                }
            }
            
        except Exception as e:
            _logger.error(f'Failed to stop ngrok: {e}')
            raise UserError(_('Failed to stop ngrok: %s') % str(e))
    
    def action_refresh_ngrok_url(self):
        """Refresh Ä‘á»ƒ láº¥y ngrok URL má»›i"""
        self._compute_ngrok_tunnel_url()
        
        if self.ngrok_tunnel_url:
            message = _('Ngrok URL: %s') % self.ngrok_tunnel_url
            msg_type = 'success'
        else:
            message = _('Ngrok is not running or URL not available.')
            msg_type = 'warning'
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Ngrok Status'),
                'message': message,
                'type': msg_type,
                'sticky': False,
            }
        }
    
    def action_copy_webhook_url(self):
        """Copy webhook URL to clipboard (via notification)"""
        self.ensure_one()
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Webhook URL'),
                'message': _('Webhook URL: %s\nCopy vÃ  dÃ¡n vÃ o Facebook App Settings!') % self.facebook_webhook_url,
                'type': 'info',
                'sticky': True,
            }
        }
    



################################################################################
## FILE 18: social_account.py
## ÄÆ°á»ng dáº«n: models/social_account.py
################################################################################

from odoo import models, fields, api, _
from odoo.exceptions import UserError
import requests
import logging

_logger = logging.getLogger(__name__)


class SocialAccount(models.Model):
    _name = 'social.account'
    _description = 'Facebook Account'
    _order = 'name'
    _inherit = ['mail.thread', 'mail.activity.mixin']

    name = fields.Char(string='Page Name', required=True, tracking=True)
    platform = fields.Selection([('facebook', 'Facebook')], string='Platform', default='facebook', required=True)
    facebook_page_id = fields.Char(string='Facebook Page ID', required=True, tracking=True)
    facebook_page_url = fields.Char(string='Page URL', compute='_compute_page_url', store=True)
    
    access_token = fields.Char(string='Access Token', required=True)
    token_expires_at = fields.Datetime(string='Token Expires At')
    is_token_valid = fields.Boolean(string='Token Valid', compute='_compute_token_valid')
    
    page_category = fields.Char(string='Category')
    page_about = fields.Text(string='About')
    followers_count = fields.Integer(string='Followers', default=0)
    likes_count = fields.Integer(string='Likes', default=0)
    page_rating = fields.Float(string='Rating', digits=(2, 1))
    profile_picture_url = fields.Char(string='Profile Picture URL')
    cover_photo_url = fields.Char(string='Cover Photo URL')
    
    active = fields.Boolean(string='Active', default=True)
    state = fields.Selection([
        ('draft', 'Draft'),
        ('connected', 'Connected'),
        ('error', 'Error'),
    ], string='Status', default='draft', tracking=True)
    
    last_sync_date = fields.Datetime(string='Last Sync')
    last_message_sync_date = fields.Datetime(string='Last Message Sync')
    error_message = fields.Text(string='Error Message')
    
    auto_sync_comments = fields.Boolean(string='Auto Sync Comments', default=True)
    auto_sync_messages = fields.Boolean(string='Auto Sync Messages', default=True)
    
    company_id = fields.Many2one('res.company', string='Company', default=lambda self: self.env.company)
    post_ids = fields.One2many('social.post', 'account_id', string='Posts')
    post_count = fields.Integer(string='Posts', compute='_compute_post_count')
    
    # âœ… THÃŠM: Field Ä‘áº¿m conversations
    conversation_count = fields.Integer(string='Conversations', compute='_compute_conversation_count')
    
    _sql_constraints = [
        ('facebook_page_id_uniq', 'UNIQUE(facebook_page_id, company_id)', 
         'Facebook Page ID must be unique per company!'),
    ]
    
    @api.depends('facebook_page_id')
    def _compute_page_url(self):
        for account in self:
            if account.facebook_page_id:
                account.facebook_page_url = f'https://www.facebook.com/{account.facebook_page_id}'
            else:
                account.facebook_page_url = False
    
    @api.depends('token_expires_at')
    def _compute_token_valid(self):
        now = fields.Datetime.now()
        for account in self:
            if account.token_expires_at:
                account.is_token_valid = account.token_expires_at > now
            else:
                account.is_token_valid = True
    
    def _compute_post_count(self):
        for account in self:
            account.post_count = len(account.post_ids)
    
    # âœ… THÃŠM: Compute conversation count
    def _compute_conversation_count(self):
        for account in self:
            account.conversation_count = self.env['social.conversation'].search_count([
                ('account_id', '=', account.id)
            ])
    
    def action_test_connection(self):
        self.ensure_one()
        try:
            url = f'https://graph.facebook.com/v18.0/{self.facebook_page_id}'
            params = {'access_token': self.access_token, 'fields': 'id,name,category'}
            response = requests.get(url, params=params, timeout=10)
            
            if response.status_code == 200:
                self.write({'state': 'connected', 'error_message': False})
                return {
                    'type': 'ir.actions.client',
                    'tag': 'display_notification',
                    'params': {
                        'title': _('Success'),
                        'message': _('Connection successful!'),
                        'type': 'success',
                        'sticky': False,
                    }
                }
            else:
                raise UserError(_('Connection failed: %s') % response.text)
        except Exception as e:
            self.write({'state': 'error', 'error_message': str(e)})
            raise UserError(_('Connection error: %s') % str(e))
    
    def action_sync_page_info(self):
        self.ensure_one()
        try:
            url = f'https://graph.facebook.com/v18.0/{self.facebook_page_id}'
            params = {
                'access_token': self.access_token,
                'fields': 'name,category,about,followers_count,fan_count,overall_star_rating'
            }
            response = requests.get(url, params=params, timeout=10)
            
            if response.status_code == 200:
                data = response.json()
                self.write({
                    'name': data.get('name', self.name),
                    'page_category': data.get('category'),
                    'page_about': data.get('about'),
                    'followers_count': data.get('followers_count', 0),
                    'likes_count': data.get('fan_count', 0),
                    'page_rating': data.get('overall_star_rating', 0),
                    'last_sync_date': fields.Datetime.now(),
                })
                return True
            return False
        except Exception as e:
            _logger.error(f'Error syncing page info: {e}')
            return False
    
    def action_view_posts(self):
        self.ensure_one()
        return {
            'name': _('Posts - %s') % self.name,
            'type': 'ir.actions.act_window',
            'res_model': 'social.post',
            'view_mode': 'list,kanban,form',
            'domain': [('account_id', '=', self.id)],
            'context': {'default_account_id': self.id},
        }
    
    # =========================================================================
    # âœ… THÃŠM: ACTION SYNC CONVERSATIONS
    # =========================================================================
    def action_sync_conversations(self):
        """
        Äá»“ng bá»™ táº¥t cáº£ conversations cá»§a account nÃ y tá»« Facebook.
        """
        self.ensure_one()
        
        if self.state != 'connected':
            raise UserError(_('Please connect the account first!'))
        
        try:
            from .social_message import SocialMessage
            
            # Gá»i method sync cho account nÃ y
            self.env['social.message']._sync_account_conversations(self)
            
            # Cáº­p nháº­t last sync date
            self.write({
                'last_message_sync_date': fields.Datetime.now(),
            })
            
            # Äáº¿m sá»‘ conversations Ä‘Ã£ sync
            conv_count = self.env['social.conversation'].search_count([
                ('account_id', '=', self.id)
            ])
            
            return {
                'type': 'ir.actions.client',
                'tag': 'display_notification',
                'params': {
                    'title': _('Success'),
                    'message': _('Synced conversations! Total: %d conversations') % conv_count,
                    'type': 'success',
                    'sticky': False,
                }
            }
            
        except Exception as e:
            _logger.error(f'Error syncing conversations for account {self.id}: {e}')
            raise UserError(_('Error syncing conversations: %s') % str(e))
    
    # âœ… THÃŠM: Action view conversations
    def action_view_conversations(self):
        """Xem táº¥t cáº£ conversations cá»§a account nÃ y"""
        self.ensure_one()
        return {
            'name': _('Conversations - %s') % self.name,
            'type': 'ir.actions.act_window',
            'res_model': 'social.conversation',
            'view_mode': 'list,form',
            'domain': [('account_id', '=', self.id)],
            'context': {'default_account_id': self.id},
        }
    
    @api.model
    def cron_refresh_facebook_tokens(self):
        accounts = self.search([('platform', '=', 'facebook'), ('state', '=', 'connected')])
        for account in accounts:
            try:
                _logger.info(f'Refreshing token for account {account.id}')
            except Exception as e:
                _logger.error(f'Error refreshing token: {e}')



################################################################################
## FILE 19: social_analytics.py
## ÄÆ°á»ng dáº«n: models/social_analytics.py
################################################################################

from odoo import models, fields, api, tools
import logging

_logger = logging.getLogger(__name__)


class SocialAnalytics(models.Model):
    """
    Model phÃ¢n tÃ­ch insights tá»« Facebook.
    
    ÄÃ¢y lÃ  SQL View model (khÃ´ng cÃ³ table tháº­t trong database).
    View nÃ y tá»•ng há»£p dá»¯ liá»‡u tá»« social_post Ä‘á»ƒ táº¡o bÃ¡o cÃ¡o analytics.
    """
    _name = 'social.analytics'
    _description = 'Facebook Analytics'
    _auto = False
    _rec_name = 'account_id'
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # FIELDS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    account_id = fields.Many2one(
        'social.account',
        string='Page',
        readonly=True,
    )
    
    date = fields.Date(
        string='Date',
        readonly=True,
    )
    
    total_posts = fields.Integer(
        string='Total Posts',
        readonly=True,
    )
    
    total_likes = fields.Integer(
        string='Total Likes',
        readonly=True,
    )
    
    total_comments = fields.Integer(
        string='Total Comments',
        readonly=True,
    )
    
    total_shares = fields.Integer(
        string='Total Shares',
        readonly=True,
    )
    
    avg_engagement_rate = fields.Float(
        string='Avg Engagement Rate',
        readonly=True,
    )
    
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        readonly=True,
    )
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # INIT METHOD - XÃ“A VÃ€ THAY Báº°NG @api.model_create_multi
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    # âŒ XÃ“A method init() cÅ© vÃ¬ gÃ¢y lá»—i khi load module
    # def init(self):
    #     """Táº¡o SQL view cho analytics"""
    #     tools.drop_view_if_exists(self._cr, self._table)
    #     self._cr.execute("""...""")
    
    # âœ… THAY Báº°NG: Táº¡o view thá»§ cÃ´ng sau khi module Ä‘Ã£ install xong
    # Hoáº·c dÃ¹ng post_init_hook trong __manifest__.py
    
    @api.model
    def init(self):
        """
        Táº¡o SQL view cho analytics.
        
        Version an toÃ n: Kiá»ƒm tra table social_post tá»“n táº¡i trÆ°á»›c khi táº¡o view.
        """
        # Kiá»ƒm tra table social_post Ä‘Ã£ tá»“n táº¡i chÆ°a
        self._cr.execute("""
            SELECT EXISTS (
                SELECT FROM information_schema.tables 
                WHERE table_schema = 'public' 
                AND table_name = 'social_post'
            )
        """)
        
        table_exists = self._cr.fetchone()[0]
        
        if not table_exists:
            _logger.warning(
                'Table social_post does not exist yet. '
                'Skipping social.analytics view creation. '
                'View will be created later via post_init_hook.'
            )
            return
        
        # Table tá»“n táº¡i â†’ Táº¡o view
        _logger.info('Creating social.analytics SQL view...')
        
        try:
            tools.drop_view_if_exists(self._cr, self._table)
            
            self._cr.execute("""
                CREATE OR REPLACE VIEW %s AS (
                    SELECT
                        ROW_NUMBER() OVER (ORDER BY sp.account_id, DATE(sp.published_date)) AS id,
                        sp.account_id AS account_id,
                        DATE(sp.published_date) AS date,
                        COUNT(sp.id) AS total_posts,
                        COALESCE(SUM(sp.likes_count), 0) AS total_likes,
                        COALESCE(SUM(sp.comments_count), 0) AS total_comments,
                        COALESCE(SUM(sp.shares_count), 0) AS total_shares,
                        AVG(sp.engagement_rate) AS avg_engagement_rate,
                        sp.company_id AS company_id
                    FROM
                        social_post sp
                    WHERE
                        sp.state = 'published'
                        AND sp.published_date IS NOT NULL
                    GROUP BY
                        sp.account_id, DATE(sp.published_date), sp.company_id
                )
            """ % self._table)
            
            _logger.info('âœ… Social analytics view created successfully')
            
        except Exception as e:
            _logger.error(f'âŒ Error creating view: {e}')
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # CRON & ACTIONS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    @api.model
    def cron_update_facebook_insights(self):
        """
        Cron job Ä‘á»ƒ update insights tá»« Facebook.
        
        Job nÃ y cháº¡y Ä‘á»‹nh ká»³ Ä‘á»ƒ pull data má»›i tá»« Facebook API
        vÃ  cáº­p nháº­t vÃ o social_post.
        """
        _logger.info('Updating Facebook insights...')
        
        try:
            # Láº¥y táº¥t cáº£ accounts Ä‘ang active
            accounts = self.env['social.account'].search([
                ('platform', '=', 'facebook'),
                ('state', '=', 'connected'),
            ])
            
            for account in accounts:
                try:
                    # TODO: Implement Facebook Insights API call
                    # account.sync_insights()
                    _logger.info(f'Updated insights for account {account.name}')
                except Exception as e:
                    _logger.error(f'Error updating insights for {account.name}: {e}')
            
            _logger.info('âœ… Facebook insights update completed')
            
        except Exception as e:
            _logger.error(f'âŒ Error in cron_update_facebook_insights: {e}')



################################################################################
## FILE 20: social_chatbot_automation.py
## ÄÆ°á»ng dáº«n: models/social_chatbot_automation.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import ValidationError
import logging

_logger = logging.getLogger(__name__)


class SocialChatbotAutomation(models.Model):
    """
    Model quáº£n lÃ½ Chatbot Automation Rules.
    
    Má»—i rule Ä‘á»‹nh nghÄ©a:
    - Trigger keywords: Tá»« khÃ³a kÃ­ch hoáº¡t
    - Response text: Ná»™i dung pháº£n há»“i tá»± Ä‘á»™ng
    - Priority: Äá»™ Æ°u tiÃªn (sá»‘ cao = Æ°u tiÃªn cao)
    - Active: Báº­t/táº¯t rule
    """
    
    _name = 'social.chatbot.automation'
    _description = 'Chatbot Automation Rule'
    _order = 'priority desc, sequence, id'
    _rec_name = 'name'
    
    # BASIC FIELDS
    name = fields.Char(
        string='Rule Name',
        required=True,
        help='TÃªn cá»§a automation rule',
    )
    
    active = fields.Boolean(
        string='Active',
        default=True,
        help='Báº­t/táº¯t rule nÃ y',
    )
    
    sequence = fields.Integer(
        string='Sequence',
        default=10,
        help='Thá»© tá»± hiá»ƒn thá»‹',
    )
    
    priority = fields.Integer(
        string='Priority',
        default=50,
        help='Äá»™ Æ°u tiÃªn (100 = cao nháº¥t, 0 = tháº¥p nháº¥t)',
    )
    
    # TRIGGER CONFIGURATION
    trigger_keywords = fields.Char(
        string='Trigger Keywords',
        required=True,
        help='Tá»« khÃ³a kÃ­ch hoáº¡t rule (phÃ¢n cÃ¡ch bá»Ÿi dáº¥u pháº©y). VÃ­ dá»¥: mua,Ä‘áº·t hÃ ng,order',
    )
    
    # RESPONSE CONFIGURATION
    response_text = fields.Text(
        string='Response Text',
        required=True,
        help='Ná»™i dung tin nháº¯n pháº£n há»“i tá»± Ä‘á»™ng',
    )
    
    # SCOPE
    account_id = fields.Many2one(
        'social.account',
        string='Facebook Page',
        help='Rule chá»‰ Ã¡p dá»¥ng cho page cá»¥ thá»ƒ (Ä‘á»ƒ trá»‘ng = Ã¡p dá»¥ng cho táº¥t cáº£)',
        ondelete='cascade',
    )
    
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        default=lambda self: self.env.company,
        required=True,
        index=True,
    )
    
    # STATISTICS
    triggered_count = fields.Integer(
        string='Triggered Count',
        default=0,
        readonly=True,
        help='Sá»‘ láº§n rule Ä‘Æ°á»£c kÃ­ch hoáº¡t',
    )
    
    last_triggered_date = fields.Datetime(
        string='Last Triggered',
        readonly=True,
        help='Láº§n cuá»‘i rule Ä‘Æ°á»£c kÃ­ch hoáº¡t',
    )
    
    # CONSTRAINTS
    @api.constrains('trigger_keywords')
    def _check_trigger_keywords(self):
        """Validate trigger keywords format"""
        for rule in self:
            if not rule.trigger_keywords:
                continue
            
            keywords = [kw.strip() for kw in rule.trigger_keywords.split(',')]
            if not keywords or all(not kw for kw in keywords):
                raise ValidationError(_(
                    'Trigger keywords must be separated by commas and not empty.\n'
                    'Example: mua,Ä‘áº·t hÃ ng,order'
                ))
    
    @api.constrains('priority')
    def _check_priority(self):
        """Validate priority range"""
        for rule in self:
            if rule.priority < 0 or rule.priority > 100:
                raise ValidationError(_('Priority must be between 0 and 100'))
    
    # BUSINESS METHODS
    def mark_as_triggered(self):
        """
        ÄÃ¡nh dáº¥u rule Ä‘Ã£ Ä‘Æ°á»£c kÃ­ch hoáº¡t.
        TÄƒng counter vÃ  cáº­p nháº­t last triggered date.
        """
        self.ensure_one()
        self.write({
            'triggered_count': self.triggered_count + 1,
            'last_triggered_date': fields.Datetime.now(),
        })
        _logger.info(f"Chatbot rule '{self.name}' triggered. Total count: {self.triggered_count}")
    
    def check_match(self, message_text):
        """
        Kiá»ƒm tra xem message cÃ³ match vá»›i rule hay khÃ´ng.
        
        Args:
            message_text (str): Ná»™i dung tin nháº¯n cáº§n kiá»ƒm tra
        
        Returns:
            bool: True náº¿u match, False náº¿u khÃ´ng
        """
        self.ensure_one()
        
        if not self.active:
            return False
        
        if not message_text:
            return False
        
        message_lower = message_text.lower().strip()
        keywords = [kw.strip().lower() for kw in self.trigger_keywords.split(',')]
        
        return any(keyword in message_lower for keyword in keywords if keyword)
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # ACTION METHODS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    def action_test_rule(self):
        """
        Test chatbot rule vá»›i tin nháº¯n máº«u.
        
        Hiá»ƒn thá»‹ popup vá»›i:
        - Trigger keywords
        - Response text
        - Test message input
        """
        self.ensure_one()
        
        # Build test message
        test_message = f"""
ğŸ¤– **Test Chatbot Rule: {self.name}**

ğŸ“Œ **Trigger Keywords:**
{self.trigger_keywords}

ğŸ’¬ **Response Text:**
{self.response_text}

âœ… **Status:** {'Active' if self.active else 'Inactive'}
ğŸ¯ **Priority:** {self.priority}
ğŸ“Š **Triggered:** {self.triggered_count} times

---
**Test vá»›i tin nháº¯n máº«u:**
Gá»­i tin nháº¯n chá»©a báº¥t ká»³ keyword nÃ o á»Ÿ trÃªn Ä‘á»ƒ test rule nÃ y.
        """
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Test Chatbot Rule'),
                'message': test_message,
                'type': 'info',
                'sticky': True,
            }
        }
    
    def action_view_triggered_messages(self):
        """
        Xem cÃ¡c tin nháº¯n Ä‘Ã£ trigger rule nÃ y.
        
        Note: Hiá»‡n táº¡i chÆ°a track messages chi tiáº¿t,
        chá»‰ hiá»ƒn thá»‹ thÃ´ng bÃ¡o sá»‘ lÆ°á»£ng.
        """
        self.ensure_one()
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Triggered Messages'),
                'message': _('This rule has been triggered %d times.') % self.triggered_count,
                'type': 'info',
                'sticky': False,
            }
        }



################################################################################
## FILE 21: social_comment.py
## ÄÆ°á»ng dáº«n: models/social_comment.py
################################################################################

from odoo import models, fields, api, _
from odoo.exceptions import UserError
import requests
import logging

_logger = logging.getLogger(__name__)


class SocialComment(models.Model):
    _name = 'social.comment'
    _description = 'Facebook Comment'
    _order = 'comment_date desc'

    display_name = fields.Char(string='Display Name', compute='_compute_display_name', store=True)
    post_id = fields.Many2one('social.post', string='Post', required=True, ondelete='cascade')
    facebook_comment_id = fields.Char(string='Facebook Comment ID', required=True)
    author_name = fields.Char(string='Author', required=True)
    author_facebook_id = fields.Char(string='Author FB ID')
    message = fields.Text(string='Message', required=True)
    comment_date = fields.Datetime(string='Date', required=True, default=fields.Datetime.now)
    parent_id = fields.Many2one('social.comment', string='Parent Comment')
    is_hidden = fields.Boolean(string='Hidden', default=False)
    is_spam = fields.Boolean(string='Spam', default=False)
    reply_text = fields.Text(string='Reply')
    replied = fields.Boolean(string='Replied', default=False)
    company_id = fields.Many2one('res.company', related='post_id.company_id', store=True)
    
    @api.depends('author_name', 'message')
    def _compute_display_name(self):
        for comment in self:
            preview = comment.message[:50] + '...' if len(comment.message or '') > 50 else comment.message
            comment.display_name = f"{comment.author_name}: {preview}"
    
    def action_reply(self):
        self.ensure_one()
        if not self.reply_text:
            raise UserError(_('Please enter a reply message!'))
        try:
            url = f'https://graph.facebook.com/v18.0/{self.facebook_comment_id}/comments'
            data = {'access_token': self.post_id.account_id.access_token, 'message': self.reply_text}
            response = requests.post(url, data=data, timeout=30)
            if response.status_code == 200:
                self.replied = True
                return {'type': 'ir.actions.client', 'tag': 'display_notification',
                        'params': {'title': _('Success'), 'message': _('Reply sent!'), 'type': 'success'}}
            else:
                raise UserError(_('Failed to reply: %s') % response.text)
        except Exception as e:
            raise UserError(_('Error: %s') % str(e))
    
    def action_hide(self):
        self.ensure_one()
        self.is_hidden = True
    
    def action_mark_spam(self):
        self.ensure_one()
        self.is_spam = True



################################################################################
## FILE 22: social_conversation.py
## ÄÆ°á»ng dáº«n: models/social_conversation.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import UserError
import logging

_logger = logging.getLogger(__name__)


class SocialConversation(models.Model):
    """
    Model quáº£n lÃ½ Conversations - Cuá»™c há»™i thoáº¡i Facebook Messenger.
    
    Má»—i conversation Ä‘áº¡i diá»‡n cho 1 cuá»™c há»™i thoáº¡i vá»›i 1 khÃ¡ch hÃ ng cá»¥ thá»ƒ (PSID).
    Má»™t conversation chá»©a nhiá»u messages (social.message).
    """
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # MODEL DEFINITION
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    _name = 'social.conversation'
    _description = 'Facebook Messenger Conversation'
    _inherit = ['mail.thread', 'mail.activity.mixin']
    _order = 'last_message_date desc, id desc'
    _rec_name = 'customer_name'
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # BASIC FIELDS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    # Conversation Identity
    facebook_psid = fields.Char(
        string='Facebook PSID',
        required=True,
        index=True,
        help='Page-Scoped User ID - unique identifier cá»§a user trong context cá»§a page',
    )
    
    account_id = fields.Many2one(
        'social.account',
        string='Facebook Page',
        required=True,
        ondelete='cascade',
        index=True,
        help='Facebook Page nÆ¡i conversation diá»…n ra',
    )
    
    # Customer Information
    customer_name = fields.Char(
        string='Customer Name',
        tracking=True,
        help='TÃªn khÃ¡ch hÃ ng (cÃ³ thá»ƒ thu tháº­p tá»« chatbot)',
    )
    
    customer_phone = fields.Char(
        string='Customer Phone',
        tracking=True,
        help='Sá»‘ Ä‘iá»‡n thoáº¡i khÃ¡ch hÃ ng',
    )
    
    customer_email = fields.Char(
        string='Customer Email',
        tracking=True,
        help='Email khÃ¡ch hÃ ng',
    )
    
    # Conversation Status
    state = fields.Selection([
        ('new', 'New'),
        ('ongoing', 'Ongoing'),
        ('resolved', 'Resolved'),
        ('closed', 'Closed'),
    ], string='State', default='new', tracking=True)
    
    # Timestamps
    last_message_date = fields.Datetime(
        string='Last Message',
        default=fields.Datetime.now,
        index=True,
        tracking=True,
    )
    
    # Tracking
    last_message_from = fields.Selection([
        ('customer', 'Customer'),
        ('page', 'Page'),
    ], string='Last Message From')
    
    unread_count = fields.Integer(
        string='Unread Messages',
        default=0,
        help='Sá»‘ tin nháº¯n chÆ°a Ä‘á»c tá»« khÃ¡ch hÃ ng',
    )
    
    first_response_time = fields.Float(
        string='First Response Time (minutes)',
        help='Thá»i gian pháº£n há»“i tin nháº¯n Ä‘áº§u tiÃªn',
    )
    
    # Organization
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        default=lambda self: self.env.company,
        required=True,
        index=True,
    )
    
    active = fields.Boolean(
        string='Active',
        default=True,
    )
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # RELATIONSHIP FIELDS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    message_ids = fields.One2many(
        'social.message',
        'conversation_id',
        string='Messages',
        help='Táº¥t cáº£ tin nháº¯n trong conversation nÃ y',
    )
    
    message_count = fields.Integer(
        string='Message Count',
        compute='_compute_message_count',
        store=True,
    )
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # CRM INTEGRATION
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    lead_id = fields.Many2one(
        'crm.lead',
        string='CRM Lead',
        ondelete='set null',
        tracking=True,
        help='Lead Ä‘Æ°á»£c táº¡o tá»« conversation nÃ y khi cÃ³ purchase intent',
    )
    
    conversation_id = fields.Char(
        string='Conversation ID',
        help='Facebook Conversation ID (náº¿u cÃ³)',
    )
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # CONSTRAINTS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    _sql_constraints = [
        ('facebook_psid_account_uniq',
         'UNIQUE(facebook_psid, account_id)',
         'Conversation already exists for this user and page!'),
    ]
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # COMPUTE METHODS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    @api.depends('message_ids')
    def _compute_message_count(self):
        """Äáº¿m sá»‘ lÆ°á»£ng messages"""
        for conv in self:
            conv.message_count = len(conv.message_ids)
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # CRM INTEGRATION METHODS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    def _check_purchase_intent(self, message):
        """
        Kiá»ƒm tra náº¿u tin nháº¯n thá»ƒ hiá»‡n Ã½ Ä‘á»‹nh mua hÃ ng.
        Chá»‰ táº¡o/update lead khi khÃ¡ch hÃ ng xÃ¡c nháº­n quyáº¿t Ä‘á»‹nh mua.
        
        Args:
            message (social.message): Message record cáº§n kiá»ƒm tra
        """
        self.ensure_one()
        
        message_content = (message.message or '').lower().strip()
        
        # Danh sÃ¡ch keyword mua hÃ ng
        purchase_keywords = [
            'mua', 'Ä‘áº·t hÃ ng', 'order', 'buy', 
            'muá»‘n mua', 'Ä‘áº·t mua', 'book', 'booking'
        ]
        
        # Kiá»ƒm tra cÃ³ keyword mua hÃ ng khÃ´ng
        has_purchase_intent = any(
            keyword in message_content 
            for keyword in purchase_keywords
        )
        
        if not has_purchase_intent:
            return
        
        _logger.info(f"ğŸ›’ Purchase intent detected in conversation {self.id}")
        
        # Táº¡o hoáº·c cáº­p nháº­t CRM lead
        self._create_or_update_lead(message)
    
    def _create_or_update_lead(self, message):
        """
        Táº¡o lead má»›i hoáº·c cáº­p nháº­t lead hiá»‡n cÃ³ khi phÃ¡t hiá»‡n purchase intent.
        
        Args:
            message (social.message): Message trigger viá»‡c táº¡o/update lead
        """
        self.ensure_one()
        
        Lead = self.env['crm.lead']
        
        # Náº¿u Ä‘Ã£ cÃ³ lead â†’ cáº­p nháº­t
        if self.lead_id:
            lead = self.lead_id
            
            # ThÃªm message vÃ o chatter
            lead.message_post(
                body=_(
                    "<strong>Purchase intent detected in Facebook Messenger</strong><br/>"
                    "Customer message: <em>%s</em>"
                ) % (message.message or ''),
                message_type='comment',
                subtype_xmlid='mail.mt_comment'
            )
            
            # Cáº­p nháº­t stage náº¿u chÆ°a won/lost
            if lead.probability < 100 and lead.probability != 0:
                # TÃ¬m stage "Qualified"
                qualified_stage = self.env['crm.stage'].search([
                    '|',
                    ('name', 'ilike', 'qualified'),
                    ('name', 'ilike', 'qualification')
                ], limit=1)
                
                if qualified_stage:
                    lead.write({
                        'stage_id': qualified_stage.id,
                        'probability': 60,
                    })
            
            _logger.info(f"âœ… Updated existing lead {lead.id} with purchase intent")
            
        else:
            # Táº¡o lead má»›i
            lead_vals = {
                'name': _('Facebook Lead - %s') % (
                    self.customer_name or self.facebook_psid
                ),
                'type': 'opportunity',
                'contact_name': self.customer_name,
                'phone': self.customer_phone,
                'email_from': self.customer_email,
                'description': _(
                    "Lead created from Facebook Messenger conversation\n"
                    "Customer PSID: %s\n"
                    "Last message: %s\n"
                    "Purchase intent detected at: %s"
                ) % (
                    self.facebook_psid,
                    message.message or '',
                    fields.Datetime.now().strftime('%Y-%m-%d %H:%M:%S')
                ),
                'company_id': self.company_id.id,
            }
            
            # TÃ¬m Facebook source
            source = self.env['utm.source'].search([
                ('name', '=', 'Facebook')
            ], limit=1)
            if not source:
                source = self.env['utm.source'].create({'name': 'Facebook'})
            lead_vals['source_id'] = source.id
            
            # TÃ¬m stage "New" hoáº·c "Qualified"
            new_stage = self.env['crm.stage'].search([
                '|',
                ('name', 'ilike', 'new'),
                ('name', 'ilike', 'qualified')
            ], limit=1)
            
            if new_stage:
                lead_vals['stage_id'] = new_stage.id
                lead_vals['probability'] = (
                    20 if 'new' in new_stage.name.lower() else 60
                )
            
            # Táº¡o lead
            lead = Lead.create(lead_vals)
            
            # Link lead vá»›i conversation
            self.write({'lead_id': lead.id})
            
            # ThÃªm message vÃ o lead chatter
            lead.message_post(
                body=_(
                    "<strong>Lead created from Facebook Messenger</strong><br/>"
                    "Customer message: <em>%s</em><br/>"
                    "<a href='/web#id=%s&model=social.conversation&view_type=form'>"
                    "View Conversation</a>"
                ) % (message.message or '', self.id),
                message_type='notification',
                subtype_xmlid='mail.mt_note'
            )
            
            _logger.info(f"âœ… Created new lead {lead.id} from conversation {self.id}")
        
        # Cáº­p nháº­t conversation state
        if self.state == 'new':
            self.write({'state': 'ongoing'})
        
        return lead
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # ACTION METHODS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    def action_create_lead(self):
        """Táº¡o lead thá»§ cÃ´ng tá»« conversation"""
        self.ensure_one()
        
        if self.lead_id:
            raise UserError(_('Lead already exists for this conversation!'))
        
        # Táº¡o fake message Ä‘á»ƒ trigger lead creation
        fake_message = self.env['social.message'].create({
            'conversation_id': self.id,
            'account_id': self.account_id.id,
            'message': '[Manual lead creation from conversation]',
            'is_from_customer': True,
            'company_id': self.company_id.id,
        })
        
        # Táº¡o lead
        lead = self._create_or_update_lead(fake_message)
        
        # XÃ³a fake message
        fake_message.unlink()
        
        return {
            'type': 'ir.actions.act_window',
            'name': _('Lead Created'),
            'res_model': 'crm.lead',
            'res_id': lead.id,
            'view_mode': 'form',
            'target': 'current',
        }
    
    def action_mark_resolved(self):
        """ÄÃ¡nh dáº¥u conversation lÃ  Ä‘Ã£ giáº£i quyáº¿t"""
        for conv in self:
            conv.write({'state': 'resolved'})
            conv.message_post(
                body=_('Conversation marked as resolved'),
                message_type='notification',
                subtype_xmlid='mail.mt_note'
            )
    
    def action_close(self):
        """ÄÃ³ng conversation"""
        for conv in self:
            conv.write({'state': 'closed'})
            conv.message_post(
                body=_('Conversation closed'),
                message_type='notification',
                subtype_xmlid='mail.mt_note'
            )
    
    def action_reopen(self):
        """Má»Ÿ láº¡i conversation Ä‘Ã£ Ä‘Ã³ng"""
        for conv in self:
            conv.write({'state': 'ongoing'})
            conv.message_post(
                body=_('Conversation reopened'),
                message_type='notification',
                subtype_xmlid='mail.mt_note'
            )
    
    def action_view_lead(self):
        """Xem CRM lead liÃªn káº¿t"""
        self.ensure_one()
        
        if not self.lead_id:
            raise UserError(_('No lead linked to this conversation'))
        
        return {
            'type': 'ir.actions.act_window',
            'name': _('Lead'),
            'res_model': 'crm.lead',
            'res_id': self.lead_id.id,
            'view_mode': 'form',
            'target': 'current',
        }
    
    def action_view_messages(self):
        """Xem táº¥t cáº£ messages trong conversation"""
        self.ensure_one()
        
        return {
            'type': 'ir.actions.act_window',
            'name': _('Messages'),
            'res_model': 'social.message',
            'view_mode': 'tree,form',
            'domain': [('conversation_id', '=', self.id)],
            'context': {'default_conversation_id': self.id},
        }



################################################################################
## FILE 23: social_message.py
## ÄÆ°á»ng dáº«n: models/social_message.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import UserError, ValidationError
import logging
import re

_logger = logging.getLogger(__name__)


class SocialMessage(models.Model):
    """
    Model quáº£n lÃ½ Facebook Messenger conversations.
    
    âœ… UPGRADED VERSION vá»›i Ä‘áº§y Ä‘á»§ field cho chatbot nÃ¢ng cao
    """
    
    _name = 'social.message'
    _description = 'Social Message / Conversation'
    _inherit = ['mail.thread', 'mail.activity.mixin']
    _order = 'create_date desc'
    _rec_name = 'facebook_user_id'
    
    # =========================================================================
    # BASIC FIELDS
    # =========================================================================
    
    facebook_user_id = fields.Char(
        string='Facebook User ID (PSID)',
        required=True,
        index=True,
        help='Page-Scoped User ID from Facebook',
    )
    
    account_id = fields.Many2one(
        'social.account',
        string='Facebook Page',
        required=True,
        ondelete='cascade',
        index=True,
    )
    
    message_id = fields.Char(
        string='Message ID',
        index=True,
        help='Facebook Message ID',
    )
    
    message = fields.Text(
        string='Message Content',
    )
    
    is_from_customer = fields.Boolean(
        string='From Customer',
        default=True,
    )
    
    attachments = fields.Text(
        string='Attachments',
        help='JSON data',
    )
    
    created_date = fields.Datetime(
        string='Created Date',
        default=fields.Datetime.now,
        index=True,
    )
    
    last_message_date = fields.Datetime(
        string='Last Message',
    )
    
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        default=lambda self: self.env.company,
        required=True,
        index=True,
    )
    
    # =========================================================================
    # âœ… CHATBOT FIELDS
    # =========================================================================
    
    chatbot_state = fields.Selection([
        ('idle', 'Idle'),
        ('ask_name', 'Asking Name'),
        ('ask_phone', 'Asking Phone'),
        ('show_products', 'Showing Products'),
        ('confirm_order', 'Confirming Order'),
        ('completed', 'Completed'),
    ], string='Chatbot State', default='idle', tracking=True, index=True)
    
    customer_name = fields.Char(
        string='Customer Name',
        tracking=True,
        help='TÃªn khÃ¡ch hÃ ng (Ä‘Ã£ chuáº©n hÃ³a)',
    )
    
    customer_phone = fields.Char(
        string='Customer Phone',
        tracking=True,
        help='Sá»‘ Ä‘iá»‡n thoáº¡i (Ä‘Ã£ chuáº©n hÃ³a vá» format 0XXXXXXXXX)',
    )
    
    selected_product_ids = fields.Many2many(
        'social.messenger.product',
        'social_message_product_rel',
        'message_id',
        'product_id',
        string='Selected Products',
    )
    
    # âœ… NÃ‚NG Cáº¤P 7: Cooldown field
    cooldown_until = fields.Datetime(
        string='Cooldown Until',
        help='Thá»i gian káº¿t thÃºc cooldown sau khi hoÃ n táº¥t Ä‘Æ¡n hÃ ng (trÃ¡nh spam)',
    )
    
    # =========================================================================
    # CRM & SALES INTEGRATION
    # =========================================================================
    
    lead_id = fields.Many2one(
        'crm.lead',
        string='Lead',
        ondelete='set null',
        tracking=True,
    )
    
    messenger_order_id = fields.Many2one(
        'social.messenger.order',
        string='Messenger Order',
        ondelete='set null',
        tracking=True,
    )
    
    conversation_id = fields.Many2one(
        'social.conversation',
        string='Conversation',
        ondelete='cascade',
    )
    
    # =========================================================================
    # CONSTRAINTS
    # =========================================================================
    
    _sql_constraints = [
        ('facebook_user_account_uniq',
         'UNIQUE(facebook_user_id, account_id)',
         'Conversation already exists for this user and page!'),
    ]



################################################################################
## FILE 24: social_messenger_order.py
## ÄÆ°á»ng dáº«n: models/social_messenger_order.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import UserError
import logging

_logger = logging.getLogger(__name__)


class SocialMessengerOrder(models.Model):
    """
    âœ… VERSION ÄÆ N GIáº¢N - KHÃ”NG Gá»ŒI send_order_confirmation() trong create_sale_order()
    """
    _name = 'social.messenger.order'
    _description = 'Messenger Sales Order'
    _inherit = ['mail.thread', 'mail.activity.mixin']
    _order = 'order_date desc, id desc'
    _rec_name = 'name'

    # Basic Info
    name = fields.Char(
        string='Order Reference',
        required=True,
        copy=False,
        readonly=True,
        default=lambda self: _('New'),
    )
    sale_order_id = fields.Many2one(
        'sale.order',
        string='Sale Order',
        ondelete='cascade',
        tracking=True,
    )
    conversation_id = fields.Many2one(
        'social.message',
        string='Conversation',
        ondelete='set null',
    )
    
    # Customer Info
    partner_id = fields.Many2one(
        'res.partner',
        string='Customer',
        related='sale_order_id.partner_id',
        store=True,
        readonly=True,
    )
    facebook_user_id = fields.Char(
        string='Facebook User ID',
        tracking=True,
    )
    customer_name = fields.Char(
        string='Customer Name',
        required=True,
        tracking=True,
    )
    customer_phone = fields.Char(
        string='Phone',
        required=True,
        tracking=True,
    )
    customer_email = fields.Char(
        string='Email',
        tracking=True,
    )
    
    # Order Details
    state = fields.Selection([
        ('draft', 'Draft'),
        ('confirmed', 'Confirmed'),
        ('sale', 'Sale Order'),
        ('cancelled', 'Cancelled'),
    ], string='Status', default='draft', required=True, tracking=True)
    
    order_date = fields.Datetime(
        string='Order Date',
        default=fields.Datetime.now,
        required=True,
        tracking=True,
    )
    
    # Products
    product_ids = fields.Many2many(
        'social.messenger.product',
        string='Products',
    )
    
    # Pricing
    total_amount = fields.Monetary(
        string='Total',
        compute='_compute_total_amount',
        store=True,
        currency_field='currency_id',
    )
    currency_id = fields.Many2one(
        'res.currency',
        string='Currency',
        default=lambda self: self.env.company.currency_id,
    )
    
    # Organization
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        required=True,
        default=lambda self: self.env.company,
    )
    user_id = fields.Many2one(
        'res.users',
        string='Salesperson',
        default=lambda self: self.env.user,
        tracking=True,
    )
    
    # Notes
    notes = fields.Text(
        string='Internal Notes',
    )
    
    @api.model
    def create(self, vals):
        """Override create Ä‘á»ƒ táº¡o sequence"""
        if vals.get('name', _('New')) == _('New'):
            vals['name'] = self.env['ir.sequence'].next_by_code(
                'social.messenger.order'
            ) or _('New')
        return super().create(vals)
    
    @api.depends('sale_order_id', 'sale_order_id.amount_total')
    def _compute_total_amount(self):
        """TÃ­nh tá»•ng tiá»n"""
        for record in self:
            if record.sale_order_id:
                record.total_amount = record.sale_order_id.amount_total
            else:
                total = sum(record.product_ids.mapped('price'))
                record.total_amount = total
    
    def create_sale_order(self):
        """
        âœ… Táº O SALE ORDER - KHÃ”NG Gá»ŒI send_order_confirmation()
        
        Webhook sáº½ tá»± gá»­i tin nháº¯n confirmation.
        """
        self.ensure_one()
        
        if self.sale_order_id:
            raise UserError(_('Sale Order already exists!'))
        
        if not self.product_ids:
            raise UserError(_('No products selected!'))
        
        # 1. Find or create partner
        partner = self._find_or_create_partner()
        
        # 2. Create sale.order
        sale_vals = {
            'partner_id': partner.id,
            'user_id': self.user_id.id,
            'company_id': self.company_id.id,
            'date_order': self.order_date,
            'origin': f'Messenger: {self.name}',
            'note': f'Order from Facebook Messenger\nPSID: {self.facebook_user_id}',
        }
        
        sale_order = self.env['sale.order'].create(sale_vals)
        
        # 3. Add order lines
        for product in self.product_ids:
            line_vals = {
                'order_id': sale_order.id,
                'product_id': product.product_id.id,
                'product_uom_qty': 1,
                'price_unit': product.price,
            }
            self.env['sale.order.line'].create(line_vals)
        
        # 4. Link sale order
        self.sale_order_id = sale_order.id
        self.state = 'sale'
        
        # âœ… KHÃ”NG Gá»ŒI send_order_confirmation() - Webhook tá»± gá»­i
        
        # 5. Log activity
        self.message_post(
            body=_('Sale Order %s created from Messenger') % sale_order.name,
            subject=_('Sale Order Created'),
        )
        
        _logger.info(f'âœ… Created sale order {sale_order.name} for {self.name}')
        
        return sale_order
    
    def _find_or_create_partner(self):
        """TÃ¬m hoáº·c táº¡o res.partner"""
        Partner = self.env['res.partner']
        
        # Search by phone
        if self.customer_phone:
            partner = Partner.search([
                ('phone', '=', self.customer_phone),
                ('company_id', 'in', [False, self.company_id.id]),
            ], limit=1)
            if partner:
                return partner
        
        # Create new partner
        partner_vals = {
            'name': self.customer_name,
            'phone': self.customer_phone,
            'email': self.customer_email,
            'company_id': self.company_id.id,
            'comment': f'Created from Messenger Order: {self.name}',
        }
        
        partner = Partner.create(partner_vals)
        
        _logger.info(f'Created partner {partner.id} for order {self.name}')
        
        return partner
    
    # âœ… XÃ“A METHOD send_order_confirmation() - Webhook tá»± xá»­ lÃ½
    
    def action_confirm(self):
        """XÃ¡c nháº­n Ä‘Æ¡n hÃ ng"""
        for record in self:
            if record.state != 'draft':
                raise UserError(_('Only draft orders can be confirmed!'))
            record.state = 'confirmed'
            record.message_post(body=_('Order confirmed'))
    
    def action_create_sale_order(self):
        """Button action: Táº¡o sale.order"""
        self.ensure_one()
        sale_order = self.create_sale_order()
        
        return {
            'type': 'ir.actions.act_window',
            'name': _('Sale Order'),
            'res_model': 'sale.order',
            'res_id': sale_order.id,
            'view_mode': 'form',
            'target': 'current',
        }
    
    def action_view_sale_order(self):
        """Xem sale.order"""
        self.ensure_one()
        if not self.sale_order_id:
            raise UserError(_('No Sale Order linked yet!'))
        
        return {
            'type': 'ir.actions.act_window',
            'name': _('Sale Order'),
            'res_model': 'sale.order',
            'res_id': self.sale_order_id.id,
            'view_mode': 'form',
            'target': 'current',
        }
    
    def action_cancel(self):
        """Há»§y Ä‘Æ¡n hÃ ng"""
        for record in self:
            record.state = 'cancelled'
            record.message_post(body=_('Order cancelled'))


class ResPartner(models.Model):
    _inherit = 'res.partner'
    
    facebook_user_id = fields.Char(
        string='Facebook User ID (PSID)',
    )
    messenger_order_count = fields.Integer(
        string='Messenger Orders',
        compute='_compute_messenger_order_count',
    )
    
    def _compute_messenger_order_count(self):
        for partner in self:
            partner.messenger_order_count = self.env['social.messenger.order'].search_count([
                ('partner_id', '=', partner.id)
            ])
    
    def action_view_messenger_orders(self):
        self.ensure_one()
        return {
            'name': _('Messenger Orders'),
            'type': 'ir.actions.act_window',
            'res_model': 'social.messenger.order',
            'view_mode': 'tree,form',
            'domain': [('partner_id', '=', self.id)],
        }



################################################################################
## FILE 25: social_messenger_product.py
## ÄÆ°á»ng dáº«n: models/social_messenger_product.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import ValidationError
import logging

_logger = logging.getLogger(__name__)


class SocialMessengerProduct(models.Model):
    """
    Sáº£n pháº©m Ä‘Æ°á»£c bÃ¡n qua Facebook Messenger.
    Chá»‰ cÃ¡c sáº£n pháº©m Ä‘Æ°á»£c tick 'active' má»›i hiá»ƒn thá»‹ trong chatbot.
    """
    _name = 'social.messenger.product'
    _description = 'Messenger Product Catalog'
    _order = 'sequence, id'
    _rec_name = 'display_name'

    # Basic Info
    product_id = fields.Many2one(
        'product.product',
        string='Product',
        required=True,
        ondelete='cascade',
        domain=[('sale_ok', '=', True)],
    )
    display_name = fields.Char(
        string='Display Name',
        compute='_compute_display_name',
        store=True,
    )
    active = fields.Boolean(
        string='Sell on Messenger',
        default=True,
        help='Báº­t Ä‘á»ƒ sáº£n pháº©m xuáº¥t hiá»‡n trong chatbot Messenger'
    )
    
    # Messenger Customization
    quick_reply_title = fields.Char(
        string='Quick Reply Title',
        size=20,
        help='TiÃªu Ä‘á» hiá»ƒn thá»‹ trong quick reply button (max 20 kÃ½ tá»±)',
        compute='_compute_quick_reply_title',
        store=True,
        readonly=False,
    )
    description = fields.Text(
        string='Messenger Description',
        help='MÃ´ táº£ gá»­i cho khÃ¡ch hÃ ng qua Messenger',
        compute='_compute_description',
        store=True,
        readonly=False,
    )
    image_url = fields.Char(
        string='Image URL',
        compute='_compute_image_url',
        help='URL hÃ¬nh áº£nh gá»­i trong Messenger (tá»« product.image_1920)'
    )
    
    # Pricing
    price = fields.Float(
        string='Price',
        related='product_id.list_price',
        readonly=True,
    )
    currency_id = fields.Many2one(
        'res.currency',
        related='product_id.currency_id',
        readonly=True,
    )
    
    # Organization
    sequence = fields.Integer(
        string='Sequence',
        default=10,
        help='Thá»© tá»± hiá»ƒn thá»‹ trong danh sÃ¡ch sáº£n pháº©m'
    )
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        default=lambda self: self.env.company,
        required=True,
    )
    
    # Statistics
    order_count = fields.Integer(
        string='Orders',
        compute='_compute_order_count',
    )
    
    _sql_constraints = [
        ('product_company_uniq', 
         'UNIQUE(product_id, company_id)', 
         'Product already exists in Messenger catalog for this company!'),
    ]
    
    @api.depends('product_id', 'product_id.name')
    def _compute_display_name(self):
        """TÃªn hiá»ƒn thá»‹ = tÃªn sáº£n pháº©m"""
        for record in self:
            record.display_name = record.product_id.name if record.product_id else ''
    
    @api.depends('product_id', 'product_id.name')
    def _compute_quick_reply_title(self):
        """Auto-fill quick reply title tá»« tÃªn sáº£n pháº©m (max 20 chars)"""
        for record in self:
            if record.product_id and not record.quick_reply_title:
                name = record.product_id.name
                record.quick_reply_title = name[:20] if len(name) > 20 else name
    
    @api.depends('product_id', 'product_id.description_sale')
    def _compute_description(self):
        """Auto-fill description tá»« product"""
        for record in self:
            if record.product_id and not record.description:
                desc = record.product_id.description_sale or record.product_id.name
                record.description = desc
    
    @api.depends('product_id', 'product_id.image_1920')
    def _compute_image_url(self):
        """Generate public URL cho hÃ¬nh áº£nh"""
        for record in self:
            if record.product_id and record.product_id.image_1920:
                base_url = self.env['ir.config_parameter'].sudo().get_param('web.base.url')
                record.image_url = f"{base_url}/web/image/product.product/{record.product_id.id}/image_1920"
            else:
                record.image_url = False
    
    def _compute_order_count(self):
        """Äáº¿m sá»‘ Ä‘Æ¡n hÃ ng tá»« sáº£n pháº©m nÃ y"""
        for record in self:
            # Count sale.order.line cÃ³ product nÃ y tá»« messenger orders
            orders = self.env['social.messenger.order'].search([
                ('sale_order_id.order_line.product_id', '=', record.product_id.id),
                ('company_id', '=', record.company_id.id),
            ])
            record.order_count = len(orders)
    
    @api.constrains('quick_reply_title')
    def _check_quick_reply_title(self):
        """Validate quick reply title length"""
        for record in self:
            if record.quick_reply_title and len(record.quick_reply_title) > 20:
                raise ValidationError(
                    _('Quick Reply Title cannot exceed 20 characters!')
                )
    
    # -------------------------------------------------------------------------
    # BUSINESS METHODS
    # -------------------------------------------------------------------------
    
    @api.model
    def get_active_products(self, company_id=None):
        """
        Láº¥y danh sÃ¡ch sáº£n pháº©m Ä‘ang active cho Messenger.
        
        Returns:
            recordset: social.messenger.product records
        """
        domain = [('active', '=', True)]
        if company_id:
            domain.append(('company_id', '=', company_id))
        else:
            domain.append(('company_id', '=', self.env.company.id))
        
        return self.search(domain, order='sequence, id')
    
    def format_for_messenger(self):
        """
        Format sáº£n pháº©m thÃ nh quick reply buttons cho Messenger.
        
        Returns:
            list: Danh sÃ¡ch quick reply buttons
            [
                {
                    'content_type': 'text',
                    'title': 'Product Name',
                    'payload': 'PRODUCT_123',
                },
                ...
            ]
        """
        self.ensure_one()
        return {
            'content_type': 'text',
            'title': self.quick_reply_title or self.product_id.name[:20],
            'payload': f'PRODUCT_{self.id}',
        }
    
    def get_product_message(self):
        """
        Táº¡o tin nháº¯n giá»›i thiá»‡u sáº£n pháº©m.
        
        Returns:
            str: Message text
        """
        self.ensure_one()
        price_formatted = f"{self.price:,.0f} {self.currency_id.symbol}"
        message = f"ğŸ›ï¸ {self.product_id.name}\n"
        message += f"ğŸ’° GiÃ¡: {price_formatted}\n"
        if self.description:
            message += f"ğŸ“ {self.description}\n"
        return message
    
    # -------------------------------------------------------------------------
    # ACTIONS
    # -------------------------------------------------------------------------
    
    def action_view_orders(self):
        """Xem cÃ¡c Ä‘Æ¡n hÃ ng tá»« sáº£n pháº©m nÃ y"""
        self.ensure_one()
        return {
            'name': _('Messenger Orders'),
            'type': 'ir.actions.act_window',
            'res_model': 'social.messenger.order',
            'view_mode': 'tree,form',
            'domain': [
                ('sale_order_id.order_line.product_id', '=', self.product_id.id),
                ('company_id', '=', self.company_id.id),
            ],
            'context': {'default_product_id': self.product_id.id},
        }
    
    def action_toggle_active(self):
        """Toggle active state"""
        for record in self:
            record.active = not record.active



################################################################################
## FILE 26: social_post.py
## ÄÆ°á»ng dáº«n: models/social_post.py
################################################################################

# FILE: social_post_fixed.py
# PhiÃªn báº£n sá»­a lá»—i khÃ´ng thá»ƒ Ä‘Äƒng áº£nh

from odoo import models, fields, api, _
from odoo.exceptions import UserError
import requests
import logging
from datetime import datetime
import base64  # âœ… THÃŠM IMPORT


_logger = logging.getLogger(__name__)


class SocialPost(models.Model):
    """
    Model quáº£n lÃ½ bÃ i Ä‘Äƒng Facebook.
    """
    _name = 'social.post'
    _description = 'Facebook Post'
    _order = 'create_date desc'
    _inherit = ['mail.thread', 'mail.activity.mixin']
    _rec_name = 'display_name'

    # -------------------------------------------------------------------------
    # BASIC INFO
    # -------------------------------------------------------------------------
    display_name = fields.Char(
        string='Display Name',
        compute='_compute_display_name',
        store=True,
    )
    
    account_id = fields.Many2one(
        'social.account',
        string='Facebook Page',
        required=True,
        domain=[('platform', '=', 'facebook')],
    )
    
    content = fields.Text(
        string='Content',
        required=True,
        tracking=True,
    )
    
    # -------------------------------------------------------------------------
    # MEDIA
    # -------------------------------------------------------------------------
    media_type = fields.Selection([
        ('text', 'Text Only'),
        ('photo', 'Photo'),
        ('video', 'Video'),
        ('link', 'Link'),
    ], string='Media Type', default='text')
    
    image = fields.Binary(string='Image', attachment=True)
    image_filename = fields.Char(string='Image Filename')
    video_url = fields.Char(string='Video URL')
    link_url = fields.Char(string='Link URL')
    
    # -------------------------------------------------------------------------
    # SCHEDULING
    # -------------------------------------------------------------------------
    post_type = fields.Selection([
        ('now', 'Publish Now'),
        ('scheduled', 'Scheduled'),
    ], string='Post Type', default='now', required=True)
    
    scheduled_date = fields.Datetime(
        string='Scheduled Date',
        tracking=True,
    )
    
    # -------------------------------------------------------------------------
    # FACEBOOK DATA
    # -------------------------------------------------------------------------
    facebook_post_id = fields.Char(
        string='Facebook Post ID',
        readonly=True,
        copy=False,
    )
    
    facebook_post_url = fields.Char(
        string='Facebook URL',
        compute='_compute_facebook_url',
        store=True,
    )
    
    published_date = fields.Datetime(
        string='Published Date',
        readonly=True,
        copy=False,
    )
    
    # -------------------------------------------------------------------------
    # STATUS
    # -------------------------------------------------------------------------
    state = fields.Selection([
        ('draft', 'Draft'),
        ('scheduled', 'Scheduled'),
        ('published', 'Published'),
        ('failed', 'Failed'),
    ], string='Status', default='draft', tracking=True)
    
    error_message = fields.Text(string='Error Message')
    
    # -------------------------------------------------------------------------
    # ENGAGEMENT STATS
    # -------------------------------------------------------------------------
    likes_count = fields.Integer(string='Likes', default=0)
    comments_count = fields.Integer(string='Comments', default=0)
    shares_count = fields.Integer(string='Shares', default=0)
    reach = fields.Integer(string='Reach', default=0)
    impressions = fields.Integer(string='Impressions', default=0)
    engagement_rate = fields.Float(
        string='Engagement Rate (%)',
        compute='_compute_engagement_rate',
        store=True,
    )
    
    # -------------------------------------------------------------------------
    # RELATIONS
    # -------------------------------------------------------------------------
    comment_ids = fields.One2many(
        'social.comment',
        'post_id',
        string='Comments',
    )
    
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        related='account_id.company_id',
        store=True,
    )
    
    user_id = fields.Many2one(
        'res.users',
        string='Created By',
        default=lambda self: self.env.user,
    )
    
    # -------------------------------------------------------------------------
    # COMPUTE METHODS
    # -------------------------------------------------------------------------
    @api.depends('content', 'account_id')
    def _compute_display_name(self):
        for post in self:
            if post.content:
                preview = post.content[:50] + '...' if len(post.content) > 50 else post.content
                post.display_name = f"{post.account_id.name}: {preview}"
            else:
                post.display_name = f"Post #{post.id}"
    
    @api.depends('facebook_post_id', 'account_id')
    def _compute_facebook_url(self):
        for post in self:
            if post.facebook_post_id and post.account_id:
                post.facebook_post_url = f"https://www.facebook.com/{post.facebook_post_id}"
            else:
                post.facebook_post_url = False
    
    @api.depends('likes_count', 'comments_count', 'shares_count', 'reach')
    def _compute_engagement_rate(self):
        for post in self:
            if post.reach > 0:
                total_engagement = post.likes_count + post.comments_count + post.shares_count
                post.engagement_rate = (total_engagement / post.reach) * 100
            else:
                post.engagement_rate = 0
    
    # -------------------------------------------------------------------------
    # BUSINESS METHODS
    # -------------------------------------------------------------------------
    
    def _prepare_facebook_post_data(self):
        """
        âœ… HÃ m má»›i: Chuáº©n bá»‹ dá»¯ liá»‡u post theo media_type
        
        Return: (url, data_dict, files_dict)
        """
        base_url = f'https://graph.facebook.com/v18.0/{self.account_id.facebook_page_id}'
        
        # Dá»¯ liá»‡u cÆ¡ báº£n
        data = {
            'access_token': self.account_id.access_token,
            'message': self.content,
        }
        
        files = None
        
        # Xá»­ lÃ½ dá»±a trÃªn media_type
        if self.media_type == 'photo':
            if not self.image:
                raise UserError(_('Please upload an image for photo post!'))
            
            # Decode base64 image
            image_binary = base64.b64decode(self.image)
            filename = self.image_filename or 'image.jpg'
            files = {'source': (filename, image_binary)}
            url = f'{base_url}/photos'
            
        elif self.media_type == 'video':
            if not self.video_url:
                raise UserError(_('Please provide a video URL!'))
            
            data['video_url'] = self.video_url
            url = f'{base_url}/feed'
            
        elif self.media_type == 'link':
            if not self.link_url:
                raise UserError(_('Please provide a link URL!'))
            
            data['link'] = self.link_url
            url = f'{base_url}/feed'
            
        else:  # text only
            url = f'{base_url}/feed'
        
        return url, data, files
    
    def action_publish_now(self):
        """âœ… Sá»¬A: ÄÄƒng bÃ i ngay láº­p tá»©c - Há»– TRá»¢ IMAGE"""
        self.ensure_one()
        
        if self.state != 'draft':
            raise UserError(_('Only draft posts can be published!'))
        
        try:
            # âœ… Cáº¦U DIá»†N Äáº¦U TIÃŠN: Chuáº©n bá»‹ dá»¯ liá»‡u
            url, data, files = self._prepare_facebook_post_data()
            
            # âœ… THAY Äá»”I: Gá»­i request vá»›i files náº¿u cÃ³ image
            if files:
                # Vá»›i image: dÃ¹ng multipart/form-data
                response = requests.post(url, data=data, files=files, timeout=30)
            else:
                # Chá»‰ text: dÃ¹ng form-urlencoded thÆ°á»ng
                response = requests.post(url, data=data, timeout=30)
            
            # Xá»­ lÃ½ response
            if response.status_code == 200:
                result = response.json()
                self.write({
                    'facebook_post_id': result.get('id'),
                    'published_date': fields.Datetime.now(),
                    'state': 'published',
                    'error_message': False,
                })
                
                self.message_post(body=_('Post published successfully!'))
                
                return {
                    'type': 'ir.actions.client',
                    'tag': 'display_notification',
                    'params': {
                        'title': _('Success'),
                        'message': _('Post published to Facebook!'),
                        'type': 'success',
                        'sticky': False,
                    }
                }
            else:
                # âœ… THÃŠM: Error handling tá»‘t hÆ¡n
                try:
                    error_detail = response.json().get('error', {})
                    error_msg = error_detail.get('message', response.text)
                except:
                    error_msg = response.text
                
                raise UserError(_('Failed to publish: %s') % error_msg)
                
        except Exception as e:
            error_str = str(e)
            self.write({
                'state': 'failed',
                'error_message': error_str,
            })
            _logger.error(f'Error publishing post {self.id}: {error_str}')
            raise UserError(_('Error publishing post: %s') % error_str)
    
    def action_schedule_post(self):
        """LÃªn lá»‹ch Ä‘Äƒng bÃ i"""
        self.ensure_one()
        
        if not self.scheduled_date:
            raise UserError(_('Please set a scheduled date!'))
        
        if self.scheduled_date <= fields.Datetime.now():
            raise UserError(_('Scheduled date must be in the future!'))
        
        self.state = 'scheduled'
        self.message_post(body=_('Post scheduled for %s') % self.scheduled_date)
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Success'),
                'message': _('Post scheduled successfully!'),
                'type': 'success',
                'sticky': False,
            }
        }
    
    def action_sync_stats(self):
        """Äá»“ng bá»™ thá»‘ng kÃª tá»« Facebook"""
        self.ensure_one()
        
        if not self.facebook_post_id:
            return False
        
        try:
            url = f'https://graph.facebook.com/v18.0/{self.facebook_post_id}'
            params = {
                'access_token': self.account_id.access_token,
                'fields': 'likes.summary(true),comments.summary(true),shares'
            }
            
            response = requests.get(url, params=params, timeout=10)
            
            if response.status_code == 200:
                data = response.json()
                self.write({
                    'likes_count': data.get('likes', {}).get('summary', {}).get('total_count', 0),
                    'comments_count': data.get('comments', {}).get('summary', {}).get('total_count', 0),
                    'shares_count': data.get('shares', {}).get('count', 0),
                })
                return True
            else:
                _logger.error(f'Failed to sync stats: {response.text}')
                return False
                
        except Exception as e:
            _logger.error(f'Error syncing stats: {e}')
            return False
    
    def action_view_comments(self):
        """Xem comments"""
        self.ensure_one()
        return {
            'name': _('Comments'),
            'type': 'ir.actions.act_window',
            'res_model': 'social.comment',
            'view_mode': 'list,form',
            'domain': [('post_id', '=', self.id)],
            'context': {'default_post_id': self.id},
        }
    
    @api.model
    def cron_publish_scheduled_posts(self):
        """Cron job Ä‘á»ƒ publish scheduled posts"""
        now = fields.Datetime.now()
        posts = self.search([
            ('state', '=', 'scheduled'),
            ('scheduled_date', '<=', now),
        ])
        
        for post in posts:
            try:
                post.action_publish_now()
            except Exception as e:
                _logger.error(f'Error publishing scheduled post {post.id}: {e}')
    
    @api.model
    def cron_sync_facebook_comments(self):
        """Cron job Ä‘á»ƒ sync comments"""
        posts = self.search([
            ('state', '=', 'published'),
            ('facebook_post_id', '!=', False),
        ], limit=50)
        
        for post in posts:
            try:
                post.action_sync_stats()
            except Exception as e:
                _logger.error(f'Error syncing post {post.id}: {e}')
                
    def action_sync_comments(self):
        """Äá»“ng bá»™ chi tiáº¿t tá»«ng comment tá»« Facebook vá» Odoo"""
        self.ensure_one()
        if not self.facebook_post_id:
            raise UserError(_('Post not published yet!'))
        
        try:
            # Gá»i Graph API láº¥y comments
            url = f'https://graph.facebook.com/v18.0/{self.facebook_post_id}/comments'
            params = {
                'access_token': self.account_id.access_token,
                'fields': 'id,message,from,created_time,parent',
                'limit': 100
            }
            
            response = requests.get(url, params=params, timeout=30)
            if response.status_code == 200:
                data = response.json()
                
                # Loop qua tá»«ng comment
                for fb_comment in data.get('data', []):
                    # Kiá»ƒm tra xem comment Ä‘Ã£ cÃ³ chÆ°a
                    existing = self.env['social.comment'].search([
                        ('facebook_comment_id', '=', fb_comment['id']),
                        ('post_id', '=', self.id)
                    ], limit=1)
                    
                    if not existing:
                        # Táº¡o má»›i comment record
                        author = fb_comment.get('from', {})
                        self.env['social.comment'].create({
                            'post_id': self.id,
                            'facebook_comment_id': fb_comment['id'],
                            'author_name': author.get('name', 'Unknown'),
                            'author_facebook_id': author.get('id', ''),
                            'message': fb_comment.get('message', ''),
                            'comment_date': fb_comment.get('created_time'),
                            'company_id': self.company_id.id,
                        })
                
                self.message_post(body=_('Comments synced from Facebook!'))
                return True
            else:
                raise UserError(_('Failed to sync comments: %s') % response.text)
                
        except Exception as e:
            raise UserError(_('Error syncing comments: %s') % str(e))




################################################################################
## FILE 27: social_post_template.py
## ÄÆ°á»ng dáº«n: models/social_post_template.py
################################################################################

from odoo import models, fields, api, _


class SocialPostTemplate(models.Model):
    """
    Model quáº£n lÃ½ templates cho bÃ i Ä‘Äƒng.
    """
    _name = 'social.post.template'
    _description = 'Social Post Template'
    _order = 'name'

    name = fields.Char(
        string='Template Name',
        required=True,
    )
    
    template_type = fields.Selection([
        ('product_launch', 'Product Launch'),
        ('promotion', 'Promotion'),
        ('testimonial', 'Testimonial'),
        ('educational', 'Educational'),
        ('engagement', 'Engagement'),
        ('event', 'Event'),
        ('custom', 'Custom'),
    ], string='Type', default='custom')
    
    content = fields.Text(
        string='Content Template',
        required=True,
        help='Use {{variable_name}} for dynamic content'
    )
    
    description = fields.Text(string='Description')
    
    active = fields.Boolean(string='Active', default=True)
    
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        default=lambda self: self.env.company,
    )
    
    def action_use_template(self):
        """Sá»­ dá»¥ng template Ä‘á»ƒ táº¡o post má»›i"""
        self.ensure_one()
        return {
            'name': _('New Post from Template'),
            'type': 'ir.actions.act_window',
            'res_model': 'social.post',
            'view_mode': 'form',
            'context': {
                'default_content': self.content,
            },
        }



################################################################################
## FILE 28: module_social_facebook_DOCUMENTATION_2025-12-27_18h33.txt
## ÄÆ°á»ng dáº«n: module_social_facebook_DOCUMENTATION_2025-12-27_18h33.txt
################################################################################


################################################################################
#                      MODULE_SOCIAL_FACEBOOK                            #
#                   ODOO MODULE DOCUMENTATION GENERATOR                     #
#                           Version 1.2.0 - Enterprise Style                #
################################################################################

================================================================================
                                ğŸ“‚ DIRECTORY TREE
================================================================================
ğŸ“ .git
â”œâ”€â”€ ğŸ“„ COMMIT_EDITMSG
â”œâ”€â”€ ğŸ“„ HEAD
â”œâ”€â”€ ğŸ“„ config
â”œâ”€â”€ ğŸ“„ description
â”œâ”€â”€ ğŸ“ hooks
â”‚   â”œâ”€â”€ ğŸ“„ applypatch-msg.sample
â”‚   â”œâ”€â”€ ğŸ“„ commit-msg.sample
â”‚   â”œâ”€â”€ ğŸ“„ fsmonitor-watchman.sample
â”‚   â”œâ”€â”€ ğŸ“„ post-update.sample
â”‚   â”œâ”€â”€ ğŸ“„ pre-applypatch.sample
â”‚   â”œâ”€â”€ ğŸ“„ pre-commit.sample
â”‚   â”œâ”€â”€ ğŸ“„ pre-merge-commit.sample
â”‚   â”œâ”€â”€ ğŸ“„ pre-push.sample
â”‚   â”œâ”€â”€ ğŸ“„ pre-rebase.sample
â”‚   â”œâ”€â”€ ğŸ“„ pre-receive.sample
â”‚   â”œâ”€â”€ ğŸ“„ prepare-commit-msg.sample
â”‚   â”œâ”€â”€ ğŸ“„ push-to-checkout.sample
â”‚   â”œâ”€â”€ ğŸ“„ sendemail-validate.sample
â”‚   â””â”€â”€ ğŸ“„ update.sample
â”œâ”€â”€ ğŸ“„ index
â”œâ”€â”€ ğŸ“ info
â”‚   â””â”€â”€ ğŸ“„ exclude
â”œâ”€â”€ ğŸ“ logs
â”‚   â”œâ”€â”€ ğŸ“„ HEAD
â”‚   â””â”€â”€ ğŸ“ refs
â”‚       â”œâ”€â”€ ğŸ“ heads
â”‚       â”‚   â””â”€â”€ ğŸ“„ main
â”‚       â””â”€â”€ ğŸ“ remotes
â”‚           â””â”€â”€ ğŸ“ origin
â”‚               â””â”€â”€ ğŸ“„ main
â”œâ”€â”€ ğŸ“ objects
â”‚   â”œâ”€â”€ ğŸ“ 01
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 1c4f3407a2ca351d4a80b80b38776325c8e348
â”‚   â”‚   â””â”€â”€ ğŸ“„ d3b1c2d8898017110438ca697ece4948061c84
â”‚   â”œâ”€â”€ ğŸ“ 02
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 2579abd9706ffee8c74c208315c95c91d5f04a
â”‚   â”‚   â””â”€â”€ ğŸ“„ 3c3b0d199234041727ac0a1c6e691db75ed96e
â”‚   â”œâ”€â”€ ğŸ“ 03
â”‚   â”‚   â””â”€â”€ ğŸ“„ 5338531ffc08901945177a9cd55ff2027e0a45
â”‚   â”œâ”€â”€ ğŸ“ 04
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 21e0e68ef1765d926886150dc2c3723e5e620f
â”‚   â”‚   â””â”€â”€ ğŸ“„ 6391c6aa035e60ec39c96f9db29999f16b8ae5
â”‚   â”œâ”€â”€ ğŸ“ 06
â”‚   â”‚   â””â”€â”€ ğŸ“„ 7578d3f58e702df8ab50312e53eaac323e7319
â”‚   â”œâ”€â”€ ğŸ“ 07
â”‚   â”‚   â””â”€â”€ ğŸ“„ 359b8e3c01d47e8fc66bc969fa527b9ae7c61e
â”‚   â”œâ”€â”€ ğŸ“ 08
â”‚   â”‚   â””â”€â”€ ğŸ“„ 1095718ab43e9eca4635d14437c97ada012662
â”‚   â”œâ”€â”€ ğŸ“ 09
â”‚   â”‚   â””â”€â”€ ğŸ“„ 5232fb132d2592ae30dfa2c54f26651ab50e90
â”‚   â”œâ”€â”€ ğŸ“ 0c
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 7732686ef6c56e92306922d245f68dd636f5fc
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ af50b332e5e2be25368d3ba87eadc35520afd0
â”‚   â”‚   â””â”€â”€ ğŸ“„ af97aeaf14dc17648b79fea4c4ee509ee3180e
â”‚   â”œâ”€â”€ ğŸ“ 0d
â”‚   â”‚   â””â”€â”€ ğŸ“„ acacfd27cbaff66ab9f431adc3fb433ed7c2fd
â”‚   â”œâ”€â”€ ğŸ“ 0e
â”‚   â”‚   â””â”€â”€ ğŸ“„ a2b744e55cca85c8ee9db190da60f956cac832
â”‚   â”œâ”€â”€ ğŸ“ 0f
â”‚   â”‚   â””â”€â”€ ğŸ“„ 142b905010edd7cee964c3ebd9186afe6d3ec9
â”‚   â”œâ”€â”€ ğŸ“ 13
â”‚   â”‚   â””â”€â”€ ğŸ“„ 1140d16572ef16da2cf4733af404ecd84fa6ba
â”‚   â”œâ”€â”€ ğŸ“ 14
â”‚   â”‚   â””â”€â”€ ğŸ“„ 4bdb6ca445e17e6f7288a4a981eb5b8ef646e8
â”‚   â”œâ”€â”€ ğŸ“ 16
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 6c986382a44a1732d7c16b3cb1b9c15d81f049
â”‚   â”‚   â””â”€â”€ ğŸ“„ aa4a07648e86f91cb102eec2ef2ff0463352f5
â”‚   â”œâ”€â”€ ğŸ“ 17
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 03ca1b42a68ba9eeb54160ca0e163ab372d271
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 0dfafd3c9ac64f2fd0edf69ca62ca6ce63d3e4
â”‚   â”‚   â””â”€â”€ ğŸ“„ 942d2dbc5622a523b57a988256c513e117bcd9
â”‚   â”œâ”€â”€ ğŸ“ 18
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 501dbac808f938e46f1642c3b4ed9b379f8468
â”‚   â”‚   â””â”€â”€ ğŸ“„ f10a600a77ce39c74eca2f26f06747c45b4f95
â”‚   â”œâ”€â”€ ğŸ“ 19
â”‚   â”‚   â””â”€â”€ ğŸ“„ 5d4645d45a51779bc8070d4ce53d7955237ab8
â”‚   â”œâ”€â”€ ğŸ“ 1a
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 4f4cefd20fab755ac6a7f1ea29daa160f72538
â”‚   â”‚   â””â”€â”€ ğŸ“„ 5fc1ad454aece7847e3c3ceb71fa32b4f00dc9
â”‚   â”œâ”€â”€ ğŸ“ 1b
â”‚   â”‚   â””â”€â”€ ğŸ“„ 8b9851173535b5c515c3717d8711e8570312e2
â”‚   â”œâ”€â”€ ğŸ“ 1c
â”‚   â”‚   â””â”€â”€ ğŸ“„ b86c5122d7929020154514bfe8e45c05147706
â”‚   â”œâ”€â”€ ğŸ“ 1e
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 2c0e9bcd8c0545b3f51b51f012f4b0cd0c2570
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 92b68066fefb1e243d8fadbf0c6bc5cb29cbd1
â”‚   â”‚   â””â”€â”€ ğŸ“„ fc40c6b5b16b4b15d233cccef2b6f105253df7
â”‚   â”œâ”€â”€ ğŸ“ 1f
â”‚   â”‚   â””â”€â”€ ğŸ“„ 592822aaadc016eb40c6d58be119bde46e5859
â”‚   â”œâ”€â”€ ğŸ“ 21
â”‚   â”‚   â””â”€â”€ ğŸ“„ c7de8be9398f4b356ffe7d75838fa166b4d5a6
â”‚   â”œâ”€â”€ ğŸ“ 22
â”‚   â”‚   â””â”€â”€ ğŸ“„ a8fccc0483112bc52f5433eb27357eb826f36d
â”‚   â”œâ”€â”€ ğŸ“ 24
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 5b9f9cc5002dbd503f122217a3c35f350bd0f7
â”‚   â”‚   â””â”€â”€ ğŸ“„ 7c46d5482c332c526a136c22fca969c7972ab3
â”‚   â”œâ”€â”€ ğŸ“ 25
â”‚   â”‚   â””â”€â”€ ğŸ“„ 8f7b5b5c009b6e1887547108361cf43ad94f3a
â”‚   â”œâ”€â”€ ğŸ“ 27
â”‚   â”‚   â””â”€â”€ ğŸ“„ 9cbede200ddab01f60a9865e06503e4f1f238e
â”‚   â”œâ”€â”€ ğŸ“ 2a
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 5c94f3700aa3f0cbb826dea808df6413a14c80
â”‚   â”‚   â””â”€â”€ ğŸ“„ ed50b4cf016df0b9a5db4d9c20f12847a623b6
â”‚   â”œâ”€â”€ ğŸ“ 2b
â”‚   â”‚   â””â”€â”€ ğŸ“„ 924f59f7aa39b83e47a9524caaa521a0316989
â”‚   â”œâ”€â”€ ğŸ“ 2d
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ a21c35f16629a6632486a865772294235b3aca
â”‚   â”‚   â””â”€â”€ ğŸ“„ fd8f2587adb3e4721d4a4878847f59fc93a6d2
â”‚   â”œâ”€â”€ ğŸ“ 2e
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 688ee49242b993f3bce2c9e118659de6e771b1
â”‚   â”‚   â””â”€â”€ ğŸ“„ 9b7fe17e5f7a48c0deb1f55a716a0ed9e99528
â”‚   â”œâ”€â”€ ğŸ“ 2f
â”‚   â”‚   â””â”€â”€ ğŸ“„ d8b028da304101710e16e24fb84ae633734903
â”‚   â”œâ”€â”€ ğŸ“ 30
â”‚   â”‚   â””â”€â”€ ğŸ“„ bc7bfedaf9cb03f509d953dc4e1479e12b1739
â”‚   â”œâ”€â”€ ğŸ“ 33
â”‚   â”‚   â””â”€â”€ ğŸ“„ 1ecfa4d90abe173334d7cdb9c226f2f8c1d4b7
â”‚   â”œâ”€â”€ ğŸ“ 34
â”‚   â”‚   â””â”€â”€ ğŸ“„ 72d8ea191badcdf349905e0c83a9a5b72c61bb
â”‚   â”œâ”€â”€ ğŸ“ 35
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 637d91fcf82260df7aa5b0a33759f1c6d6463b
â”‚   â”‚   â””â”€â”€ ğŸ“„ f987497ad3d326fdd015e96f5092335936f38e
â”‚   â”œâ”€â”€ ğŸ“ 36
â”‚   â”‚   â””â”€â”€ ğŸ“„ c3a044078d4af52a1525597aa4753643fc9a4d
â”‚   â”œâ”€â”€ ğŸ“ 37
â”‚   â”‚   â””â”€â”€ ğŸ“„ 8e936d579c4465c4bc83dd9558e6d504383f9d
â”‚   â”œâ”€â”€ ğŸ“ 38
â”‚   â”‚   â””â”€â”€ ğŸ“„ d82f74860fc2313f96084733b780beb0422743
â”‚   â”œâ”€â”€ ğŸ“ 3a
â”‚   â”‚   â””â”€â”€ ğŸ“„ 26cfe482ad40f103679164db8355f4abda0c3c
â”‚   â”œâ”€â”€ ğŸ“ 3e
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 61d99ddf0d0f085939396537d13e32391e1cc8
â”‚   â”‚   â””â”€â”€ ğŸ“„ aea117e27f3d77e02d76813aca6e41e48d89c4
â”‚   â”œâ”€â”€ ğŸ“ 3f
â”‚   â”‚   â””â”€â”€ ğŸ“„ adc037fc91e30fe4fec67694f5de38c3a9c8fe
â”‚   â”œâ”€â”€ ğŸ“ 40
â”‚   â”‚   â””â”€â”€ ğŸ“„ 1bb06d4831d104d3d50702382e38a31042677c
â”‚   â”œâ”€â”€ ğŸ“ 41
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 7fe1d9285d741bd6dca6c3292893373b023b41
â”‚   â”‚   â””â”€â”€ ğŸ“„ 8fa607a36e62cdd1cbd28c11022cb7bf813dbd
â”‚   â”œâ”€â”€ ğŸ“ 42
â”‚   â”‚   â””â”€â”€ ğŸ“„ 9f4405dcc64aca81085f2d0586233d5f012b35
â”‚   â”œâ”€â”€ ğŸ“ 43
â”‚   â”‚   â””â”€â”€ ğŸ“„ 8dc187e50b57505b0b83955321908b90de5336
â”‚   â”œâ”€â”€ ğŸ“ 45
â”‚   â”‚   â””â”€â”€ ğŸ“„ 9c9781a1e57b392552f14c15a52659ed6374b7
â”‚   â”œâ”€â”€ ğŸ“ 47
â”‚   â”‚   â””â”€â”€ ğŸ“„ 68cdbef4362f573d70072b241a33515fffd24d
â”‚   â”œâ”€â”€ ğŸ“ 48
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 7001859544e7b94dc664e16046de7f031812cf
â”‚   â”‚   â””â”€â”€ ğŸ“„ bc69da0ecd70dbbf31dc89d62d7e5b87d303d5
â”‚   â”œâ”€â”€ ğŸ“ 49
â”‚   â”‚   â””â”€â”€ ğŸ“„ 6ed01c1f8eb450b1127faacd6530cc21241cec
â”‚   â”œâ”€â”€ ğŸ“ 4c
â”‚   â”‚   â””â”€â”€ ğŸ“„ ef73e9ed8341bc3821084bed1f983dbcb2a16c
â”‚   â”œâ”€â”€ ğŸ“ 4d
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 0ceca91f8190e320578f6df842404160f990d6
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 6c1e69837ce76bae8bdce580260c6a4c59f324
â”‚   â”‚   â””â”€â”€ ğŸ“„ cb06eaca20da46a555cd7c845413bc678d891b
â”‚   â”œâ”€â”€ ğŸ“ 4f
â”‚   â”‚   â””â”€â”€ ğŸ“„ 464e908cb2d95b6190d550192f9917063ec83d
â”‚   â”œâ”€â”€ ğŸ“ 50
â”‚   â”‚   â””â”€â”€ ğŸ“„ e6da3e648c75587589e3dd627dd8d425a673df
â”‚   â”œâ”€â”€ ğŸ“ 53
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ aa8d68d9ed4d5df40bf3944c0cc1536366d247
â”‚   â”‚   â””â”€â”€ ğŸ“„ e145e9cfa42ba7c4fcad8561d8323b7fa97dd1
â”‚   â”œâ”€â”€ ğŸ“ 56
â”‚   â”‚   â””â”€â”€ ğŸ“„ 3792e1b043b64c0c1e9c61f2760ee6dea873be
â”‚   â”œâ”€â”€ ğŸ“ 57
â”‚   â”‚   â””â”€â”€ ğŸ“„ 06e54d89a3e12c895bd638499d5b8bf9346aa0
â”‚   â”œâ”€â”€ ğŸ“ 59
â”‚   â”‚   â””â”€â”€ ğŸ“„ 85c31aba37aed65065ecd83973e4fac2a1cc23
â”‚   â”œâ”€â”€ ğŸ“ 5a
â”‚   â”‚   â””â”€â”€ ğŸ“„ eb7727f84b88c84bd9ef22981d0c54e33862b5
â”‚   â”œâ”€â”€ ğŸ“ 5b
â”‚   â”‚   â””â”€â”€ ğŸ“„ 5e331940996fc33979fb6bbc24609347a604c1
â”‚   â”œâ”€â”€ ğŸ“ 5c
â”‚   â”‚   â””â”€â”€ ğŸ“„ d50bc3ef1138d209ac53227ef21fbdf7e40f85
â”‚   â”œâ”€â”€ ğŸ“ 5d
â”‚   â”‚   â””â”€â”€ ğŸ“„ da231381c5ae359b48029a689ea48a9e95bd47
â”‚   â”œâ”€â”€ ğŸ“ 5f
â”‚   â”‚   â””â”€â”€ ğŸ“„ c829594df851aad1d93c7950b0857a6c927848
â”‚   â”œâ”€â”€ ğŸ“ 61
â”‚   â”‚   â””â”€â”€ ğŸ“„ 0feb46dde34df74a9ff296d4045adcfc0c2a66
â”‚   â”œâ”€â”€ ğŸ“ 62
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 173e6964f17f9790814c2346c2500352ba4b0e
â”‚   â”‚   â””â”€â”€ ğŸ“„ 9924ac3904600542bd82d39124823ed2775a78
â”‚   â”œâ”€â”€ ğŸ“ 64
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 32d7ae7c137d3bda0fe6e2ccc70299b5419b4a
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 7ff1aeeeebbd5c0520b920ddfd53c4f8ed06e0
â”‚   â”‚   â””â”€â”€ ğŸ“„ ce7dc99b767c222426c6ed502e395c008e648a
â”‚   â”œâ”€â”€ ğŸ“ 66
â”‚   â”‚   â””â”€â”€ ğŸ“„ 5b0ab05b5fcab69252be0ad0d6c6d9817fbb50
â”‚   â”œâ”€â”€ ğŸ“ 67
â”‚   â”‚   â””â”€â”€ ğŸ“„ 9125e96883b30fa947719edad4fde869b57cb8
â”‚   â”œâ”€â”€ ğŸ“ 68
â”‚   â”‚   â””â”€â”€ ğŸ“„ c1d9df3da2565a63a8dafba7b565197e22b395
â”‚   â”œâ”€â”€ ğŸ“ 6a
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 40e698be6e12ab1cc87df1da394bd23aa72c61
â”‚   â”‚   â””â”€â”€ ğŸ“„ f9440d2f6bf93151f0b766ea090dc495459f00
â”‚   â”œâ”€â”€ ğŸ“ 6b
â”‚   â”‚   â””â”€â”€ ğŸ“„ f0b8f50e26c368cd478baec0380580103ea091
â”‚   â”œâ”€â”€ ğŸ“ 6c
â”‚   â”‚   â””â”€â”€ ğŸ“„ e42f1c0f55cd0a2fd0a1f51ce88dc55cba37f8
â”‚   â”œâ”€â”€ ğŸ“ 6d
â”‚   â”‚   â””â”€â”€ ğŸ“„ 141f620a39c167e8a93a9616b530e84fefeae3
â”‚   â”œâ”€â”€ ğŸ“ 6e
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 3ef2d0832fda6ef3e68290b96908422c1e8dbf
â”‚   â”‚   â””â”€â”€ ğŸ“„ 500560854eb1b7cc85a95902e1a1ce254b0f02
â”‚   â”œâ”€â”€ ğŸ“ 70
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 64da430c74d206d1261a9e4f1976046f52675e
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 85cab3a588483f497521508954bccc9340b3e5
â”‚   â”‚   â””â”€â”€ ğŸ“„ db48c7c5a17a9b3ff46ac87606d91d584ed95a
â”‚   â”œâ”€â”€ ğŸ“ 71
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 8289d7bf8a4963b17cfd3853aa8c082968fd0d
â”‚   â”‚   â””â”€â”€ ğŸ“„ dfdf4ddc48be236239155696c162d8a50e99bf
â”‚   â”œâ”€â”€ ğŸ“ 72
â”‚   â”‚   â””â”€â”€ ğŸ“„ b81939abb42ecc55a01b37992dd620b58c9b93
â”‚   â”œâ”€â”€ ğŸ“ 73
â”‚   â”‚   â””â”€â”€ ğŸ“„ 89163d63ae2a745ad18c82a58ba1b6937d6470
â”‚   â”œâ”€â”€ ğŸ“ 74
â”‚   â”‚   â””â”€â”€ ğŸ“„ ac9363084a395bda8f05adf0d3a7174bcd0209
â”‚   â”œâ”€â”€ ğŸ“ 76
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 2a45393aaeda42b5475fe2cf8871f58f33b762
â”‚   â”‚   â””â”€â”€ ğŸ“„ fe8e34841fb09f45d70b05c72257304a8ca3b6
â”‚   â”œâ”€â”€ ğŸ“ 77
â”‚   â”‚   â””â”€â”€ ğŸ“„ 09d2b191f15b92ed78aa68ac0afb65ae468e80
â”‚   â”œâ”€â”€ ğŸ“ 79
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 56a45abb997a8d7aa96a8775d1fe803d17cd3b
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 7af78de554164c947ddb7ed52fcfd4c2e10499
â”‚   â”‚   â””â”€â”€ ğŸ“„ bd44455e3bd99b5c42eea410e308837fc88be2
â”‚   â”œâ”€â”€ ğŸ“ 7a
â”‚   â”‚   â””â”€â”€ ğŸ“„ 56a4edb8060f159ab81ca5873cfb5414425c4e
â”‚   â”œâ”€â”€ ğŸ“ 7b
â”‚   â”‚   â””â”€â”€ ğŸ“„ df39f11c5d4c9c29b1e3f49ac0c5ad58ae8bf7
â”‚   â”œâ”€â”€ ğŸ“ 7c
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 34a2262fe3d4653d13911cb6dd734ec0037fa7
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ b11cdfe85fa7ab56b0a0ca05cd13680d9349bf
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ eab80c6aac9df8aa9757c5cece14f861461f59
â”‚   â”‚   â””â”€â”€ ğŸ“„ f3f7c9ae4b4e1cb6638f37d3eade859922259b
â”‚   â”œâ”€â”€ ğŸ“ 7d
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 39c01632589d5665eb9e202e982b1806b8c544
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 529278cb28c342ad690ee7919afb64041dd8ae
â”‚   â”‚   â””â”€â”€ ğŸ“„ 798124c646e68edf296d96748d0af9436f06b2
â”‚   â”œâ”€â”€ ğŸ“ 7e
â”‚   â”‚   â””â”€â”€ ğŸ“„ 704381fd347badb7c96bfa21540f98a45cda95
â”‚   â”œâ”€â”€ ğŸ“ 7f
â”‚   â”‚   â””â”€â”€ ğŸ“„ ca61df34bafe98cb99d50368cce8f0bf9d639a
â”‚   â”œâ”€â”€ ğŸ“ 80
â”‚   â”‚   â””â”€â”€ ğŸ“„ c3bb15580f39664432dd2c6f8ded47bc24691e
â”‚   â”œâ”€â”€ ğŸ“ 81
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 0a83acb4a000e46afb156f7895190f262f3121
â”‚   â”‚   â””â”€â”€ ğŸ“„ 4b4d77bc50ac843db4d6b3676de31e21e13256
â”‚   â”œâ”€â”€ ğŸ“ 83
â”‚   â”‚   â””â”€â”€ ğŸ“„ f1d37f5217a2f101d96a5f11366a52809a3ab6
â”‚   â”œâ”€â”€ ğŸ“ 84
â”‚   â”‚   â””â”€â”€ ğŸ“„ 1da6364f96af1a634a8efd4e2042a60ff21057
â”‚   â”œâ”€â”€ ğŸ“ 85
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ b7bfbf6d9f0380f8324f927d96b3295d9de8e5
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ c3f48a9c6f8a6d58cf8ec3a8c3b24fdca51045
â”‚   â”‚   â””â”€â”€ ğŸ“„ d86b9ae38256272c9e9ba1f23ab3ea0045967f
â”‚   â”œâ”€â”€ ğŸ“ 86
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 6e5b9b6404de8e6675196deae622e16ebac24b
â”‚   â”‚   â””â”€â”€ ğŸ“„ 8fe53e217cef92bac979cfe52fa7b16c2d98a6
â”‚   â”œâ”€â”€ ğŸ“ 87
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 075aee20de5ad512835c404b03e8f843105629
â”‚   â”‚   â””â”€â”€ ğŸ“„ 1293904176d0ea25e1e2013d367e745d9d1eb3
â”‚   â”œâ”€â”€ ğŸ“ 88
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 87e20e06a3d4fa53945c13d2afecce1718d8c1
â”‚   â”‚   â””â”€â”€ ğŸ“„ f260ec5c236bab8bd74e6d50bb759637d9088c
â”‚   â”œâ”€â”€ ğŸ“ 89
â”‚   â”‚   â””â”€â”€ ğŸ“„ 6b231d40acdfd9d701a0d0fc8d0b14084ee9a5
â”‚   â”œâ”€â”€ ğŸ“ 8a
â”‚   â”‚   â””â”€â”€ ğŸ“„ d4d40102947fd026a7e6f6b6c2c02729760683
â”‚   â”œâ”€â”€ ğŸ“ 8d
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 0143e85ae7092db7582fdac25e0cd95485e8c1
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 69600324b606d1d577a74a486a7f8c4bd346f1
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 7149b598ca9e863bbfeabfdfa1981da071c3f4
â”‚   â”‚   â””â”€â”€ ğŸ“„ a931ebd7e162f1237b9e2edc4688cbc02dd524
â”‚   â”œâ”€â”€ ğŸ“ 8e
â”‚   â”‚   â””â”€â”€ ğŸ“„ 5966b63c1a3936b0f8158c8881345f503939a8
â”‚   â”œâ”€â”€ ğŸ“ 8f
â”‚   â”‚   â””â”€â”€ ğŸ“„ 5be2be1ea1cc973344b9fd622a3369d450f4aa
â”‚   â”œâ”€â”€ ğŸ“ 91
â”‚   â”‚   â””â”€â”€ ğŸ“„ bf1d7ed4aed74f112fee86103c107b85394638
â”‚   â”œâ”€â”€ ğŸ“ 93
â”‚   â”‚   â””â”€â”€ ğŸ“„ 3539f0665ba8a542be8f8ce9877fa5a0470f62
â”‚   â”œâ”€â”€ ğŸ“ 94
â”‚   â”‚   â””â”€â”€ ğŸ“„ 1cba47624e7e78511ce54327c047bcbdb18ca7
â”‚   â”œâ”€â”€ ğŸ“ 95
â”‚   â”‚   â””â”€â”€ ğŸ“„ 709b364df433f96ddffda4419bc3cf5ca60df4
â”‚   â”œâ”€â”€ ğŸ“ 96
â”‚   â”‚   â””â”€â”€ ğŸ“„ 1a5f654f7c94da4f653cfe352a988052a55c19
â”‚   â”œâ”€â”€ ğŸ“ 97
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 1c21428be5f095217bd5e0fc0a767c6fc8eeef
â”‚   â”‚   â””â”€â”€ ğŸ“„ 53f27246909045dc18488e1cbe18b9e7a0780b
â”‚   â”œâ”€â”€ ğŸ“ 9e
â”‚   â”‚   â””â”€â”€ ğŸ“„ 070425bd51c5b67d4391a46007128e2b13c42e
â”‚   â”œâ”€â”€ ğŸ“ 9f
â”‚   â”‚   â””â”€â”€ ğŸ“„ 7481a3132ccd4a907c90e29611c2589105100e
â”‚   â”œâ”€â”€ ğŸ“ a0
â”‚   â”‚   â””â”€â”€ ğŸ“„ 85665cbde8da405e77f0f4387753b5d03a64ea
â”‚   â”œâ”€â”€ ğŸ“ a1
â”‚   â”‚   â””â”€â”€ ğŸ“„ 136775fa8adcd98da1395d7aaaacc1f9249306
â”‚   â”œâ”€â”€ ğŸ“ a2
â”‚   â”‚   â””â”€â”€ ğŸ“„ 273ce1f017ef5fcd1a7ac5f0ca0d0fb9462f95
â”‚   â”œâ”€â”€ ğŸ“ a3
â”‚   â”‚   â””â”€â”€ ğŸ“„ 032655cc1b06b36e83a1fca26ad51bccebe7e3
â”‚   â”œâ”€â”€ ğŸ“ a4
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 482ff5696212014348bbaa194048dd242e83b2
â”‚   â”‚   â””â”€â”€ ğŸ“„ 904a5f40cab1b285764871ad0f065807fed2c3
â”‚   â”œâ”€â”€ ğŸ“ a5
â”‚   â”‚   â””â”€â”€ ğŸ“„ f1ea11ca64246b170a969641d57af18926d957
â”‚   â”œâ”€â”€ ğŸ“ a6
â”‚   â”‚   â””â”€â”€ ğŸ“„ ecd672004f4e6ce7257a2e4fc3ae08e3046539
â”‚   â”œâ”€â”€ ğŸ“ a7
â”‚   â”‚   â””â”€â”€ ğŸ“„ 0e8a06257599cf7372f3d657550bc9eddeef57
â”‚   â”œâ”€â”€ ğŸ“ a8
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 41e4f06f8258c74ac3ebbd52579b8e3724a415
â”‚   â”‚   â””â”€â”€ ğŸ“„ df8652d31617fcdfad232a34f32f317022c763
â”‚   â”œâ”€â”€ ğŸ“ aa
â”‚   â”‚   â””â”€â”€ ğŸ“„ 44343c6e34c12f6911ca43d88072c782647443
â”‚   â”œâ”€â”€ ğŸ“ ab
â”‚   â”‚   â””â”€â”€ ğŸ“„ e5e192af34bb07ee6583c37cb0835a9de0b44c
â”‚   â”œâ”€â”€ ğŸ“ ae
â”‚   â”‚   â””â”€â”€ ğŸ“„ 30fc8881a2ad2da8fcbb57ff6cc4a678cba406
â”‚   â”œâ”€â”€ ğŸ“ b2
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 3895f56f05c68063c1f941d773fb53d788648c
â”‚   â”‚   â””â”€â”€ ğŸ“„ bd05c7957bf5199a3814b6cb0b038d66685cff
â”‚   â”œâ”€â”€ ğŸ“ b4
â”‚   â”‚   â””â”€â”€ ğŸ“„ db2b70c57c73976293c33a1982a9ad30c38b69
â”‚   â”œâ”€â”€ ğŸ“ b5
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 3dc72d8aa69ba7ab2aec43d62fc4fd0cc0a89e
â”‚   â”‚   â””â”€â”€ ğŸ“„ 72527fc1c8a8453e5e3c5a7b949dfddc79fdd1
â”‚   â”œâ”€â”€ ğŸ“ b7
â”‚   â”‚   â””â”€â”€ ğŸ“„ 5b31445714a97049f4eaa1fb3937fc60635801
â”‚   â”œâ”€â”€ ğŸ“ b8
â”‚   â”‚   â””â”€â”€ ğŸ“„ 218df0f9753baf040cd38e5be204e428048511
â”‚   â”œâ”€â”€ ğŸ“ b9
â”‚   â”‚   â””â”€â”€ ğŸ“„ 29706c558cc44a4a67d4c19d739b0ed21577b6
â”‚   â”œâ”€â”€ ğŸ“ bc
â”‚   â”‚   â””â”€â”€ ğŸ“„ ec2a033772abc1dd1f06bf6631e35e8ddeb04b
â”‚   â”œâ”€â”€ ğŸ“ bd
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 1a0d3a7cb4f1e3d2c0f6752968221968aa395a
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 307aadb4e834baf55c63539e79acf153b33217
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ce14331cf6ca47b9a06ca974acbcd9cfa1394b
â”‚   â”‚   â””â”€â”€ ğŸ“„ d14f5da9f9170791348916138f45903bcf83ab
â”‚   â”œâ”€â”€ ğŸ“ be
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 4dcd69e967b7ff65a8feeb412e4257b9d70cd9
â”‚   â”‚   â””â”€â”€ ğŸ“„ 707d5ef0c27041b0c301fe2280012a50f74b7f
â”‚   â”œâ”€â”€ ğŸ“ c2
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 61f0b261f3173052ed537e49bfe18b7e52a406
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 704c0dc5efd1fbb5493abc0c0025d1c65c90eb
â”‚   â”‚   â””â”€â”€ ğŸ“„ d7da7271515e64d81088a30025ade4dab2769d
â”‚   â”œâ”€â”€ ğŸ“ c4
â”‚   â”‚   â””â”€â”€ ğŸ“„ b4e0e536f569e6ea1631e9aef4be97adb780c4
â”‚   â”œâ”€â”€ ğŸ“ c5
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 3e23e14ba15dbc0798e56d8973dbe596c2973c
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 5abe3a31d9b1cc76a6487d97c0dae08bfeaf68
â”‚   â”‚   â””â”€â”€ ğŸ“„ c0a3f7771a469cd4b235594fcefced9b94b174
â”‚   â”œâ”€â”€ ğŸ“ c6
â”‚   â”‚   â””â”€â”€ ğŸ“„ bb1a44e3304842065c2bc8626372bdcea152e8
â”‚   â”œâ”€â”€ ğŸ“ c7
â”‚   â”‚   â””â”€â”€ ğŸ“„ 844e222a41d10193088fbbc773570bb2c38310
â”‚   â”œâ”€â”€ ğŸ“ c9
â”‚   â”‚   â””â”€â”€ ğŸ“„ 0b2a847157f60e9398f8b22be38fa528a89b23
â”‚   â”œâ”€â”€ ğŸ“ ca
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 3449086334e80cae7710c66c3ba844db499067
â”‚   â”‚   â””â”€â”€ ğŸ“„ a7a4fa7f528d83484343db52921e58eec253fb
â”‚   â”œâ”€â”€ ğŸ“ cc
â”‚   â”‚   â””â”€â”€ ğŸ“„ be09ab37ebaeb23263535af2c7f0cb127f9c8d
â”‚   â”œâ”€â”€ ğŸ“ cd
â”‚   â”‚   â””â”€â”€ ğŸ“„ 367b0442929559224f274bb110a8b463f5938d
â”‚   â”œâ”€â”€ ğŸ“ cf
â”‚   â”‚   â””â”€â”€ ğŸ“„ bc91f1b3a8e0d54c8724cc2de4949ac47888c6
â”‚   â”œâ”€â”€ ğŸ“ d5
â”‚   â”‚   â””â”€â”€ ğŸ“„ 10ec2405c10b05d1b117550d7e1b017419d1ff
â”‚   â”œâ”€â”€ ğŸ“ d6
â”‚   â”‚   â””â”€â”€ ğŸ“„ 7663942e6abe7d1e0e7d397540fead54858e69
â”‚   â”œâ”€â”€ ğŸ“ d7
â”‚   â”‚   â””â”€â”€ ğŸ“„ 584c5e3cf054707544905a9d2eb3c84e67d2f6
â”‚   â”œâ”€â”€ ğŸ“ d8
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 6502f1a2a6e4e6baa630e7dc1fac7c300e7904
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 76e9fa5ca2c6f38d84acaea5823f20b8062fe4
â”‚   â”‚   â””â”€â”€ ğŸ“„ f81dbd7a3871e32a239a04863228354851c084
â”‚   â”œâ”€â”€ ğŸ“ d9
â”‚   â”‚   â””â”€â”€ ğŸ“„ fce4e8553ff738b782459476fcbd00420dd36b
â”‚   â”œâ”€â”€ ğŸ“ da
â”‚   â”‚   â””â”€â”€ ğŸ“„ 6ed6a5d44cf99ca634211e8a933bdd91cf77e1
â”‚   â”œâ”€â”€ ğŸ“ df
â”‚   â”‚   â””â”€â”€ ğŸ“„ ad72455e8604db9bf63db1153d8b957e5424e7
â”‚   â”œâ”€â”€ ğŸ“ e0
â”‚   â”‚   â””â”€â”€ ğŸ“„ 38158d04253cb98428521152cc9f0b7ba88649
â”‚   â”œâ”€â”€ ğŸ“ e1
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 13e9a11d6cf71067e6042c8d2a3dd62af0bc82
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 368494ca9682f9cea152dec4007885b62908bb
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 570dce56491a89285d21885c23a6f557681367
â”‚   â”‚   â””â”€â”€ ğŸ“„ f09a87edb1b6cd89678bb363efbebda51e3254
â”‚   â”œâ”€â”€ ğŸ“ e2
â”‚   â”‚   â””â”€â”€ ğŸ“„ dbd00a819c6fb5d7b6180691d3df97a2dcc27a
â”‚   â”œâ”€â”€ ğŸ“ e4
â”‚   â”‚   â””â”€â”€ ğŸ“„ 43b92497fe886d456689989369a8ba98719880
â”‚   â”œâ”€â”€ ğŸ“ e6
â”‚   â”‚   â””â”€â”€ ğŸ“„ 9de29bb2d1d6434b8b29ae775ad8c2e48c5391
â”‚   â”œâ”€â”€ ğŸ“ e7
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 61637890c6dc4c233ff1217640f85751b83f1d
â”‚   â”‚   â””â”€â”€ ğŸ“„ 7aabf913c912e7081b4c0f8c69a163f70e9224
â”‚   â”œâ”€â”€ ğŸ“ e8
â”‚   â”‚   â””â”€â”€ ğŸ“„ 80ecf609d836c20d6607aa220bfac24d778fa4
â”‚   â”œâ”€â”€ ğŸ“ e9
â”‚   â”‚   â””â”€â”€ ğŸ“„ 81943223a9aa943636f4712cfcba5be1133da6
â”‚   â”œâ”€â”€ ğŸ“ ea
â”‚   â”‚   â””â”€â”€ ğŸ“„ 0c8e1f92523b5e63b6c1b8fda2834ce817b1be
â”‚   â”œâ”€â”€ ğŸ“ eb
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 21d2b55b056ffb5950dddf1699646736c6115b
â”‚   â”‚   â””â”€â”€ ğŸ“„ d1834204e6b198142d19448ef7ab293eb0beef
â”‚   â”œâ”€â”€ ğŸ“ ec
â”‚   â”‚   â””â”€â”€ ğŸ“„ f2f2d2937fa6a7e3b70e51212a4451ed800e80
â”‚   â”œâ”€â”€ ğŸ“ ed
â”‚   â”‚   â””â”€â”€ ğŸ“„ be1b155e47e323150cf622f8369eb3ae5c45cb
â”‚   â”œâ”€â”€ ğŸ“ ee
â”‚   â”‚   â””â”€â”€ ğŸ“„ 07ccf33265ad1b87fd6bd738c1fb04a95d79a1
â”‚   â”œâ”€â”€ ğŸ“ ef
â”‚   â”‚   â””â”€â”€ ğŸ“„ cd74f8e04ddf678e15281cf783e185b2e8b2f8
â”‚   â”œâ”€â”€ ğŸ“ f0
â”‚   â”‚   â””â”€â”€ ğŸ“„ f683b8f4ff06f0953a51cbad1053b0f7435255
â”‚   â”œâ”€â”€ ğŸ“ f1
â”‚   â”‚   â””â”€â”€ ğŸ“„ 90bcd51f8521cd8956bae419014c802a7e2638
â”‚   â”œâ”€â”€ ğŸ“ f2
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 10f35e6db63c6277cd8dac329d785dc98196f4
â”‚   â”‚   â””â”€â”€ ğŸ“„ f211b47be93e3a88e82c0af51a30bdfd8efdda
â”‚   â”œâ”€â”€ ğŸ“ f3
â”‚   â”‚   â””â”€â”€ ğŸ“„ e588b1589d57acae2ed22d3a80dc6bee3e9c9d
â”‚   â”œâ”€â”€ ğŸ“ f4
â”‚   â”‚   â””â”€â”€ ğŸ“„ a05249386d6aa66fb4c88342cdd2175df93c11
â”‚   â”œâ”€â”€ ğŸ“ f5
â”‚   â”‚   â””â”€â”€ ğŸ“„ faaa4a3c88baab6bc91d7ec30161fd06bf3762
â”‚   â”œâ”€â”€ ğŸ“ f6
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ b4c0386bb12fa49570fd8774cc2ef1584323b1
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ b7959aba99838b0c3a35ce6ee7f79a7abaee0e
â”‚   â”‚   â””â”€â”€ ğŸ“„ fd8d398e1fe74477796035139020ee65f6f926
â”‚   â”œâ”€â”€ ğŸ“ f7
â”‚   â”‚   â””â”€â”€ ğŸ“„ 5c891058bb3424a497dc5fa2e840e098552bfd
â”‚   â”œâ”€â”€ ğŸ“ f8
â”‚   â”‚   â””â”€â”€ ğŸ“„ ca55d783e6bd469d6f06dd9260d539d2317f4d
â”‚   â”œâ”€â”€ ğŸ“ f9
â”‚   â”‚   â””â”€â”€ ğŸ“„ 91cdead7e82a505e144842ba28cfbdca110741
â”‚   â”œâ”€â”€ ğŸ“ fa
â”‚   â”‚   â””â”€â”€ ğŸ“„ e9b8992b59b46b425ce351fba79e1147265003
â”‚   â”œâ”€â”€ ğŸ“ fc
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ 1fb5ce10db016b97a229263ad89393cb3458ab
â”‚   â”‚   â””â”€â”€ ğŸ“„ b515bc7c0420b7d4ac893fc8d4bed29d8f9c16
â”‚   â”œâ”€â”€ ğŸ“ fd
â”‚   â”‚   â””â”€â”€ ğŸ“„ 4b79aa9f78ad0423e4380874bd3ac952eeb472
â”‚   â””â”€â”€ ğŸ“ fe
â”‚       â””â”€â”€ ğŸ“„ 513e2ff2fd634ada7dae39d71ac2834b0b2670
â””â”€â”€ ğŸ“ refs
    â”œâ”€â”€ ğŸ“ heads
    â”‚   â””â”€â”€ ğŸ“„ main
    â””â”€â”€ ğŸ“ remotes
        â””â”€â”€ ğŸ“ origin
            â””â”€â”€ ğŸ“„ main
ğŸ“„ __init__.py
ğŸ“„ __manifest__.py
ğŸ“ controllers
â”œâ”€â”€ ğŸ“„ __init__.py
â”œâ”€â”€ ğŸ“„ main.py
â””â”€â”€ ğŸ“„ webhook.py
ğŸ“ data
â”œâ”€â”€ ğŸ“„ chatbot_data.xml
â”œâ”€â”€ ğŸ“„ facebook_post_template_data.xml
â”œâ”€â”€ ğŸ“„ ir_cron_data.xml
â”œâ”€â”€ ğŸ“„ mail_template_data.xml
â””â”€â”€ ğŸ“„ user_groups_data.xml
ğŸ“„ generate_doc_3.py
ğŸ“ lib
â”œâ”€â”€ ğŸ“„ __init__.py
â””â”€â”€ ğŸ“„ facebook_api.py
ğŸ“ models
â”œâ”€â”€ ğŸ“„ __init__.py
â”œâ”€â”€ ğŸ“„ crm_lead.py
â”œâ”€â”€ ğŸ“„ res_company.py
â”œâ”€â”€ ğŸ“„ res_config_settings.py
â”œâ”€â”€ ğŸ“„ social_account.py
â”œâ”€â”€ ğŸ“„ social_analytics.py
â”œâ”€â”€ ğŸ“„ social_chatbot_automation.py
â”œâ”€â”€ ğŸ“„ social_comment.py
â”œâ”€â”€ ğŸ“„ social_conversation.py
â”œâ”€â”€ ğŸ“„ social_message.py
â”œâ”€â”€ ğŸ“„ social_messenger_order.py
â”œâ”€â”€ ğŸ“„ social_messenger_product.py
â”œâ”€â”€ ğŸ“„ social_post.py
â””â”€â”€ ğŸ“„ social_post_template.py
ğŸ“„ ok.py
ğŸ“ security
â”œâ”€â”€ ğŸ“„ ir.model.access.csv
â””â”€â”€ ğŸ“„ social_security.xml
ğŸ“ static
â”œâ”€â”€ ğŸ“ description
â”‚   â””â”€â”€ ğŸ“„ icon.png
â””â”€â”€ ğŸ“ src
    â”œâ”€â”€ ğŸ“ css
    â”‚   â””â”€â”€ ğŸ“„ social_facebook.css
    â”œâ”€â”€ ğŸ“ js
    â”‚   â”œâ”€â”€ ğŸ“„ social_conversation_list.js
    â”‚   â””â”€â”€ ğŸ“„ social_dashboard.js
    â””â”€â”€ ğŸ“ xml
        â””â”€â”€ ğŸ“„ social_conversation_templates.xml
ğŸ“ views
â”œâ”€â”€ ğŸ“„ dashboard_views.xml
â”œâ”€â”€ ğŸ“„ menu_views.xml
â”œâ”€â”€ ğŸ“„ res_config_settings_views.md
â”œâ”€â”€ ğŸ“„ social_account_views.xml
â”œâ”€â”€ ğŸ“„ social_analytics_views.xml
â”œâ”€â”€ ğŸ“„ social_chatbot_automation_views.xml
â”œâ”€â”€ ğŸ“„ social_comment_views.xml
â”œâ”€â”€ ğŸ“„ social_conversation_views.xml
â”œâ”€â”€ ğŸ“„ social_message_views.xml
â”œâ”€â”€ ğŸ“„ social_messenger_order_views.xml
â”œâ”€â”€ ğŸ“„ social_messenger_product_views.xml
â”œâ”€â”€ ğŸ“„ social_post_calendar_views.xml
â”œâ”€â”€ ğŸ“„ social_post_template_views.xml
â””â”€â”€ ğŸ“„ social_post_views.xml
ğŸ“ wizard
â”œâ”€â”€ ğŸ“„ __init__.py
â”œâ”€â”€ ğŸ“„ bulk_schedule_wizard.py
â”œâ”€â”€ ğŸ“„ post_composer_wizard.py
â””â”€â”€ ğŸ“„ wizard_views.xml


================================================================================
                              Cáº¤U TRÃšC THÆ¯ Má»¤C - 327 FILES
================================================================================

  1.  .git/COMMIT_EDITMSG
  2.  .git/HEAD
  3.  .git/config
  4.  .git/description
  5.  .git/hooks/applypatch-msg.sample
  6.  .git/hooks/commit-msg.sample
  7.  .git/hooks/fsmonitor-watchman.sample
  8.  .git/hooks/post-update.sample
  9.  .git/hooks/pre-applypatch.sample
 10.  .git/hooks/pre-commit.sample
 11.  .git/hooks/pre-merge-commit.sample
 12.  .git/hooks/pre-push.sample
 13.  .git/hooks/pre-rebase.sample
 14.  .git/hooks/pre-receive.sample
 15.  .git/hooks/prepare-commit-msg.sample
 16.  .git/hooks/push-to-checkout.sample
 17.  .git/hooks/sendemail-validate.sample
 18.  .git/hooks/update.sample
 19.  .git/index
 20.  .git/info/exclude
 21.  .git/logs/HEAD
 22.  .git/logs/refs/heads/main
 23.  .git/logs/refs/remotes/origin/main
 24.  .git/objects/01/1c4f3407a2ca351d4a80b80b38776325c8e348
 25.  .git/objects/01/d3b1c2d8898017110438ca697ece4948061c84
 26.  .git/objects/02/2579abd9706ffee8c74c208315c95c91d5f04a
 27.  .git/objects/02/3c3b0d199234041727ac0a1c6e691db75ed96e
 28.  .git/objects/03/5338531ffc08901945177a9cd55ff2027e0a45
 29.  .git/objects/04/21e0e68ef1765d926886150dc2c3723e5e620f
 30.  .git/objects/04/6391c6aa035e60ec39c96f9db29999f16b8ae5
 31.  .git/objects/06/7578d3f58e702df8ab50312e53eaac323e7319
 32.  .git/objects/07/359b8e3c01d47e8fc66bc969fa527b9ae7c61e
 33.  .git/objects/08/1095718ab43e9eca4635d14437c97ada012662
 34.  .git/objects/09/5232fb132d2592ae30dfa2c54f26651ab50e90
 35.  .git/objects/0c/7732686ef6c56e92306922d245f68dd636f5fc
 36.  .git/objects/0c/af50b332e5e2be25368d3ba87eadc35520afd0
 37.  .git/objects/0c/af97aeaf14dc17648b79fea4c4ee509ee3180e
 38.  .git/objects/0d/acacfd27cbaff66ab9f431adc3fb433ed7c2fd
 39.  .git/objects/0e/a2b744e55cca85c8ee9db190da60f956cac832
 40.  .git/objects/0f/142b905010edd7cee964c3ebd9186afe6d3ec9
 41.  .git/objects/13/1140d16572ef16da2cf4733af404ecd84fa6ba
 42.  .git/objects/14/4bdb6ca445e17e6f7288a4a981eb5b8ef646e8
 43.  .git/objects/16/6c986382a44a1732d7c16b3cb1b9c15d81f049
 44.  .git/objects/16/aa4a07648e86f91cb102eec2ef2ff0463352f5
 45.  .git/objects/17/03ca1b42a68ba9eeb54160ca0e163ab372d271
 46.  .git/objects/17/0dfafd3c9ac64f2fd0edf69ca62ca6ce63d3e4
 47.  .git/objects/17/942d2dbc5622a523b57a988256c513e117bcd9
 48.  .git/objects/18/501dbac808f938e46f1642c3b4ed9b379f8468
 49.  .git/objects/18/f10a600a77ce39c74eca2f26f06747c45b4f95
 50.  .git/objects/19/5d4645d45a51779bc8070d4ce53d7955237ab8
 51.  .git/objects/1a/4f4cefd20fab755ac6a7f1ea29daa160f72538
 52.  .git/objects/1a/5fc1ad454aece7847e3c3ceb71fa32b4f00dc9
 53.  .git/objects/1b/8b9851173535b5c515c3717d8711e8570312e2
 54.  .git/objects/1c/b86c5122d7929020154514bfe8e45c05147706
 55.  .git/objects/1e/2c0e9bcd8c0545b3f51b51f012f4b0cd0c2570
 56.  .git/objects/1e/92b68066fefb1e243d8fadbf0c6bc5cb29cbd1
 57.  .git/objects/1e/fc40c6b5b16b4b15d233cccef2b6f105253df7
 58.  .git/objects/1f/592822aaadc016eb40c6d58be119bde46e5859
 59.  .git/objects/21/c7de8be9398f4b356ffe7d75838fa166b4d5a6
 60.  .git/objects/22/a8fccc0483112bc52f5433eb27357eb826f36d
 61.  .git/objects/24/5b9f9cc5002dbd503f122217a3c35f350bd0f7
 62.  .git/objects/24/7c46d5482c332c526a136c22fca969c7972ab3
 63.  .git/objects/25/8f7b5b5c009b6e1887547108361cf43ad94f3a
 64.  .git/objects/27/9cbede200ddab01f60a9865e06503e4f1f238e
 65.  .git/objects/2a/5c94f3700aa3f0cbb826dea808df6413a14c80
 66.  .git/objects/2a/ed50b4cf016df0b9a5db4d9c20f12847a623b6
 67.  .git/objects/2b/924f59f7aa39b83e47a9524caaa521a0316989
 68.  .git/objects/2d/a21c35f16629a6632486a865772294235b3aca
 69.  .git/objects/2d/fd8f2587adb3e4721d4a4878847f59fc93a6d2
 70.  .git/objects/2e/688ee49242b993f3bce2c9e118659de6e771b1
 71.  .git/objects/2e/9b7fe17e5f7a48c0deb1f55a716a0ed9e99528
 72.  .git/objects/2f/d8b028da304101710e16e24fb84ae633734903
 73.  .git/objects/30/bc7bfedaf9cb03f509d953dc4e1479e12b1739
 74.  .git/objects/33/1ecfa4d90abe173334d7cdb9c226f2f8c1d4b7
 75.  .git/objects/34/72d8ea191badcdf349905e0c83a9a5b72c61bb
 76.  .git/objects/35/637d91fcf82260df7aa5b0a33759f1c6d6463b
 77.  .git/objects/35/f987497ad3d326fdd015e96f5092335936f38e
 78.  .git/objects/36/c3a044078d4af52a1525597aa4753643fc9a4d
 79.  .git/objects/37/8e936d579c4465c4bc83dd9558e6d504383f9d
 80.  .git/objects/38/d82f74860fc2313f96084733b780beb0422743
 81.  .git/objects/3a/26cfe482ad40f103679164db8355f4abda0c3c
 82.  .git/objects/3e/61d99ddf0d0f085939396537d13e32391e1cc8
 83.  .git/objects/3e/aea117e27f3d77e02d76813aca6e41e48d89c4
 84.  .git/objects/3f/adc037fc91e30fe4fec67694f5de38c3a9c8fe
 85.  .git/objects/40/1bb06d4831d104d3d50702382e38a31042677c
 86.  .git/objects/41/7fe1d9285d741bd6dca6c3292893373b023b41
 87.  .git/objects/41/8fa607a36e62cdd1cbd28c11022cb7bf813dbd
 88.  .git/objects/42/9f4405dcc64aca81085f2d0586233d5f012b35
 89.  .git/objects/43/8dc187e50b57505b0b83955321908b90de5336
 90.  .git/objects/45/9c9781a1e57b392552f14c15a52659ed6374b7
 91.  .git/objects/47/68cdbef4362f573d70072b241a33515fffd24d
 92.  .git/objects/48/7001859544e7b94dc664e16046de7f031812cf
 93.  .git/objects/48/bc69da0ecd70dbbf31dc89d62d7e5b87d303d5
 94.  .git/objects/49/6ed01c1f8eb450b1127faacd6530cc21241cec
 95.  .git/objects/4c/ef73e9ed8341bc3821084bed1f983dbcb2a16c
 96.  .git/objects/4d/0ceca91f8190e320578f6df842404160f990d6
 97.  .git/objects/4d/6c1e69837ce76bae8bdce580260c6a4c59f324
 98.  .git/objects/4d/cb06eaca20da46a555cd7c845413bc678d891b
 99.  .git/objects/4f/464e908cb2d95b6190d550192f9917063ec83d
100.  .git/objects/50/e6da3e648c75587589e3dd627dd8d425a673df
101.  .git/objects/53/aa8d68d9ed4d5df40bf3944c0cc1536366d247
102.  .git/objects/53/e145e9cfa42ba7c4fcad8561d8323b7fa97dd1
103.  .git/objects/56/3792e1b043b64c0c1e9c61f2760ee6dea873be
104.  .git/objects/57/06e54d89a3e12c895bd638499d5b8bf9346aa0
105.  .git/objects/59/85c31aba37aed65065ecd83973e4fac2a1cc23
106.  .git/objects/5a/eb7727f84b88c84bd9ef22981d0c54e33862b5
107.  .git/objects/5b/5e331940996fc33979fb6bbc24609347a604c1
108.  .git/objects/5c/d50bc3ef1138d209ac53227ef21fbdf7e40f85
109.  .git/objects/5d/da231381c5ae359b48029a689ea48a9e95bd47
110.  .git/objects/5f/c829594df851aad1d93c7950b0857a6c927848
111.  .git/objects/61/0feb46dde34df74a9ff296d4045adcfc0c2a66
112.  .git/objects/62/173e6964f17f9790814c2346c2500352ba4b0e
113.  .git/objects/62/9924ac3904600542bd82d39124823ed2775a78
114.  .git/objects/64/32d7ae7c137d3bda0fe6e2ccc70299b5419b4a
115.  .git/objects/64/7ff1aeeeebbd5c0520b920ddfd53c4f8ed06e0
116.  .git/objects/64/ce7dc99b767c222426c6ed502e395c008e648a
117.  .git/objects/66/5b0ab05b5fcab69252be0ad0d6c6d9817fbb50
118.  .git/objects/67/9125e96883b30fa947719edad4fde869b57cb8
119.  .git/objects/68/c1d9df3da2565a63a8dafba7b565197e22b395
120.  .git/objects/6a/40e698be6e12ab1cc87df1da394bd23aa72c61
121.  .git/objects/6a/f9440d2f6bf93151f0b766ea090dc495459f00
122.  .git/objects/6b/f0b8f50e26c368cd478baec0380580103ea091
123.  .git/objects/6c/e42f1c0f55cd0a2fd0a1f51ce88dc55cba37f8
124.  .git/objects/6d/141f620a39c167e8a93a9616b530e84fefeae3
125.  .git/objects/6e/3ef2d0832fda6ef3e68290b96908422c1e8dbf
126.  .git/objects/6e/500560854eb1b7cc85a95902e1a1ce254b0f02
127.  .git/objects/70/64da430c74d206d1261a9e4f1976046f52675e
128.  .git/objects/70/85cab3a588483f497521508954bccc9340b3e5
129.  .git/objects/70/db48c7c5a17a9b3ff46ac87606d91d584ed95a
130.  .git/objects/71/8289d7bf8a4963b17cfd3853aa8c082968fd0d
131.  .git/objects/71/dfdf4ddc48be236239155696c162d8a50e99bf
132.  .git/objects/72/b81939abb42ecc55a01b37992dd620b58c9b93
133.  .git/objects/73/89163d63ae2a745ad18c82a58ba1b6937d6470
134.  .git/objects/74/ac9363084a395bda8f05adf0d3a7174bcd0209
135.  .git/objects/76/2a45393aaeda42b5475fe2cf8871f58f33b762
136.  .git/objects/76/fe8e34841fb09f45d70b05c72257304a8ca3b6
137.  .git/objects/77/09d2b191f15b92ed78aa68ac0afb65ae468e80
138.  .git/objects/79/56a45abb997a8d7aa96a8775d1fe803d17cd3b
139.  .git/objects/79/7af78de554164c947ddb7ed52fcfd4c2e10499
140.  .git/objects/79/bd44455e3bd99b5c42eea410e308837fc88be2
141.  .git/objects/7a/56a4edb8060f159ab81ca5873cfb5414425c4e
142.  .git/objects/7b/df39f11c5d4c9c29b1e3f49ac0c5ad58ae8bf7
143.  .git/objects/7c/34a2262fe3d4653d13911cb6dd734ec0037fa7
144.  .git/objects/7c/b11cdfe85fa7ab56b0a0ca05cd13680d9349bf
145.  .git/objects/7c/eab80c6aac9df8aa9757c5cece14f861461f59
146.  .git/objects/7c/f3f7c9ae4b4e1cb6638f37d3eade859922259b
147.  .git/objects/7d/39c01632589d5665eb9e202e982b1806b8c544
148.  .git/objects/7d/529278cb28c342ad690ee7919afb64041dd8ae
149.  .git/objects/7d/798124c646e68edf296d96748d0af9436f06b2
150.  .git/objects/7e/704381fd347badb7c96bfa21540f98a45cda95
151.  .git/objects/7f/ca61df34bafe98cb99d50368cce8f0bf9d639a
152.  .git/objects/80/c3bb15580f39664432dd2c6f8ded47bc24691e
153.  .git/objects/81/0a83acb4a000e46afb156f7895190f262f3121
154.  .git/objects/81/4b4d77bc50ac843db4d6b3676de31e21e13256
155.  .git/objects/83/f1d37f5217a2f101d96a5f11366a52809a3ab6
156.  .git/objects/84/1da6364f96af1a634a8efd4e2042a60ff21057
157.  .git/objects/85/b7bfbf6d9f0380f8324f927d96b3295d9de8e5
158.  .git/objects/85/c3f48a9c6f8a6d58cf8ec3a8c3b24fdca51045
159.  .git/objects/85/d86b9ae38256272c9e9ba1f23ab3ea0045967f
160.  .git/objects/86/6e5b9b6404de8e6675196deae622e16ebac24b
161.  .git/objects/86/8fe53e217cef92bac979cfe52fa7b16c2d98a6
162.  .git/objects/87/075aee20de5ad512835c404b03e8f843105629
163.  .git/objects/87/1293904176d0ea25e1e2013d367e745d9d1eb3
164.  .git/objects/88/87e20e06a3d4fa53945c13d2afecce1718d8c1
165.  .git/objects/88/f260ec5c236bab8bd74e6d50bb759637d9088c
166.  .git/objects/89/6b231d40acdfd9d701a0d0fc8d0b14084ee9a5
167.  .git/objects/8a/d4d40102947fd026a7e6f6b6c2c02729760683
168.  .git/objects/8d/0143e85ae7092db7582fdac25e0cd95485e8c1
169.  .git/objects/8d/69600324b606d1d577a74a486a7f8c4bd346f1
170.  .git/objects/8d/7149b598ca9e863bbfeabfdfa1981da071c3f4
171.  .git/objects/8d/a931ebd7e162f1237b9e2edc4688cbc02dd524
172.  .git/objects/8e/5966b63c1a3936b0f8158c8881345f503939a8
173.  .git/objects/8f/5be2be1ea1cc973344b9fd622a3369d450f4aa
174.  .git/objects/91/bf1d7ed4aed74f112fee86103c107b85394638
175.  .git/objects/93/3539f0665ba8a542be8f8ce9877fa5a0470f62
176.  .git/objects/94/1cba47624e7e78511ce54327c047bcbdb18ca7
177.  .git/objects/95/709b364df433f96ddffda4419bc3cf5ca60df4
178.  .git/objects/96/1a5f654f7c94da4f653cfe352a988052a55c19
179.  .git/objects/97/1c21428be5f095217bd5e0fc0a767c6fc8eeef
180.  .git/objects/97/53f27246909045dc18488e1cbe18b9e7a0780b
181.  .git/objects/9e/070425bd51c5b67d4391a46007128e2b13c42e
182.  .git/objects/9f/7481a3132ccd4a907c90e29611c2589105100e
183.  .git/objects/a0/85665cbde8da405e77f0f4387753b5d03a64ea
184.  .git/objects/a1/136775fa8adcd98da1395d7aaaacc1f9249306
185.  .git/objects/a2/273ce1f017ef5fcd1a7ac5f0ca0d0fb9462f95
186.  .git/objects/a3/032655cc1b06b36e83a1fca26ad51bccebe7e3
187.  .git/objects/a4/482ff5696212014348bbaa194048dd242e83b2
188.  .git/objects/a4/904a5f40cab1b285764871ad0f065807fed2c3
189.  .git/objects/a5/f1ea11ca64246b170a969641d57af18926d957
190.  .git/objects/a6/ecd672004f4e6ce7257a2e4fc3ae08e3046539
191.  .git/objects/a7/0e8a06257599cf7372f3d657550bc9eddeef57
192.  .git/objects/a8/41e4f06f8258c74ac3ebbd52579b8e3724a415
193.  .git/objects/a8/df8652d31617fcdfad232a34f32f317022c763
194.  .git/objects/aa/44343c6e34c12f6911ca43d88072c782647443
195.  .git/objects/ab/e5e192af34bb07ee6583c37cb0835a9de0b44c
196.  .git/objects/ae/30fc8881a2ad2da8fcbb57ff6cc4a678cba406
197.  .git/objects/b2/3895f56f05c68063c1f941d773fb53d788648c
198.  .git/objects/b2/bd05c7957bf5199a3814b6cb0b038d66685cff
199.  .git/objects/b4/db2b70c57c73976293c33a1982a9ad30c38b69
200.  .git/objects/b5/3dc72d8aa69ba7ab2aec43d62fc4fd0cc0a89e
201.  .git/objects/b5/72527fc1c8a8453e5e3c5a7b949dfddc79fdd1
202.  .git/objects/b7/5b31445714a97049f4eaa1fb3937fc60635801
203.  .git/objects/b8/218df0f9753baf040cd38e5be204e428048511
204.  .git/objects/b9/29706c558cc44a4a67d4c19d739b0ed21577b6
205.  .git/objects/bc/ec2a033772abc1dd1f06bf6631e35e8ddeb04b
206.  .git/objects/bd/1a0d3a7cb4f1e3d2c0f6752968221968aa395a
207.  .git/objects/bd/307aadb4e834baf55c63539e79acf153b33217
208.  .git/objects/bd/ce14331cf6ca47b9a06ca974acbcd9cfa1394b
209.  .git/objects/bd/d14f5da9f9170791348916138f45903bcf83ab
210.  .git/objects/be/4dcd69e967b7ff65a8feeb412e4257b9d70cd9
211.  .git/objects/be/707d5ef0c27041b0c301fe2280012a50f74b7f
212.  .git/objects/c2/61f0b261f3173052ed537e49bfe18b7e52a406
213.  .git/objects/c2/704c0dc5efd1fbb5493abc0c0025d1c65c90eb
214.  .git/objects/c2/d7da7271515e64d81088a30025ade4dab2769d
215.  .git/objects/c4/b4e0e536f569e6ea1631e9aef4be97adb780c4
216.  .git/objects/c5/3e23e14ba15dbc0798e56d8973dbe596c2973c
217.  .git/objects/c5/5abe3a31d9b1cc76a6487d97c0dae08bfeaf68
218.  .git/objects/c5/c0a3f7771a469cd4b235594fcefced9b94b174
219.  .git/objects/c6/bb1a44e3304842065c2bc8626372bdcea152e8
220.  .git/objects/c7/844e222a41d10193088fbbc773570bb2c38310
221.  .git/objects/c9/0b2a847157f60e9398f8b22be38fa528a89b23
222.  .git/objects/ca/3449086334e80cae7710c66c3ba844db499067
223.  .git/objects/ca/a7a4fa7f528d83484343db52921e58eec253fb
224.  .git/objects/cc/be09ab37ebaeb23263535af2c7f0cb127f9c8d
225.  .git/objects/cd/367b0442929559224f274bb110a8b463f5938d
226.  .git/objects/cf/bc91f1b3a8e0d54c8724cc2de4949ac47888c6
227.  .git/objects/d5/10ec2405c10b05d1b117550d7e1b017419d1ff
228.  .git/objects/d6/7663942e6abe7d1e0e7d397540fead54858e69
229.  .git/objects/d7/584c5e3cf054707544905a9d2eb3c84e67d2f6
230.  .git/objects/d8/6502f1a2a6e4e6baa630e7dc1fac7c300e7904
231.  .git/objects/d8/76e9fa5ca2c6f38d84acaea5823f20b8062fe4
232.  .git/objects/d8/f81dbd7a3871e32a239a04863228354851c084
233.  .git/objects/d9/fce4e8553ff738b782459476fcbd00420dd36b
234.  .git/objects/da/6ed6a5d44cf99ca634211e8a933bdd91cf77e1
235.  .git/objects/df/ad72455e8604db9bf63db1153d8b957e5424e7
236.  .git/objects/e0/38158d04253cb98428521152cc9f0b7ba88649
237.  .git/objects/e1/13e9a11d6cf71067e6042c8d2a3dd62af0bc82
238.  .git/objects/e1/368494ca9682f9cea152dec4007885b62908bb
239.  .git/objects/e1/570dce56491a89285d21885c23a6f557681367
240.  .git/objects/e1/f09a87edb1b6cd89678bb363efbebda51e3254
241.  .git/objects/e2/dbd00a819c6fb5d7b6180691d3df97a2dcc27a
242.  .git/objects/e4/43b92497fe886d456689989369a8ba98719880
243.  .git/objects/e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391
244.  .git/objects/e7/61637890c6dc4c233ff1217640f85751b83f1d
245.  .git/objects/e7/7aabf913c912e7081b4c0f8c69a163f70e9224
246.  .git/objects/e8/80ecf609d836c20d6607aa220bfac24d778fa4
247.  .git/objects/e9/81943223a9aa943636f4712cfcba5be1133da6
248.  .git/objects/ea/0c8e1f92523b5e63b6c1b8fda2834ce817b1be
249.  .git/objects/eb/21d2b55b056ffb5950dddf1699646736c6115b
250.  .git/objects/eb/d1834204e6b198142d19448ef7ab293eb0beef
251.  .git/objects/ec/f2f2d2937fa6a7e3b70e51212a4451ed800e80
252.  .git/objects/ed/be1b155e47e323150cf622f8369eb3ae5c45cb
253.  .git/objects/ee/07ccf33265ad1b87fd6bd738c1fb04a95d79a1
254.  .git/objects/ef/cd74f8e04ddf678e15281cf783e185b2e8b2f8
255.  .git/objects/f0/f683b8f4ff06f0953a51cbad1053b0f7435255
256.  .git/objects/f1/90bcd51f8521cd8956bae419014c802a7e2638
257.  .git/objects/f2/10f35e6db63c6277cd8dac329d785dc98196f4
258.  .git/objects/f2/f211b47be93e3a88e82c0af51a30bdfd8efdda
259.  .git/objects/f3/e588b1589d57acae2ed22d3a80dc6bee3e9c9d
260.  .git/objects/f4/a05249386d6aa66fb4c88342cdd2175df93c11
261.  .git/objects/f5/faaa4a3c88baab6bc91d7ec30161fd06bf3762
262.  .git/objects/f6/b4c0386bb12fa49570fd8774cc2ef1584323b1
263.  .git/objects/f6/b7959aba99838b0c3a35ce6ee7f79a7abaee0e
264.  .git/objects/f6/fd8d398e1fe74477796035139020ee65f6f926
265.  .git/objects/f7/5c891058bb3424a497dc5fa2e840e098552bfd
266.  .git/objects/f8/ca55d783e6bd469d6f06dd9260d539d2317f4d
267.  .git/objects/f9/91cdead7e82a505e144842ba28cfbdca110741
268.  .git/objects/fa/e9b8992b59b46b425ce351fba79e1147265003
269.  .git/objects/fc/1fb5ce10db016b97a229263ad89393cb3458ab
270.  .git/objects/fc/b515bc7c0420b7d4ac893fc8d4bed29d8f9c16
271.  .git/objects/fd/4b79aa9f78ad0423e4380874bd3ac952eeb472
272.  .git/objects/fe/513e2ff2fd634ada7dae39d71ac2834b0b2670
273.  .git/refs/heads/main
274.  .git/refs/remotes/origin/main
275.  __init__.py
276.  __manifest__.py
277.  controllers/__init__.py
278.  controllers/main.py
279.  controllers/webhook.py
280.  data/chatbot_data.xml
281.  data/facebook_post_template_data.xml
282.  data/ir_cron_data.xml
283.  data/mail_template_data.xml
284.  data/user_groups_data.xml
285.  generate_doc_3.py
286.  lib/__init__.py
287.  lib/facebook_api.py
288.  models/__init__.py
289.  models/crm_lead.py
290.  models/res_company.py
291.  models/res_config_settings.py
292.  models/social_account.py
293.  models/social_analytics.py
294.  models/social_chatbot_automation.py
295.  models/social_comment.py
296.  models/social_conversation.py
297.  models/social_message.py
298.  models/social_messenger_order.py
299.  models/social_messenger_product.py
300.  models/social_post.py
301.  models/social_post_template.py
302.  ok.py
303.  security/ir.model.access.csv
304.  security/social_security.xml
305.  static/description/icon.png
306.  static/src/css/social_facebook.css
307.  static/src/js/social_conversation_list.js
308.  static/src/js/social_dashboard.js
309.  static/src/xml/social_conversation_templates.xml
310.  views/dashboard_views.xml
311.  views/menu_views.xml
312.  views/res_config_settings_views.md
313.  views/social_account_views.xml
314.  views/social_analytics_views.xml
315.  views/social_chatbot_automation_views.xml
316.  views/social_comment_views.xml
317.  views/social_conversation_views.xml
318.  views/social_message_views.xml
319.  views/social_messenger_order_views.xml
320.  views/social_messenger_product_views.xml
321.  views/social_post_calendar_views.xml
322.  views/social_post_template_views.xml
323.  views/social_post_views.xml
324.  wizard/__init__.py
325.  wizard/bulk_schedule_wizard.py
326.  wizard/post_composer_wizard.py
327.  wizard/wizard_views.xml


================================================================================
                         Báº¢NG Tá»”NG Káº¾T 327 FILES
================================================================================
â”‚  #  â”‚ ÄÆ°á»ng dáº«n file                                     â”‚ Loáº¡i     â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1   â”‚ .git/COMMIT_EDITMSG                                â”‚ Other    â”‚
â”‚ 2   â”‚ .git/HEAD                                          â”‚ Other    â”‚
â”‚ 3   â”‚ .git/config                                        â”‚ Other    â”‚
â”‚ 4   â”‚ .git/description                                   â”‚ Other    â”‚
â”‚ 5   â”‚ .git/hooks/applypatch-msg.sample                   â”‚ Other    â”‚
â”‚ 6   â”‚ .git/hooks/commit-msg.sample                       â”‚ Other    â”‚
â”‚ 7   â”‚ .git/hooks/fsmonitor-watchman.sample               â”‚ Other    â”‚
â”‚ 8   â”‚ .git/hooks/post-update.sample                      â”‚ Other    â”‚
â”‚ 9   â”‚ .git/hooks/pre-applypatch.sample                   â”‚ Other    â”‚
â”‚ 10  â”‚ .git/hooks/pre-commit.sample                       â”‚ Other    â”‚
â”‚ 11  â”‚ .git/hooks/pre-merge-commit.sample                 â”‚ Other    â”‚
â”‚ 12  â”‚ .git/hooks/pre-push.sample                         â”‚ Other    â”‚
â”‚ 13  â”‚ .git/hooks/pre-rebase.sample                       â”‚ Other    â”‚
â”‚ 14  â”‚ .git/hooks/pre-receive.sample                      â”‚ Other    â”‚
â”‚ 15  â”‚ .git/hooks/prepare-commit-msg.sample               â”‚ Other    â”‚
â”‚ 16  â”‚ .git/hooks/push-to-checkout.sample                 â”‚ Other    â”‚
â”‚ 17  â”‚ .git/hooks/sendemail-validate.sample               â”‚ Other    â”‚
â”‚ 18  â”‚ .git/hooks/update.sample                           â”‚ Other    â”‚
â”‚ 19  â”‚ .git/index                                         â”‚ Other    â”‚
â”‚ 20  â”‚ .git/info/exclude                                  â”‚ Other    â”‚
â”‚ 21  â”‚ .git/logs/HEAD                                     â”‚ Other    â”‚
â”‚ 22  â”‚ .git/logs/refs/heads/main                          â”‚ Other    â”‚
â”‚ 23  â”‚ .git/logs/refs/remotes/origin/main                 â”‚ Other    â”‚
â”‚ 24  â”‚ .git/objects/01/1c4f3407a2ca351d4a80b80b38776325c8e348 â”‚ Other    â”‚
â”‚ 25  â”‚ .git/objects/01/d3b1c2d8898017110438ca697ece4948061c84 â”‚ Other    â”‚
â”‚ 26  â”‚ .git/objects/02/2579abd9706ffee8c74c208315c95c91d5f04a â”‚ Other    â”‚
â”‚ 27  â”‚ .git/objects/02/3c3b0d199234041727ac0a1c6e691db75ed96e â”‚ Other    â”‚
â”‚ 28  â”‚ .git/objects/03/5338531ffc08901945177a9cd55ff2027e0a45 â”‚ Other    â”‚
â”‚ 29  â”‚ .git/objects/04/21e0e68ef1765d926886150dc2c3723e5e620f â”‚ Other    â”‚
â”‚ 30  â”‚ .git/objects/04/6391c6aa035e60ec39c96f9db29999f16b8ae5 â”‚ Other    â”‚
â”‚ 31  â”‚ .git/objects/06/7578d3f58e702df8ab50312e53eaac323e7319 â”‚ Other    â”‚
â”‚ 32  â”‚ .git/objects/07/359b8e3c01d47e8fc66bc969fa527b9ae7c61e â”‚ Other    â”‚
â”‚ 33  â”‚ .git/objects/08/1095718ab43e9eca4635d14437c97ada012662 â”‚ Other    â”‚
â”‚ 34  â”‚ .git/objects/09/5232fb132d2592ae30dfa2c54f26651ab50e90 â”‚ Other    â”‚
â”‚ 35  â”‚ .git/objects/0c/7732686ef6c56e92306922d245f68dd636f5fc â”‚ Other    â”‚
â”‚ 36  â”‚ .git/objects/0c/af50b332e5e2be25368d3ba87eadc35520afd0 â”‚ Other    â”‚
â”‚ 37  â”‚ .git/objects/0c/af97aeaf14dc17648b79fea4c4ee509ee3180e â”‚ Other    â”‚
â”‚ 38  â”‚ .git/objects/0d/acacfd27cbaff66ab9f431adc3fb433ed7c2fd â”‚ Other    â”‚
â”‚ 39  â”‚ .git/objects/0e/a2b744e55cca85c8ee9db190da60f956cac832 â”‚ Other    â”‚
â”‚ 40  â”‚ .git/objects/0f/142b905010edd7cee964c3ebd9186afe6d3ec9 â”‚ Other    â”‚
â”‚ 41  â”‚ .git/objects/13/1140d16572ef16da2cf4733af404ecd84fa6ba â”‚ Other    â”‚
â”‚ 42  â”‚ .git/objects/14/4bdb6ca445e17e6f7288a4a981eb5b8ef646e8 â”‚ Other    â”‚
â”‚ 43  â”‚ .git/objects/16/6c986382a44a1732d7c16b3cb1b9c15d81f049 â”‚ Other    â”‚
â”‚ 44  â”‚ .git/objects/16/aa4a07648e86f91cb102eec2ef2ff0463352f5 â”‚ Other    â”‚
â”‚ 45  â”‚ .git/objects/17/03ca1b42a68ba9eeb54160ca0e163ab372d271 â”‚ Other    â”‚
â”‚ 46  â”‚ .git/objects/17/0dfafd3c9ac64f2fd0edf69ca62ca6ce63d3e4 â”‚ Other    â”‚
â”‚ 47  â”‚ .git/objects/17/942d2dbc5622a523b57a988256c513e117bcd9 â”‚ Other    â”‚
â”‚ 48  â”‚ .git/objects/18/501dbac808f938e46f1642c3b4ed9b379f8468 â”‚ Other    â”‚
â”‚ 49  â”‚ .git/objects/18/f10a600a77ce39c74eca2f26f06747c45b4f95 â”‚ Other    â”‚
â”‚ 50  â”‚ .git/objects/19/5d4645d45a51779bc8070d4ce53d7955237ab8 â”‚ Other    â”‚
â”‚ 51  â”‚ .git/objects/1a/4f4cefd20fab755ac6a7f1ea29daa160f72538 â”‚ Other    â”‚
â”‚ 52  â”‚ .git/objects/1a/5fc1ad454aece7847e3c3ceb71fa32b4f00dc9 â”‚ Other    â”‚
â”‚ 53  â”‚ .git/objects/1b/8b9851173535b5c515c3717d8711e8570312e2 â”‚ Other    â”‚
â”‚ 54  â”‚ .git/objects/1c/b86c5122d7929020154514bfe8e45c05147706 â”‚ Other    â”‚
â”‚ 55  â”‚ .git/objects/1e/2c0e9bcd8c0545b3f51b51f012f4b0cd0c2570 â”‚ Other    â”‚
â”‚ 56  â”‚ .git/objects/1e/92b68066fefb1e243d8fadbf0c6bc5cb29cbd1 â”‚ Other    â”‚
â”‚ 57  â”‚ .git/objects/1e/fc40c6b5b16b4b15d233cccef2b6f105253df7 â”‚ Other    â”‚
â”‚ 58  â”‚ .git/objects/1f/592822aaadc016eb40c6d58be119bde46e5859 â”‚ Other    â”‚
â”‚ 59  â”‚ .git/objects/21/c7de8be9398f4b356ffe7d75838fa166b4d5a6 â”‚ Other    â”‚
â”‚ 60  â”‚ .git/objects/22/a8fccc0483112bc52f5433eb27357eb826f36d â”‚ Other    â”‚
â”‚ 61  â”‚ .git/objects/24/5b9f9cc5002dbd503f122217a3c35f350bd0f7 â”‚ Other    â”‚
â”‚ 62  â”‚ .git/objects/24/7c46d5482c332c526a136c22fca969c7972ab3 â”‚ Other    â”‚
â”‚ 63  â”‚ .git/objects/25/8f7b5b5c009b6e1887547108361cf43ad94f3a â”‚ Other    â”‚
â”‚ 64  â”‚ .git/objects/27/9cbede200ddab01f60a9865e06503e4f1f238e â”‚ Other    â”‚
â”‚ 65  â”‚ .git/objects/2a/5c94f3700aa3f0cbb826dea808df6413a14c80 â”‚ Other    â”‚
â”‚ 66  â”‚ .git/objects/2a/ed50b4cf016df0b9a5db4d9c20f12847a623b6 â”‚ Other    â”‚
â”‚ 67  â”‚ .git/objects/2b/924f59f7aa39b83e47a9524caaa521a0316989 â”‚ Other    â”‚
â”‚ 68  â”‚ .git/objects/2d/a21c35f16629a6632486a865772294235b3aca â”‚ Other    â”‚
â”‚ 69  â”‚ .git/objects/2d/fd8f2587adb3e4721d4a4878847f59fc93a6d2 â”‚ Other    â”‚
â”‚ 70  â”‚ .git/objects/2e/688ee49242b993f3bce2c9e118659de6e771b1 â”‚ Other    â”‚
â”‚ 71  â”‚ .git/objects/2e/9b7fe17e5f7a48c0deb1f55a716a0ed9e99528 â”‚ Other    â”‚
â”‚ 72  â”‚ .git/objects/2f/d8b028da304101710e16e24fb84ae633734903 â”‚ Other    â”‚
â”‚ 73  â”‚ .git/objects/30/bc7bfedaf9cb03f509d953dc4e1479e12b1739 â”‚ Other    â”‚
â”‚ 74  â”‚ .git/objects/33/1ecfa4d90abe173334d7cdb9c226f2f8c1d4b7 â”‚ Other    â”‚
â”‚ 75  â”‚ .git/objects/34/72d8ea191badcdf349905e0c83a9a5b72c61bb â”‚ Other    â”‚
â”‚ 76  â”‚ .git/objects/35/637d91fcf82260df7aa5b0a33759f1c6d6463b â”‚ Other    â”‚
â”‚ 77  â”‚ .git/objects/35/f987497ad3d326fdd015e96f5092335936f38e â”‚ Other    â”‚
â”‚ 78  â”‚ .git/objects/36/c3a044078d4af52a1525597aa4753643fc9a4d â”‚ Other    â”‚
â”‚ 79  â”‚ .git/objects/37/8e936d579c4465c4bc83dd9558e6d504383f9d â”‚ Other    â”‚
â”‚ 80  â”‚ .git/objects/38/d82f74860fc2313f96084733b780beb0422743 â”‚ Other    â”‚
â”‚ 81  â”‚ .git/objects/3a/26cfe482ad40f103679164db8355f4abda0c3c â”‚ Other    â”‚
â”‚ 82  â”‚ .git/objects/3e/61d99ddf0d0f085939396537d13e32391e1cc8 â”‚ Other    â”‚
â”‚ 83  â”‚ .git/objects/3e/aea117e27f3d77e02d76813aca6e41e48d89c4 â”‚ Other    â”‚
â”‚ 84  â”‚ .git/objects/3f/adc037fc91e30fe4fec67694f5de38c3a9c8fe â”‚ Other    â”‚
â”‚ 85  â”‚ .git/objects/40/1bb06d4831d104d3d50702382e38a31042677c â”‚ Other    â”‚
â”‚ 86  â”‚ .git/objects/41/7fe1d9285d741bd6dca6c3292893373b023b41 â”‚ Other    â”‚
â”‚ 87  â”‚ .git/objects/41/8fa607a36e62cdd1cbd28c11022cb7bf813dbd â”‚ Other    â”‚
â”‚ 88  â”‚ .git/objects/42/9f4405dcc64aca81085f2d0586233d5f012b35 â”‚ Other    â”‚
â”‚ 89  â”‚ .git/objects/43/8dc187e50b57505b0b83955321908b90de5336 â”‚ Other    â”‚
â”‚ 90  â”‚ .git/objects/45/9c9781a1e57b392552f14c15a52659ed6374b7 â”‚ Other    â”‚
â”‚ 91  â”‚ .git/objects/47/68cdbef4362f573d70072b241a33515fffd24d â”‚ Other    â”‚
â”‚ 92  â”‚ .git/objects/48/7001859544e7b94dc664e16046de7f031812cf â”‚ Other    â”‚
â”‚ 93  â”‚ .git/objects/48/bc69da0ecd70dbbf31dc89d62d7e5b87d303d5 â”‚ Other    â”‚
â”‚ 94  â”‚ .git/objects/49/6ed01c1f8eb450b1127faacd6530cc21241cec â”‚ Other    â”‚
â”‚ 95  â”‚ .git/objects/4c/ef73e9ed8341bc3821084bed1f983dbcb2a16c â”‚ Other    â”‚
â”‚ 96  â”‚ .git/objects/4d/0ceca91f8190e320578f6df842404160f990d6 â”‚ Other    â”‚
â”‚ 97  â”‚ .git/objects/4d/6c1e69837ce76bae8bdce580260c6a4c59f324 â”‚ Other    â”‚
â”‚ 98  â”‚ .git/objects/4d/cb06eaca20da46a555cd7c845413bc678d891b â”‚ Other    â”‚
â”‚ 99  â”‚ .git/objects/4f/464e908cb2d95b6190d550192f9917063ec83d â”‚ Other    â”‚
â”‚ 100 â”‚ .git/objects/50/e6da3e648c75587589e3dd627dd8d425a673df â”‚ Other    â”‚
â”‚ 101 â”‚ .git/objects/53/aa8d68d9ed4d5df40bf3944c0cc1536366d247 â”‚ Other    â”‚
â”‚ 102 â”‚ .git/objects/53/e145e9cfa42ba7c4fcad8561d8323b7fa97dd1 â”‚ Other    â”‚
â”‚ 103 â”‚ .git/objects/56/3792e1b043b64c0c1e9c61f2760ee6dea873be â”‚ Other    â”‚
â”‚ 104 â”‚ .git/objects/57/06e54d89a3e12c895bd638499d5b8bf9346aa0 â”‚ Other    â”‚
â”‚ 105 â”‚ .git/objects/59/85c31aba37aed65065ecd83973e4fac2a1cc23 â”‚ Other    â”‚
â”‚ 106 â”‚ .git/objects/5a/eb7727f84b88c84bd9ef22981d0c54e33862b5 â”‚ Other    â”‚
â”‚ 107 â”‚ .git/objects/5b/5e331940996fc33979fb6bbc24609347a604c1 â”‚ Other    â”‚
â”‚ 108 â”‚ .git/objects/5c/d50bc3ef1138d209ac53227ef21fbdf7e40f85 â”‚ Other    â”‚
â”‚ 109 â”‚ .git/objects/5d/da231381c5ae359b48029a689ea48a9e95bd47 â”‚ Other    â”‚
â”‚ 110 â”‚ .git/objects/5f/c829594df851aad1d93c7950b0857a6c927848 â”‚ Other    â”‚
â”‚ 111 â”‚ .git/objects/61/0feb46dde34df74a9ff296d4045adcfc0c2a66 â”‚ Other    â”‚
â”‚ 112 â”‚ .git/objects/62/173e6964f17f9790814c2346c2500352ba4b0e â”‚ Other    â”‚
â”‚ 113 â”‚ .git/objects/62/9924ac3904600542bd82d39124823ed2775a78 â”‚ Other    â”‚
â”‚ 114 â”‚ .git/objects/64/32d7ae7c137d3bda0fe6e2ccc70299b5419b4a â”‚ Other    â”‚
â”‚ 115 â”‚ .git/objects/64/7ff1aeeeebbd5c0520b920ddfd53c4f8ed06e0 â”‚ Other    â”‚
â”‚ 116 â”‚ .git/objects/64/ce7dc99b767c222426c6ed502e395c008e648a â”‚ Other    â”‚
â”‚ 117 â”‚ .git/objects/66/5b0ab05b5fcab69252be0ad0d6c6d9817fbb50 â”‚ Other    â”‚
â”‚ 118 â”‚ .git/objects/67/9125e96883b30fa947719edad4fde869b57cb8 â”‚ Other    â”‚
â”‚ 119 â”‚ .git/objects/68/c1d9df3da2565a63a8dafba7b565197e22b395 â”‚ Other    â”‚
â”‚ 120 â”‚ .git/objects/6a/40e698be6e12ab1cc87df1da394bd23aa72c61 â”‚ Other    â”‚
â”‚ 121 â”‚ .git/objects/6a/f9440d2f6bf93151f0b766ea090dc495459f00 â”‚ Other    â”‚
â”‚ 122 â”‚ .git/objects/6b/f0b8f50e26c368cd478baec0380580103ea091 â”‚ Other    â”‚
â”‚ 123 â”‚ .git/objects/6c/e42f1c0f55cd0a2fd0a1f51ce88dc55cba37f8 â”‚ Other    â”‚
â”‚ 124 â”‚ .git/objects/6d/141f620a39c167e8a93a9616b530e84fefeae3 â”‚ Other    â”‚
â”‚ 125 â”‚ .git/objects/6e/3ef2d0832fda6ef3e68290b96908422c1e8dbf â”‚ Other    â”‚
â”‚ 126 â”‚ .git/objects/6e/500560854eb1b7cc85a95902e1a1ce254b0f02 â”‚ Other    â”‚
â”‚ 127 â”‚ .git/objects/70/64da430c74d206d1261a9e4f1976046f52675e â”‚ Other    â”‚
â”‚ 128 â”‚ .git/objects/70/85cab3a588483f497521508954bccc9340b3e5 â”‚ Other    â”‚
â”‚ 129 â”‚ .git/objects/70/db48c7c5a17a9b3ff46ac87606d91d584ed95a â”‚ Other    â”‚
â”‚ 130 â”‚ .git/objects/71/8289d7bf8a4963b17cfd3853aa8c082968fd0d â”‚ Other    â”‚
â”‚ 131 â”‚ .git/objects/71/dfdf4ddc48be236239155696c162d8a50e99bf â”‚ Other    â”‚
â”‚ 132 â”‚ .git/objects/72/b81939abb42ecc55a01b37992dd620b58c9b93 â”‚ Other    â”‚
â”‚ 133 â”‚ .git/objects/73/89163d63ae2a745ad18c82a58ba1b6937d6470 â”‚ Other    â”‚
â”‚ 134 â”‚ .git/objects/74/ac9363084a395bda8f05adf0d3a7174bcd0209 â”‚ Other    â”‚
â”‚ 135 â”‚ .git/objects/76/2a45393aaeda42b5475fe2cf8871f58f33b762 â”‚ Other    â”‚
â”‚ 136 â”‚ .git/objects/76/fe8e34841fb09f45d70b05c72257304a8ca3b6 â”‚ Other    â”‚
â”‚ 137 â”‚ .git/objects/77/09d2b191f15b92ed78aa68ac0afb65ae468e80 â”‚ Other    â”‚
â”‚ 138 â”‚ .git/objects/79/56a45abb997a8d7aa96a8775d1fe803d17cd3b â”‚ Other    â”‚
â”‚ 139 â”‚ .git/objects/79/7af78de554164c947ddb7ed52fcfd4c2e10499 â”‚ Other    â”‚
â”‚ 140 â”‚ .git/objects/79/bd44455e3bd99b5c42eea410e308837fc88be2 â”‚ Other    â”‚
â”‚ 141 â”‚ .git/objects/7a/56a4edb8060f159ab81ca5873cfb5414425c4e â”‚ Other    â”‚
â”‚ 142 â”‚ .git/objects/7b/df39f11c5d4c9c29b1e3f49ac0c5ad58ae8bf7 â”‚ Other    â”‚
â”‚ 143 â”‚ .git/objects/7c/34a2262fe3d4653d13911cb6dd734ec0037fa7 â”‚ Other    â”‚
â”‚ 144 â”‚ .git/objects/7c/b11cdfe85fa7ab56b0a0ca05cd13680d9349bf â”‚ Other    â”‚
â”‚ 145 â”‚ .git/objects/7c/eab80c6aac9df8aa9757c5cece14f861461f59 â”‚ Other    â”‚
â”‚ 146 â”‚ .git/objects/7c/f3f7c9ae4b4e1cb6638f37d3eade859922259b â”‚ Other    â”‚
â”‚ 147 â”‚ .git/objects/7d/39c01632589d5665eb9e202e982b1806b8c544 â”‚ Other    â”‚
â”‚ 148 â”‚ .git/objects/7d/529278cb28c342ad690ee7919afb64041dd8ae â”‚ Other    â”‚
â”‚ 149 â”‚ .git/objects/7d/798124c646e68edf296d96748d0af9436f06b2 â”‚ Other    â”‚
â”‚ 150 â”‚ .git/objects/7e/704381fd347badb7c96bfa21540f98a45cda95 â”‚ Other    â”‚
â”‚ 151 â”‚ .git/objects/7f/ca61df34bafe98cb99d50368cce8f0bf9d639a â”‚ Other    â”‚
â”‚ 152 â”‚ .git/objects/80/c3bb15580f39664432dd2c6f8ded47bc24691e â”‚ Other    â”‚
â”‚ 153 â”‚ .git/objects/81/0a83acb4a000e46afb156f7895190f262f3121 â”‚ Other    â”‚
â”‚ 154 â”‚ .git/objects/81/4b4d77bc50ac843db4d6b3676de31e21e13256 â”‚ Other    â”‚
â”‚ 155 â”‚ .git/objects/83/f1d37f5217a2f101d96a5f11366a52809a3ab6 â”‚ Other    â”‚
â”‚ 156 â”‚ .git/objects/84/1da6364f96af1a634a8efd4e2042a60ff21057 â”‚ Other    â”‚
â”‚ 157 â”‚ .git/objects/85/b7bfbf6d9f0380f8324f927d96b3295d9de8e5 â”‚ Other    â”‚
â”‚ 158 â”‚ .git/objects/85/c3f48a9c6f8a6d58cf8ec3a8c3b24fdca51045 â”‚ Other    â”‚
â”‚ 159 â”‚ .git/objects/85/d86b9ae38256272c9e9ba1f23ab3ea0045967f â”‚ Other    â”‚
â”‚ 160 â”‚ .git/objects/86/6e5b9b6404de8e6675196deae622e16ebac24b â”‚ Other    â”‚
â”‚ 161 â”‚ .git/objects/86/8fe53e217cef92bac979cfe52fa7b16c2d98a6 â”‚ Other    â”‚
â”‚ 162 â”‚ .git/objects/87/075aee20de5ad512835c404b03e8f843105629 â”‚ Other    â”‚
â”‚ 163 â”‚ .git/objects/87/1293904176d0ea25e1e2013d367e745d9d1eb3 â”‚ Other    â”‚
â”‚ 164 â”‚ .git/objects/88/87e20e06a3d4fa53945c13d2afecce1718d8c1 â”‚ Other    â”‚
â”‚ 165 â”‚ .git/objects/88/f260ec5c236bab8bd74e6d50bb759637d9088c â”‚ Other    â”‚
â”‚ 166 â”‚ .git/objects/89/6b231d40acdfd9d701a0d0fc8d0b14084ee9a5 â”‚ Other    â”‚
â”‚ 167 â”‚ .git/objects/8a/d4d40102947fd026a7e6f6b6c2c02729760683 â”‚ Other    â”‚
â”‚ 168 â”‚ .git/objects/8d/0143e85ae7092db7582fdac25e0cd95485e8c1 â”‚ Other    â”‚
â”‚ 169 â”‚ .git/objects/8d/69600324b606d1d577a74a486a7f8c4bd346f1 â”‚ Other    â”‚
â”‚ 170 â”‚ .git/objects/8d/7149b598ca9e863bbfeabfdfa1981da071c3f4 â”‚ Other    â”‚
â”‚ 171 â”‚ .git/objects/8d/a931ebd7e162f1237b9e2edc4688cbc02dd524 â”‚ Other    â”‚
â”‚ 172 â”‚ .git/objects/8e/5966b63c1a3936b0f8158c8881345f503939a8 â”‚ Other    â”‚
â”‚ 173 â”‚ .git/objects/8f/5be2be1ea1cc973344b9fd622a3369d450f4aa â”‚ Other    â”‚
â”‚ 174 â”‚ .git/objects/91/bf1d7ed4aed74f112fee86103c107b85394638 â”‚ Other    â”‚
â”‚ 175 â”‚ .git/objects/93/3539f0665ba8a542be8f8ce9877fa5a0470f62 â”‚ Other    â”‚
â”‚ 176 â”‚ .git/objects/94/1cba47624e7e78511ce54327c047bcbdb18ca7 â”‚ Other    â”‚
â”‚ 177 â”‚ .git/objects/95/709b364df433f96ddffda4419bc3cf5ca60df4 â”‚ Other    â”‚
â”‚ 178 â”‚ .git/objects/96/1a5f654f7c94da4f653cfe352a988052a55c19 â”‚ Other    â”‚
â”‚ 179 â”‚ .git/objects/97/1c21428be5f095217bd5e0fc0a767c6fc8eeef â”‚ Other    â”‚
â”‚ 180 â”‚ .git/objects/97/53f27246909045dc18488e1cbe18b9e7a0780b â”‚ Other    â”‚
â”‚ 181 â”‚ .git/objects/9e/070425bd51c5b67d4391a46007128e2b13c42e â”‚ Other    â”‚
â”‚ 182 â”‚ .git/objects/9f/7481a3132ccd4a907c90e29611c2589105100e â”‚ Other    â”‚
â”‚ 183 â”‚ .git/objects/a0/85665cbde8da405e77f0f4387753b5d03a64ea â”‚ Other    â”‚
â”‚ 184 â”‚ .git/objects/a1/136775fa8adcd98da1395d7aaaacc1f9249306 â”‚ Other    â”‚
â”‚ 185 â”‚ .git/objects/a2/273ce1f017ef5fcd1a7ac5f0ca0d0fb9462f95 â”‚ Other    â”‚
â”‚ 186 â”‚ .git/objects/a3/032655cc1b06b36e83a1fca26ad51bccebe7e3 â”‚ Other    â”‚
â”‚ 187 â”‚ .git/objects/a4/482ff5696212014348bbaa194048dd242e83b2 â”‚ Other    â”‚
â”‚ 188 â”‚ .git/objects/a4/904a5f40cab1b285764871ad0f065807fed2c3 â”‚ Other    â”‚
â”‚ 189 â”‚ .git/objects/a5/f1ea11ca64246b170a969641d57af18926d957 â”‚ Other    â”‚
â”‚ 190 â”‚ .git/objects/a6/ecd672004f4e6ce7257a2e4fc3ae08e3046539 â”‚ Other    â”‚
â”‚ 191 â”‚ .git/objects/a7/0e8a06257599cf7372f3d657550bc9eddeef57 â”‚ Other    â”‚
â”‚ 192 â”‚ .git/objects/a8/41e4f06f8258c74ac3ebbd52579b8e3724a415 â”‚ Other    â”‚
â”‚ 193 â”‚ .git/objects/a8/df8652d31617fcdfad232a34f32f317022c763 â”‚ Other    â”‚
â”‚ 194 â”‚ .git/objects/aa/44343c6e34c12f6911ca43d88072c782647443 â”‚ Other    â”‚
â”‚ 195 â”‚ .git/objects/ab/e5e192af34bb07ee6583c37cb0835a9de0b44c â”‚ Other    â”‚
â”‚ 196 â”‚ .git/objects/ae/30fc8881a2ad2da8fcbb57ff6cc4a678cba406 â”‚ Other    â”‚
â”‚ 197 â”‚ .git/objects/b2/3895f56f05c68063c1f941d773fb53d788648c â”‚ Other    â”‚
â”‚ 198 â”‚ .git/objects/b2/bd05c7957bf5199a3814b6cb0b038d66685cff â”‚ Other    â”‚
â”‚ 199 â”‚ .git/objects/b4/db2b70c57c73976293c33a1982a9ad30c38b69 â”‚ Other    â”‚
â”‚ 200 â”‚ .git/objects/b5/3dc72d8aa69ba7ab2aec43d62fc4fd0cc0a89e â”‚ Other    â”‚
â”‚ 201 â”‚ .git/objects/b5/72527fc1c8a8453e5e3c5a7b949dfddc79fdd1 â”‚ Other    â”‚
â”‚ 202 â”‚ .git/objects/b7/5b31445714a97049f4eaa1fb3937fc60635801 â”‚ Other    â”‚
â”‚ 203 â”‚ .git/objects/b8/218df0f9753baf040cd38e5be204e428048511 â”‚ Other    â”‚
â”‚ 204 â”‚ .git/objects/b9/29706c558cc44a4a67d4c19d739b0ed21577b6 â”‚ Other    â”‚
â”‚ 205 â”‚ .git/objects/bc/ec2a033772abc1dd1f06bf6631e35e8ddeb04b â”‚ Other    â”‚
â”‚ 206 â”‚ .git/objects/bd/1a0d3a7cb4f1e3d2c0f6752968221968aa395a â”‚ Other    â”‚
â”‚ 207 â”‚ .git/objects/bd/307aadb4e834baf55c63539e79acf153b33217 â”‚ Other    â”‚
â”‚ 208 â”‚ .git/objects/bd/ce14331cf6ca47b9a06ca974acbcd9cfa1394b â”‚ Other    â”‚
â”‚ 209 â”‚ .git/objects/bd/d14f5da9f9170791348916138f45903bcf83ab â”‚ Other    â”‚
â”‚ 210 â”‚ .git/objects/be/4dcd69e967b7ff65a8feeb412e4257b9d70cd9 â”‚ Other    â”‚
â”‚ 211 â”‚ .git/objects/be/707d5ef0c27041b0c301fe2280012a50f74b7f â”‚ Other    â”‚
â”‚ 212 â”‚ .git/objects/c2/61f0b261f3173052ed537e49bfe18b7e52a406 â”‚ Other    â”‚
â”‚ 213 â”‚ .git/objects/c2/704c0dc5efd1fbb5493abc0c0025d1c65c90eb â”‚ Other    â”‚
â”‚ 214 â”‚ .git/objects/c2/d7da7271515e64d81088a30025ade4dab2769d â”‚ Other    â”‚
â”‚ 215 â”‚ .git/objects/c4/b4e0e536f569e6ea1631e9aef4be97adb780c4 â”‚ Other    â”‚
â”‚ 216 â”‚ .git/objects/c5/3e23e14ba15dbc0798e56d8973dbe596c2973c â”‚ Other    â”‚
â”‚ 217 â”‚ .git/objects/c5/5abe3a31d9b1cc76a6487d97c0dae08bfeaf68 â”‚ Other    â”‚
â”‚ 218 â”‚ .git/objects/c5/c0a3f7771a469cd4b235594fcefced9b94b174 â”‚ Other    â”‚
â”‚ 219 â”‚ .git/objects/c6/bb1a44e3304842065c2bc8626372bdcea152e8 â”‚ Other    â”‚
â”‚ 220 â”‚ .git/objects/c7/844e222a41d10193088fbbc773570bb2c38310 â”‚ Other    â”‚
â”‚ 221 â”‚ .git/objects/c9/0b2a847157f60e9398f8b22be38fa528a89b23 â”‚ Other    â”‚
â”‚ 222 â”‚ .git/objects/ca/3449086334e80cae7710c66c3ba844db499067 â”‚ Other    â”‚
â”‚ 223 â”‚ .git/objects/ca/a7a4fa7f528d83484343db52921e58eec253fb â”‚ Other    â”‚
â”‚ 224 â”‚ .git/objects/cc/be09ab37ebaeb23263535af2c7f0cb127f9c8d â”‚ Other    â”‚
â”‚ 225 â”‚ .git/objects/cd/367b0442929559224f274bb110a8b463f5938d â”‚ Other    â”‚
â”‚ 226 â”‚ .git/objects/cf/bc91f1b3a8e0d54c8724cc2de4949ac47888c6 â”‚ Other    â”‚
â”‚ 227 â”‚ .git/objects/d5/10ec2405c10b05d1b117550d7e1b017419d1ff â”‚ Other    â”‚
â”‚ 228 â”‚ .git/objects/d6/7663942e6abe7d1e0e7d397540fead54858e69 â”‚ Other    â”‚
â”‚ 229 â”‚ .git/objects/d7/584c5e3cf054707544905a9d2eb3c84e67d2f6 â”‚ Other    â”‚
â”‚ 230 â”‚ .git/objects/d8/6502f1a2a6e4e6baa630e7dc1fac7c300e7904 â”‚ Other    â”‚
â”‚ 231 â”‚ .git/objects/d8/76e9fa5ca2c6f38d84acaea5823f20b8062fe4 â”‚ Other    â”‚
â”‚ 232 â”‚ .git/objects/d8/f81dbd7a3871e32a239a04863228354851c084 â”‚ Other    â”‚
â”‚ 233 â”‚ .git/objects/d9/fce4e8553ff738b782459476fcbd00420dd36b â”‚ Other    â”‚
â”‚ 234 â”‚ .git/objects/da/6ed6a5d44cf99ca634211e8a933bdd91cf77e1 â”‚ Other    â”‚
â”‚ 235 â”‚ .git/objects/df/ad72455e8604db9bf63db1153d8b957e5424e7 â”‚ Other    â”‚
â”‚ 236 â”‚ .git/objects/e0/38158d04253cb98428521152cc9f0b7ba88649 â”‚ Other    â”‚
â”‚ 237 â”‚ .git/objects/e1/13e9a11d6cf71067e6042c8d2a3dd62af0bc82 â”‚ Other    â”‚
â”‚ 238 â”‚ .git/objects/e1/368494ca9682f9cea152dec4007885b62908bb â”‚ Other    â”‚
â”‚ 239 â”‚ .git/objects/e1/570dce56491a89285d21885c23a6f557681367 â”‚ Other    â”‚
â”‚ 240 â”‚ .git/objects/e1/f09a87edb1b6cd89678bb363efbebda51e3254 â”‚ Other    â”‚
â”‚ 241 â”‚ .git/objects/e2/dbd00a819c6fb5d7b6180691d3df97a2dcc27a â”‚ Other    â”‚
â”‚ 242 â”‚ .git/objects/e4/43b92497fe886d456689989369a8ba98719880 â”‚ Other    â”‚
â”‚ 243 â”‚ .git/objects/e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391 â”‚ Other    â”‚
â”‚ 244 â”‚ .git/objects/e7/61637890c6dc4c233ff1217640f85751b83f1d â”‚ Other    â”‚
â”‚ 245 â”‚ .git/objects/e7/7aabf913c912e7081b4c0f8c69a163f70e9224 â”‚ Other    â”‚
â”‚ 246 â”‚ .git/objects/e8/80ecf609d836c20d6607aa220bfac24d778fa4 â”‚ Other    â”‚
â”‚ 247 â”‚ .git/objects/e9/81943223a9aa943636f4712cfcba5be1133da6 â”‚ Other    â”‚
â”‚ 248 â”‚ .git/objects/ea/0c8e1f92523b5e63b6c1b8fda2834ce817b1be â”‚ Other    â”‚
â”‚ 249 â”‚ .git/objects/eb/21d2b55b056ffb5950dddf1699646736c6115b â”‚ Other    â”‚
â”‚ 250 â”‚ .git/objects/eb/d1834204e6b198142d19448ef7ab293eb0beef â”‚ Other    â”‚
â”‚ 251 â”‚ .git/objects/ec/f2f2d2937fa6a7e3b70e51212a4451ed800e80 â”‚ Other    â”‚
â”‚ 252 â”‚ .git/objects/ed/be1b155e47e323150cf622f8369eb3ae5c45cb â”‚ Other    â”‚
â”‚ 253 â”‚ .git/objects/ee/07ccf33265ad1b87fd6bd738c1fb04a95d79a1 â”‚ Other    â”‚
â”‚ 254 â”‚ .git/objects/ef/cd74f8e04ddf678e15281cf783e185b2e8b2f8 â”‚ Other    â”‚
â”‚ 255 â”‚ .git/objects/f0/f683b8f4ff06f0953a51cbad1053b0f7435255 â”‚ Other    â”‚
â”‚ 256 â”‚ .git/objects/f1/90bcd51f8521cd8956bae419014c802a7e2638 â”‚ Other    â”‚
â”‚ 257 â”‚ .git/objects/f2/10f35e6db63c6277cd8dac329d785dc98196f4 â”‚ Other    â”‚
â”‚ 258 â”‚ .git/objects/f2/f211b47be93e3a88e82c0af51a30bdfd8efdda â”‚ Other    â”‚
â”‚ 259 â”‚ .git/objects/f3/e588b1589d57acae2ed22d3a80dc6bee3e9c9d â”‚ Other    â”‚
â”‚ 260 â”‚ .git/objects/f4/a05249386d6aa66fb4c88342cdd2175df93c11 â”‚ Other    â”‚
â”‚ 261 â”‚ .git/objects/f5/faaa4a3c88baab6bc91d7ec30161fd06bf3762 â”‚ Other    â”‚
â”‚ 262 â”‚ .git/objects/f6/b4c0386bb12fa49570fd8774cc2ef1584323b1 â”‚ Other    â”‚
â”‚ 263 â”‚ .git/objects/f6/b7959aba99838b0c3a35ce6ee7f79a7abaee0e â”‚ Other    â”‚
â”‚ 264 â”‚ .git/objects/f6/fd8d398e1fe74477796035139020ee65f6f926 â”‚ Other    â”‚
â”‚ 265 â”‚ .git/objects/f7/5c891058bb3424a497dc5fa2e840e098552bfd â”‚ Other    â”‚
â”‚ 266 â”‚ .git/objects/f8/ca55d783e6bd469d6f06dd9260d539d2317f4d â”‚ Other    â”‚
â”‚ 267 â”‚ .git/objects/f9/91cdead7e82a505e144842ba28cfbdca110741 â”‚ Other    â”‚
â”‚ 268 â”‚ .git/objects/fa/e9b8992b59b46b425ce351fba79e1147265003 â”‚ Other    â”‚
â”‚ 269 â”‚ .git/objects/fc/1fb5ce10db016b97a229263ad89393cb3458ab â”‚ Other    â”‚
â”‚ 270 â”‚ .git/objects/fc/b515bc7c0420b7d4ac893fc8d4bed29d8f9c16 â”‚ Other    â”‚
â”‚ 271 â”‚ .git/objects/fd/4b79aa9f78ad0423e4380874bd3ac952eeb472 â”‚ Other    â”‚
â”‚ 272 â”‚ .git/objects/fe/513e2ff2fd634ada7dae39d71ac2834b0b2670 â”‚ Other    â”‚
â”‚ 273 â”‚ .git/refs/heads/main                               â”‚ Other    â”‚
â”‚ 274 â”‚ .git/refs/remotes/origin/main                      â”‚ Other    â”‚
â”‚ 275 â”‚ __init__.py                                        â”‚ Python   â”‚
â”‚ 276 â”‚ __manifest__.py                                    â”‚ Python   â”‚
â”‚ 277 â”‚ controllers/__init__.py                            â”‚ Python   â”‚
â”‚ 278 â”‚ controllers/main.py                                â”‚ Python   â”‚
â”‚ 279 â”‚ controllers/webhook.py                             â”‚ Python   â”‚
â”‚ 280 â”‚ data/chatbot_data.xml                              â”‚ XML      â”‚
â”‚ 281 â”‚ data/facebook_post_template_data.xml               â”‚ XML      â”‚
â”‚ 282 â”‚ data/ir_cron_data.xml                              â”‚ XML      â”‚
â”‚ 283 â”‚ data/mail_template_data.xml                        â”‚ XML      â”‚
â”‚ 284 â”‚ data/user_groups_data.xml                          â”‚ XML      â”‚
â”‚ 285 â”‚ generate_doc_3.py                                  â”‚ Python   â”‚
â”‚ 286 â”‚ lib/__init__.py                                    â”‚ Python   â”‚
â”‚ 287 â”‚ lib/facebook_api.py                                â”‚ Python   â”‚
â”‚ 288 â”‚ models/__init__.py                                 â”‚ Python   â”‚
â”‚ 289 â”‚ models/crm_lead.py                                 â”‚ Python   â”‚
â”‚ 290 â”‚ models/res_company.py                              â”‚ Python   â”‚
â”‚ 291 â”‚ models/res_config_settings.py                      â”‚ Python   â”‚
â”‚ 292 â”‚ models/social_account.py                           â”‚ Python   â”‚
â”‚ 293 â”‚ models/social_analytics.py                         â”‚ Python   â”‚
â”‚ 294 â”‚ models/social_chatbot_automation.py                â”‚ Python   â”‚
â”‚ 295 â”‚ models/social_comment.py                           â”‚ Python   â”‚
â”‚ 296 â”‚ models/social_conversation.py                      â”‚ Python   â”‚
â”‚ 297 â”‚ models/social_message.py                           â”‚ Python   â”‚
â”‚ 298 â”‚ models/social_messenger_order.py                   â”‚ Python   â”‚
â”‚ 299 â”‚ models/social_messenger_product.py                 â”‚ Python   â”‚
â”‚ 300 â”‚ models/social_post.py                              â”‚ Python   â”‚
â”‚ 301 â”‚ models/social_post_template.py                     â”‚ Python   â”‚
â”‚ 302 â”‚ ok.py                                              â”‚ Python   â”‚
â”‚ 303 â”‚ security/ir.model.access.csv                       â”‚ CSV      â”‚
â”‚ 304 â”‚ security/social_security.xml                       â”‚ XML      â”‚
â”‚ 305 â”‚ static/description/icon.png                        â”‚ Image    â”‚
â”‚ 306 â”‚ static/src/css/social_facebook.css                 â”‚ CSS      â”‚
â”‚ 307 â”‚ static/src/js/social_conversation_list.js          â”‚ JS       â”‚
â”‚ 308 â”‚ static/src/js/social_dashboard.js                  â”‚ JS       â”‚
â”‚ 309 â”‚ static/src/xml/social_conversation_templates.xml   â”‚ XML      â”‚
â”‚ 310 â”‚ views/dashboard_views.xml                          â”‚ XML      â”‚
â”‚ 311 â”‚ views/menu_views.xml                               â”‚ XML      â”‚
â”‚ 312 â”‚ views/res_config_settings_views.md                 â”‚ Other    â”‚
â”‚ 313 â”‚ views/social_account_views.xml                     â”‚ XML      â”‚
â”‚ 314 â”‚ views/social_analytics_views.xml                   â”‚ XML      â”‚
â”‚ 315 â”‚ views/social_chatbot_automation_views.xml          â”‚ XML      â”‚
â”‚ 316 â”‚ views/social_comment_views.xml                     â”‚ XML      â”‚
â”‚ 317 â”‚ views/social_conversation_views.xml                â”‚ XML      â”‚
â”‚ 318 â”‚ views/social_message_views.xml                     â”‚ XML      â”‚
â”‚ 319 â”‚ views/social_messenger_order_views.xml             â”‚ XML      â”‚
â”‚ 320 â”‚ views/social_messenger_product_views.xml           â”‚ XML      â”‚
â”‚ 321 â”‚ views/social_post_calendar_views.xml               â”‚ XML      â”‚
â”‚ 322 â”‚ views/social_post_template_views.xml               â”‚ XML      â”‚
â”‚ 323 â”‚ views/social_post_views.xml                        â”‚ XML      â”‚
â”‚ 324 â”‚ wizard/__init__.py                                 â”‚ Python   â”‚
â”‚ 325 â”‚ wizard/bulk_schedule_wizard.py                     â”‚ Python   â”‚
â”‚ 326 â”‚ wizard/post_composer_wizard.py                     â”‚ Python   â”‚
â”‚ 327 â”‚ wizard/wizard_views.xml                            â”‚ XML      â”‚



================================================================================
                              Ná»˜I DUNG CÃC FILES
================================================================================

################################################################################
## FILE 1: COMMIT_EDITMSG
## ÄÆ°á»ng dáº«n: .git/COMMIT_EDITMSG
################################################################################

ok




################################################################################
## FILE 2: HEAD
## ÄÆ°á»ng dáº«n: .git/HEAD
################################################################################

ref: refs/heads/main




################################################################################
## FILE 3: config
## ÄÆ°á»ng dáº«n: .git/config
################################################################################

[core]
	repositoryformatversion = 0
	filemode = false
	bare = false
	logallrefupdates = true
	symlinks = false
	ignorecase = true
[remote "origin"]
	url = https://github.com/doanpham16112005-crypto/module_social_facebook.git
	fetch = +refs/heads/*:refs/remotes/origin/*
[branch "main"]
	remote = origin
	merge = refs/heads/main




################################################################################
## FILE 4: description
## ÄÆ°á»ng dáº«n: .git/description
################################################################################

Unnamed repository; edit this file 'description' to name the repository.




################################################################################
## FILE 5: applypatch-msg.sample
## ÄÆ°á»ng dáº«n: .git/hooks/applypatch-msg.sample
################################################################################

#!/bin/sh
#
# An example hook script to check the commit log message taken by
# applypatch from an e-mail message.
#
# The hook should exit with non-zero status after issuing an
# appropriate message if it wants to stop the commit.  The hook is
# allowed to edit the commit message file.
#
# To enable this hook, rename this file to "applypatch-msg".

. git-sh-setup
commitmsg="$(git rev-parse --git-path hooks/commit-msg)"
test -x "$commitmsg" && exec "$commitmsg" ${1+"$@"}
:




################################################################################
## FILE 6: commit-msg.sample
## ÄÆ°á»ng dáº«n: .git/hooks/commit-msg.sample
################################################################################

#!/bin/sh
#
# An example hook script to check the commit log message.
# Called by "git commit" with one argument, the name of the file
# that has the commit message.  The hook should exit with non-zero
# status after issuing an appropriate message if it wants to stop the
# commit.  The hook is allowed to edit the commit message file.
#
# To enable this hook, rename this file to "commit-msg".

# Uncomment the below to add a Signed-off-by line to the message.
# Doing this in a hook is a bad idea in general, but the prepare-commit-msg
# hook is more suited to it.
#
# SOB=$(git var GIT_AUTHOR_IDENT | sed -n 's/^\(.*>\).*$/Signed-off-by: \1/p')
# grep -qs "^$SOB" "$1" || echo "$SOB" >> "$1"

# This example catches duplicate Signed-off-by lines.

test "" = "$(grep '^Signed-off-by: ' "$1" |
	 sort | uniq -c | sed -e '/^[ 	]*1[ 	]/d')" || {
	echo >&2 Duplicate Signed-off-by lines.
	exit 1
}




################################################################################
## FILE 7: fsmonitor-watchman.sample
## ÄÆ°á»ng dáº«n: .git/hooks/fsmonitor-watchman.sample
################################################################################

#!/usr/bin/perl

use strict;
use warnings;
use IPC::Open2;

# An example hook script to integrate Watchman
# (https://facebook.github.io/watchman/) with git to speed up detecting
# new and modified files.
#
# The hook is passed a version (currently 2) and last update token
# formatted as a string and outputs to stdout a new update token and
# all files that have been modified since the update token. Paths must
# be relative to the root of the working tree and separated by a single NUL.
#
# To enable this hook, rename this file to "query-watchman" and set
# 'git config core.fsmonitor .git/hooks/query-watchman'
#
my ($version, $last_update_token) = @ARGV;

# Uncomment for debugging
# print STDERR "$0 $version $last_update_token\n";

# Check the hook interface version
if ($version ne 2) {
	die "Unsupported query-fsmonitor hook version '$version'.\n" .
	    "Falling back to scanning...\n";
}

my $git_work_tree = get_working_dir();

my $retry = 1;

my $json_pkg;
eval {
	require JSON::XS;
	$json_pkg = "JSON::XS";
	1;
} or do {
	require JSON::PP;
	$json_pkg = "JSON::PP";
};

launch_watchman();

sub launch_watchman {
	my $o = watchman_query();
	if (is_work_tree_watched($o)) {
		output_result($o->{clock}, @{$o->{files}});
	}
}

sub output_result {
	my ($clockid, @files) = @_;

	# Uncomment for debugging watchman output
	# open (my $fh, ">", ".git/watchman-output.out");
	# binmode $fh, ":utf8";
	# print $fh "$clockid\n@files\n";
	# close $fh;

	binmode STDOUT, ":utf8";
	print $clockid;
	print "\0";
	local $, = "\0";
	print @files;
}

sub watchman_clock {
	my $response = qx/watchman clock "$git_work_tree"/;
	die "Failed to get clock id on '$git_work_tree'.\n" .
		"Falling back to scanning...\n" if $? != 0;

	return $json_pkg->new->utf8->decode($response);
}

sub watchman_query {
	my $pid = open2(\*CHLD_OUT, \*CHLD_IN, 'watchman -j --no-pretty')
	or die "open2() failed: $!\n" .
	"Falling back to scanning...\n";

	# In the query expression below we're asking for names of files that
	# changed since $last_update_token but not from the .git folder.
	#
	# To accomplish this, we're using the "since" generator to use the
	# recency index to select candidate nodes and "fields" to limit the
	# output to file names only. Then we're using the "expression" term to
	# further constrain the results.
	my $last_update_line = "";
	if (substr($last_update_token, 0, 1) eq "c") {
		$last_update_token = "\"$last_update_token\"";
		$last_update_line = qq[\n"since": $last_update_token,];
	}
	my $query = <<"	END";
		["query", "$git_work_tree", {$last_update_line
			"fields": ["name"],
			"expression": ["not", ["dirname", ".git"]]
		}]
	END

	# Uncomment for debugging the watchman query
	# open (my $fh, ">", ".git/watchman-query.json");
	# print $fh $query;
	# close $fh;

	print CHLD_IN $query;
	close CHLD_IN;
	my $response = do {local $/; <CHLD_OUT>};

	# Uncomment for debugging the watch response
	# open ($fh, ">", ".git/watchman-response.json");
	# print $fh $response;
	# close $fh;

	die "Watchman: command returned no output.\n" .
	"Falling back to scanning...\n" if $response eq "";
	die "Watchman: command returned invalid output: $response\n" .
	"Falling back to scanning...\n" unless $response =~ /^\{/;

	return $json_pkg->new->utf8->decode($response);
}

sub is_work_tree_watched {
	my ($output) = @_;
	my $error = $output->{error};
	if ($retry > 0 and $error and $error =~ m/unable to resolve root .* directory (.*) is not watched/) {
		$retry--;
		my $response = qx/watchman watch "$git_work_tree"/;
		die "Failed to make watchman watch '$git_work_tree'.\n" .
		    "Falling back to scanning...\n" if $? != 0;
		$output = $json_pkg->new->utf8->decode($response);
		$error = $output->{error};
		die "Watchman: $error.\n" .
		"Falling back to scanning...\n" if $error;

		# Uncomment for debugging watchman output
		# open (my $fh, ">", ".git/watchman-output.out");
		# close $fh;

		# Watchman will always return all files on the first query so
		# return the fast "everything is dirty" flag to git and do the
		# Watchman query just to get it over with now so we won't pay
		# the cost in git to look up each individual file.
		my $o = watchman_clock();
		$error = $output->{error};

		die "Watchman: $error.\n" .
		"Falling back to scanning...\n" if $error;

		output_result($o->{clock}, ("/"));
		$last_update_token = $o->{clock};

		eval { launch_watchman() };
		return 0;
	}

	die "Watchman: $error.\n" .
	"Falling back to scanning...\n" if $error;

	return 1;
}

sub get_working_dir {
	my $working_dir;
	if ($^O =~ 'msys' || $^O =~ 'cygwin') {
		$working_dir = Win32::GetCwd();
		$working_dir =~ tr/\\/\//;
	} else {
		require Cwd;
		$working_dir = Cwd::cwd();
	}

	return $working_dir;
}




################################################################################
## FILE 8: post-update.sample
## ÄÆ°á»ng dáº«n: .git/hooks/post-update.sample
################################################################################

#!/bin/sh
#
# An example hook script to prepare a packed repository for use over
# dumb transports.
#
# To enable this hook, rename this file to "post-update".

exec git update-server-info




################################################################################
## FILE 9: pre-applypatch.sample
## ÄÆ°á»ng dáº«n: .git/hooks/pre-applypatch.sample
################################################################################

#!/bin/sh
#
# An example hook script to verify what is about to be committed
# by applypatch from an e-mail message.
#
# The hook should exit with non-zero status after issuing an
# appropriate message if it wants to stop the commit.
#
# To enable this hook, rename this file to "pre-applypatch".

. git-sh-setup
precommit="$(git rev-parse --git-path hooks/pre-commit)"
test -x "$precommit" && exec "$precommit" ${1+"$@"}
:




################################################################################
## FILE 10: pre-commit.sample
## ÄÆ°á»ng dáº«n: .git/hooks/pre-commit.sample
################################################################################

#!/bin/sh
#
# An example hook script to verify what is about to be committed.
# Called by "git commit" with no arguments.  The hook should
# exit with non-zero status after issuing an appropriate message if
# it wants to stop the commit.
#
# To enable this hook, rename this file to "pre-commit".

if git rev-parse --verify HEAD >/dev/null 2>&1
then
	against=HEAD
else
	# Initial commit: diff against an empty tree object
	against=$(git hash-object -t tree /dev/null)
fi

# If you want to allow non-ASCII filenames set this variable to true.
allownonascii=$(git config --type=bool hooks.allownonascii)

# Redirect output to stderr.
exec 1>&2

# Cross platform projects tend to avoid non-ASCII filenames; prevent
# them from being added to the repository. We exploit the fact that the
# printable range starts at the space character and ends with tilde.
if [ "$allownonascii" != "true" ] &&
	# Note that the use of brackets around a tr range is ok here, (it's
	# even required, for portability to Solaris 10's /usr/bin/tr), since
	# the square bracket bytes happen to fall in the designated range.
	test $(git diff-index --cached --name-only --diff-filter=A -z $against |
	  LC_ALL=C tr -d '[ -~]\0' | wc -c) != 0
then
	cat <<\EOF
Error: Attempt to add a non-ASCII file name.

This can cause problems if you want to work with people on other platforms.

To be portable it is advisable to rename the file.

If you know what you are doing you can disable this check using:

  git config hooks.allownonascii true
EOF
	exit 1
fi

# If there are whitespace errors, print the offending file names and fail.
exec git diff-index --check --cached $against --




################################################################################
## FILE 11: pre-merge-commit.sample
## ÄÆ°á»ng dáº«n: .git/hooks/pre-merge-commit.sample
################################################################################

#!/bin/sh
#
# An example hook script to verify what is about to be committed.
# Called by "git merge" with no arguments.  The hook should
# exit with non-zero status after issuing an appropriate message to
# stderr if it wants to stop the merge commit.
#
# To enable this hook, rename this file to "pre-merge-commit".

. git-sh-setup
test -x "$GIT_DIR/hooks/pre-commit" &&
        exec "$GIT_DIR/hooks/pre-commit"
:




################################################################################
## FILE 12: pre-push.sample
## ÄÆ°á»ng dáº«n: .git/hooks/pre-push.sample
################################################################################

#!/bin/sh

# An example hook script to verify what is about to be pushed.  Called by "git
# push" after it has checked the remote status, but before anything has been
# pushed.  If this script exits with a non-zero status nothing will be pushed.
#
# This hook is called with the following parameters:
#
# $1 -- Name of the remote to which the push is being done
# $2 -- URL to which the push is being done
#
# If pushing without using a named remote those arguments will be equal.
#
# Information about the commits which are being pushed is supplied as lines to
# the standard input in the form:
#
#   <local ref> <local oid> <remote ref> <remote oid>
#
# This sample shows how to prevent push of commits where the log message starts
# with "WIP" (work in progress).

remote="$1"
url="$2"

zero=$(git hash-object --stdin </dev/null | tr '[0-9a-f]' '0')

while read local_ref local_oid remote_ref remote_oid
do
	if test "$local_oid" = "$zero"
	then
		# Handle delete
		:
	else
		if test "$remote_oid" = "$zero"
		then
			# New branch, examine all commits
			range="$local_oid"
		else
			# Update to existing branch, examine new commits
			range="$remote_oid..$local_oid"
		fi

		# Check for WIP commit
		commit=$(git rev-list -n 1 --grep '^WIP' "$range")
		if test -n "$commit"
		then
			echo >&2 "Found WIP commit in $local_ref, not pushing"
			exit 1
		fi
	fi
done

exit 0




################################################################################
## FILE 13: pre-rebase.sample
## ÄÆ°á»ng dáº«n: .git/hooks/pre-rebase.sample
################################################################################

#!/bin/sh
#
# Copyright (c) 2006, 2008 Junio C Hamano
#
# The "pre-rebase" hook is run just before "git rebase" starts doing
# its job, and can prevent the command from running by exiting with
# non-zero status.
#
# The hook is called with the following parameters:
#
# $1 -- the upstream the series was forked from.
# $2 -- the branch being rebased (or empty when rebasing the current branch).
#
# This sample shows how to prevent topic branches that are already
# merged to 'next' branch from getting rebased, because allowing it
# would result in rebasing already published history.

publish=next
basebranch="$1"
if test "$#" = 2
then
	topic="refs/heads/$2"
else
	topic=`git symbolic-ref HEAD` ||
	exit 0 ;# we do not interrupt rebasing detached HEAD
fi

case "$topic" in
refs/heads/??/*)
	;;
*)
	exit 0 ;# we do not interrupt others.
	;;
esac

# Now we are dealing with a topic branch being rebased
# on top of master.  Is it OK to rebase it?

# Does the topic really exist?
git show-ref -q "$topic" || {
	echo >&2 "No such branch $topic"
	exit 1
}

# Is topic fully merged to master?
not_in_master=`git rev-list --pretty=oneline ^master "$topic"`
if test -z "$not_in_master"
then
	echo >&2 "$topic is fully merged to master; better remove it."
	exit 1 ;# we could allow it, but there is no point.
fi

# Is topic ever merged to next?  If so you should not be rebasing it.
only_next_1=`git rev-list ^master "^$topic" ${publish} | sort`
only_next_2=`git rev-list ^master           ${publish} | sort`
if test "$only_next_1" = "$only_next_2"
then
	not_in_topic=`git rev-list "^$topic" master`
	if test -z "$not_in_topic"
	then
		echo >&2 "$topic is already up to date with master"
		exit 1 ;# we could allow it, but there is no point.
	else
		exit 0
	fi
else
	not_in_next=`git rev-list --pretty=oneline ^${publish} "$topic"`
	/usr/bin/perl -e '
		my $topic = $ARGV[0];
		my $msg = "* $topic has commits already merged to public branch:\n";
		my (%not_in_next) = map {
			/^([0-9a-f]+) /;
			($1 => 1);
		} split(/\n/, $ARGV[1]);
		for my $elem (map {
				/^([0-9a-f]+) (.*)$/;
				[$1 => $2];
			} split(/\n/, $ARGV[2])) {
			if (!exists $not_in_next{$elem->[0]}) {
				if ($msg) {
					print STDERR $msg;
					undef $msg;
				}
				print STDERR " $elem->[1]\n";
			}
		}
	' "$topic" "$not_in_next" "$not_in_master"
	exit 1
fi

<<\DOC_END

This sample hook safeguards topic branches that have been
published from being rewound.

The workflow assumed here is:

 * Once a topic branch forks from "master", "master" is never
   merged into it again (either directly or indirectly).

 * Once a topic branch is fully cooked and merged into "master",
   it is deleted.  If you need to build on top of it to correct
   earlier mistakes, a new topic branch is created by forking at
   the tip of the "master".  This is not strictly necessary, but
   it makes it easier to keep your history simple.

 * Whenever you need to test or publish your changes to topic
   branches, merge them into "next" branch.

The script, being an example, hardcodes the publish branch name
to be "next", but it is trivial to make it configurable via
$GIT_DIR/config mechanism.

With this workflow, you would want to know:

(1) ... if a topic branch has ever been merged to "next".  Young
    topic branches can have stupid mistakes you would rather
    clean up before publishing, and things that have not been
    merged into other branches can be easily rebased without
    affecting other people.  But once it is published, you would
    not want to rewind it.

(2) ... if a topic branch has been fully merged to "master".
    Then you can delete it.  More importantly, you should not
    build on top of it -- other people may already want to
    change things related to the topic as patches against your
    "master", so if you need further changes, it is better to
    fork the topic (perhaps with the same name) afresh from the
    tip of "master".

Let's look at this example:

		   o---o---o---o---o---o---o---o---o---o "next"
		  /       /           /           /
		 /   a---a---b A     /           /
		/   /               /           /
	       /   /   c---c---c---c B         /
	      /   /   /             \         /
	     /   /   /   b---b C     \       /
	    /   /   /   /             \     /
    ---o---o---o---o---o---o---o---o---o---o---o "master"


A, B and C are topic branches.

 * A has one fix since it was merged up to "next".

 * B has finished.  It has been fully merged up to "master" and "next",
   and is ready to be deleted.

 * C has not merged to "next" at all.

We would want to allow C to be rebased, refuse A, and encourage
B to be deleted.

To compute (1):

	git rev-list ^master ^topic next
	git rev-list ^master        next

	if these match, topic has not merged in next at all.

To compute (2):

	git rev-list master..topic

	if this is empty, it is fully merged to "master".

DOC_END




################################################################################
## FILE 14: pre-receive.sample
## ÄÆ°á»ng dáº«n: .git/hooks/pre-receive.sample
################################################################################

#!/bin/sh
#
# An example hook script to make use of push options.
# The example simply echoes all push options that start with 'echoback='
# and rejects all pushes when the "reject" push option is used.
#
# To enable this hook, rename this file to "pre-receive".

if test -n "$GIT_PUSH_OPTION_COUNT"
then
	i=0
	while test "$i" -lt "$GIT_PUSH_OPTION_COUNT"
	do
		eval "value=\$GIT_PUSH_OPTION_$i"
		case "$value" in
		echoback=*)
			echo "echo from the pre-receive-hook: ${value#*=}" >&2
			;;
		reject)
			exit 1
		esac
		i=$((i + 1))
	done
fi




################################################################################
## FILE 15: prepare-commit-msg.sample
## ÄÆ°á»ng dáº«n: .git/hooks/prepare-commit-msg.sample
################################################################################

#!/bin/sh
#
# An example hook script to prepare the commit log message.
# Called by "git commit" with the name of the file that has the
# commit message, followed by the description of the commit
# message's source.  The hook's purpose is to edit the commit
# message file.  If the hook fails with a non-zero status,
# the commit is aborted.
#
# To enable this hook, rename this file to "prepare-commit-msg".

# This hook includes three examples. The first one removes the
# "# Please enter the commit message..." help message.
#
# The second includes the output of "git diff --name-status -r"
# into the message, just before the "git status" output.  It is
# commented because it doesn't cope with --amend or with squashed
# commits.
#
# The third example adds a Signed-off-by line to the message, that can
# still be edited.  This is rarely a good idea.

COMMIT_MSG_FILE=$1
COMMIT_SOURCE=$2
SHA1=$3

/usr/bin/perl -i.bak -ne 'print unless(m/^. Please enter the commit message/..m/^#$/)' "$COMMIT_MSG_FILE"

# case "$COMMIT_SOURCE,$SHA1" in
#  ,|template,)
#    /usr/bin/perl -i.bak -pe '
#       print "\n" . `git diff --cached --name-status -r`
# 	 if /^#/ && $first++ == 0' "$COMMIT_MSG_FILE" ;;
#  *) ;;
# esac

# SOB=$(git var GIT_COMMITTER_IDENT | sed -n 's/^\(.*>\).*$/Signed-off-by: \1/p')
# git interpret-trailers --in-place --trailer "$SOB" "$COMMIT_MSG_FILE"
# if test -z "$COMMIT_SOURCE"
# then
#   /usr/bin/perl -i.bak -pe 'print "\n" if !$first_line++' "$COMMIT_MSG_FILE"
# fi




################################################################################
## FILE 16: push-to-checkout.sample
## ÄÆ°á»ng dáº«n: .git/hooks/push-to-checkout.sample
################################################################################

#!/bin/sh

# An example hook script to update a checked-out tree on a git push.
#
# This hook is invoked by git-receive-pack(1) when it reacts to git
# push and updates reference(s) in its repository, and when the push
# tries to update the branch that is currently checked out and the
# receive.denyCurrentBranch configuration variable is set to
# updateInstead.
#
# By default, such a push is refused if the working tree and the index
# of the remote repository has any difference from the currently
# checked out commit; when both the working tree and the index match
# the current commit, they are updated to match the newly pushed tip
# of the branch. This hook is to be used to override the default
# behaviour; however the code below reimplements the default behaviour
# as a starting point for convenient modification.
#
# The hook receives the commit with which the tip of the current
# branch is going to be updated:
commit=$1

# It can exit with a non-zero status to refuse the push (when it does
# so, it must not modify the index or the working tree).
die () {
	echo >&2 "$*"
	exit 1
}

# Or it can make any necessary changes to the working tree and to the
# index to bring them to the desired state when the tip of the current
# branch is updated to the new commit, and exit with a zero status.
#
# For example, the hook can simply run git read-tree -u -m HEAD "$1"
# in order to emulate git fetch that is run in the reverse direction
# with git push, as the two-tree form of git read-tree -u -m is
# essentially the same as git switch or git checkout that switches
# branches while keeping the local changes in the working tree that do
# not interfere with the difference between the branches.

# The below is a more-or-less exact translation to shell of the C code
# for the default behaviour for git's push-to-checkout hook defined in
# the push_to_deploy() function in builtin/receive-pack.c.
#
# Note that the hook will be executed from the repository directory,
# not from the working tree, so if you want to perform operations on
# the working tree, you will have to adapt your code accordingly, e.g.
# by adding "cd .." or using relative paths.

if ! git update-index -q --ignore-submodules --refresh
then
	die "Up-to-date check failed"
fi

if ! git diff-files --quiet --ignore-submodules --
then
	die "Working directory has unstaged changes"
fi

# This is a rough translation of:
#
#   head_has_history() ? "HEAD" : EMPTY_TREE_SHA1_HEX
if git cat-file -e HEAD 2>/dev/null
then
	head=HEAD
else
	head=$(git hash-object -t tree --stdin </dev/null)
fi

if ! git diff-index --quiet --cached --ignore-submodules $head --
then
	die "Working directory has staged changes"
fi

if ! git read-tree -u -m "$commit"
then
	die "Could not update working tree to new HEAD"
fi




################################################################################
## FILE 17: sendemail-validate.sample
## ÄÆ°á»ng dáº«n: .git/hooks/sendemail-validate.sample
################################################################################

#!/bin/sh

# An example hook script to validate a patch (and/or patch series) before
# sending it via email.
#
# The hook should exit with non-zero status after issuing an appropriate
# message if it wants to prevent the email(s) from being sent.
#
# To enable this hook, rename this file to "sendemail-validate".
#
# By default, it will only check that the patch(es) can be applied on top of
# the default upstream branch without conflicts in a secondary worktree. After
# validation (successful or not) of the last patch of a series, the worktree
# will be deleted.
#
# The following config variables can be set to change the default remote and
# remote ref that are used to apply the patches against:
#
#   sendemail.validateRemote (default: origin)
#   sendemail.validateRemoteRef (default: HEAD)
#
# Replace the TODO placeholders with appropriate checks according to your
# needs.

validate_cover_letter () {
	file="$1"
	# TODO: Replace with appropriate checks (e.g. spell checking).
	true
}

validate_patch () {
	file="$1"
	# Ensure that the patch applies without conflicts.
	git am -3 "$file" || return
	# TODO: Replace with appropriate checks for this patch
	# (e.g. checkpatch.pl).
	true
}

validate_series () {
	# TODO: Replace with appropriate checks for the whole series
	# (e.g. quick build, coding style checks, etc.).
	true
}

# main -------------------------------------------------------------------------

if test "$GIT_SENDEMAIL_FILE_COUNTER" = 1
then
	remote=$(git config --default origin --get sendemail.validateRemote) &&
	ref=$(git config --default HEAD --get sendemail.validateRemoteRef) &&
	worktree=$(mktemp --tmpdir -d sendemail-validate.XXXXXXX) &&
	git worktree add -fd --checkout "$worktree" "refs/remotes/$remote/$ref" &&
	git config --replace-all sendemail.validateWorktree "$worktree"
else
	worktree=$(git config --get sendemail.validateWorktree)
fi || {
	echo "sendemail-validate: error: failed to prepare worktree" >&2
	exit 1
}

unset GIT_DIR GIT_WORK_TREE
cd "$worktree" &&

if grep -q "^diff --git " "$1"
then
	validate_patch "$1"
else
	validate_cover_letter "$1"
fi &&

if test "$GIT_SENDEMAIL_FILE_COUNTER" = "$GIT_SENDEMAIL_FILE_TOTAL"
then
	git config --unset-all sendemail.validateWorktree &&
	trap 'git worktree remove -ff "$worktree"' EXIT &&
	validate_series
fi




################################################################################
## FILE 18: update.sample
## ÄÆ°á»ng dáº«n: .git/hooks/update.sample
################################################################################

#!/bin/sh
#
# An example hook script to block unannotated tags from entering.
# Called by "git receive-pack" with arguments: refname sha1-old sha1-new
#
# To enable this hook, rename this file to "update".
#
# Config
# ------
# hooks.allowunannotated
#   This boolean sets whether unannotated tags will be allowed into the
#   repository.  By default they won't be.
# hooks.allowdeletetag
#   This boolean sets whether deleting tags will be allowed in the
#   repository.  By default they won't be.
# hooks.allowmodifytag
#   This boolean sets whether a tag may be modified after creation. By default
#   it won't be.
# hooks.allowdeletebranch
#   This boolean sets whether deleting branches will be allowed in the
#   repository.  By default they won't be.
# hooks.denycreatebranch
#   This boolean sets whether remotely creating branches will be denied
#   in the repository.  By default this is allowed.
#

# --- Command line
refname="$1"
oldrev="$2"
newrev="$3"

# --- Safety check
if [ -z "$GIT_DIR" ]; then
	echo "Don't run this script from the command line." >&2
	echo " (if you want, you could supply GIT_DIR then run" >&2
	echo "  $0 <ref> <oldrev> <newrev>)" >&2
	exit 1
fi

if [ -z "$refname" -o -z "$oldrev" -o -z "$newrev" ]; then
	echo "usage: $0 <ref> <oldrev> <newrev>" >&2
	exit 1
fi

# --- Config
allowunannotated=$(git config --type=bool hooks.allowunannotated)
allowdeletebranch=$(git config --type=bool hooks.allowdeletebranch)
denycreatebranch=$(git config --type=bool hooks.denycreatebranch)
allowdeletetag=$(git config --type=bool hooks.allowdeletetag)
allowmodifytag=$(git config --type=bool hooks.allowmodifytag)

# check for no description
projectdesc=$(sed -e '1q' "$GIT_DIR/description")
case "$projectdesc" in
"Unnamed repository"* | "")
	echo "*** Project description file hasn't been set" >&2
	exit 1
	;;
esac

# --- Check types
# if $newrev is 0000...0000, it's a commit to delete a ref.
zero=$(git hash-object --stdin </dev/null | tr '[0-9a-f]' '0')
if [ "$newrev" = "$zero" ]; then
	newrev_type=delete
else
	newrev_type=$(git cat-file -t $newrev)
fi

case "$refname","$newrev_type" in
	refs/tags/*,commit)
		# un-annotated tag
		short_refname=${refname##refs/tags/}
		if [ "$allowunannotated" != "true" ]; then
			echo "*** The un-annotated tag, $short_refname, is not allowed in this repository" >&2
			echo "*** Use 'git tag [ -a | -s ]' for tags you want to propagate." >&2
			exit 1
		fi
		;;
	refs/tags/*,delete)
		# delete tag
		if [ "$allowdeletetag" != "true" ]; then
			echo "*** Deleting a tag is not allowed in this repository" >&2
			exit 1
		fi
		;;
	refs/tags/*,tag)
		# annotated tag
		if [ "$allowmodifytag" != "true" ] && git rev-parse $refname > /dev/null 2>&1
		then
			echo "*** Tag '$refname' already exists." >&2
			echo "*** Modifying a tag is not allowed in this repository." >&2
			exit 1
		fi
		;;
	refs/heads/*,commit)
		# branch
		if [ "$oldrev" = "$zero" -a "$denycreatebranch" = "true" ]; then
			echo "*** Creating a branch is not allowed in this repository" >&2
			exit 1
		fi
		;;
	refs/heads/*,delete)
		# delete branch
		if [ "$allowdeletebranch" != "true" ]; then
			echo "*** Deleting a branch is not allowed in this repository" >&2
			exit 1
		fi
		;;
	refs/remotes/*,commit)
		# tracking branch
		;;
	refs/remotes/*,delete)
		# delete tracking branch
		if [ "$allowdeletebranch" != "true" ]; then
			echo "*** Deleting a tracking branch is not allowed in this repository" >&2
			exit 1
		fi
		;;
	*)
		# Anything else (is there anything else?)
		echo "*** Update hook: unknown type of update to ref $refname of type $newrev_type" >&2
		exit 1
		;;
esac

# --- Finished
exit 0




################################################################################
## FILE 19: index
## ÄÆ°á»ng dáº«n: .git/index
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 20: exclude
## ÄÆ°á»ng dáº«n: .git/info/exclude
################################################################################

# git ls-files --others --exclude-from=.git/info/exclude
# Lines that start with '#' are comments.
# For a project mostly in C, the following would be a good set of
# exclude patterns (uncomment them if you want to use them):
# *.[oa]
# *~




################################################################################
## FILE 21: HEAD
## ÄÆ°á»ng dáº«n: .git/logs/HEAD
################################################################################

0000000000000000000000000000000000000000 18501dbac808f938e46f1642c3b4ed9b379f8468 23520293 <23520293@gm.uit.edu.vn> 1766660264 +0700	commit (initial): Initial commit - module_social_facebook
18501dbac808f938e46f1642c3b4ed9b379f8468 0000000000000000000000000000000000000000 23520293 <23520293@gm.uit.edu.vn> 1766660276 +0700	Branch: renamed refs/heads/master to refs/heads/main
0000000000000000000000000000000000000000 18501dbac808f938e46f1642c3b4ed9b379f8468 23520293 <23520293@gm.uit.edu.vn> 1766660276 +0700	Branch: renamed refs/heads/master to refs/heads/main
18501dbac808f938e46f1642c3b4ed9b379f8468 6a40e698be6e12ab1cc87df1da394bd23aa72c61 23520293 <23520293@gm.uit.edu.vn> 1766663654 +0700	commit: van loi
6a40e698be6e12ab1cc87df1da394bd23aa72c61 4d0ceca91f8190e320578f6df842404160f990d6 23520293 <23520293@gm.uit.edu.vn> 1766664142 +0700	commit: van loi
4d0ceca91f8190e320578f6df842404160f990d6 4cef73e9ed8341bc3821084bed1f983dbcb2a16c 23520293 <23520293@gm.uit.edu.vn> 1766664425 +0700	commit: van loi
4cef73e9ed8341bc3821084bed1f983dbcb2a16c 166c986382a44a1732d7c16b3cb1b9c15d81f049 23520293 <23520293@gm.uit.edu.vn> 1766664660 +0700	commit: van loi
166c986382a44a1732d7c16b3cb1b9c15d81f049 cfbc91f1b3a8e0d54c8724cc2de4949ac47888c6 23520293 <23520293@gm.uit.edu.vn> 1766664944 +0700	commit: van loi
cfbc91f1b3a8e0d54c8724cc2de4949ac47888c6 efcd74f8e04ddf678e15281cf783e185b2e8b2f8 23520293 <23520293@gm.uit.edu.vn> 1766665650 +0700	commit: chay duoc
efcd74f8e04ddf678e15281cf783e185b2e8b2f8 1efc40c6b5b16b4b15d233cccef2b6f105253df7 23520293 <23520293@gm.uit.edu.vn> 1766668174 +0700	commit: chay duoc
1efc40c6b5b16b4b15d233cccef2b6f105253df7 e761637890c6dc4c233ff1217640f85751b83f1d 23520293 <23520293@gm.uit.edu.vn> 1766669463 +0700	commit: chgay duoc
e761637890c6dc4c233ff1217640f85751b83f1d f6fd8d398e1fe74477796035139020ee65f6f926 23520293 <23520293@gm.uit.edu.vn> 1766670830 +0700	commit: da chay duoc module
f6fd8d398e1fe74477796035139020ee65f6f926 629924ac3904600542bd82d39124823ed2775a78 23520293 <23520293@gm.uit.edu.vn> 1766671855 +0700	commit: da nhan tin duoc
629924ac3904600542bd82d39124823ed2775a78 01d3b1c2d8898017110438ca697ece4948061c84 23520293 <23520293@gm.uit.edu.vn> 1766672788 +0700	commit: van loi tin nhan
01d3b1c2d8898017110438ca697ece4948061c84 d9fce4e8553ff738b782459476fcbd00420dd36b 23520293 <23520293@gm.uit.edu.vn> 1766673487 +0700	commit: chÆ°a sá»­a Ä‘Æ°á»£c
d9fce4e8553ff738b782459476fcbd00420dd36b 6e3ef2d0832fda6ef3e68290b96908422c1e8dbf 23520293 <23520293@gm.uit.edu.vn> 1766674828 +0700	commit: chÆ°a láº¥y Ä‘Æ°á»£c order
6e3ef2d0832fda6ef3e68290b96908422c1e8dbf 8d7149b598ca9e863bbfeabfdfa1981da071c3f4 23520293 <23520293@gm.uit.edu.vn> 1766824650 +0700	commit: moi update
8d7149b598ca9e863bbfeabfdfa1981da071c3f4 417fe1d9285d741bd6dca6c3292893373b023b41 23520293 <23520293@gm.uit.edu.vn> 1766825224 +0700	commit: push len
417fe1d9285d741bd6dca6c3292893373b023b41 331ecfa4d90abe173334d7cdb9c226f2f8c1d4b7 23520293 <23520293@gm.uit.edu.vn> 1766825992 +0700	commit: ok
331ecfa4d90abe173334d7cdb9c226f2f8c1d4b7 195d4645d45a51779bc8070d4ce53d7955237ab8 23520293 <23520293@gm.uit.edu.vn> 1766826078 +0700	commit: ok
195d4645d45a51779bc8070d4ce53d7955237ab8 0ea2b744e55cca85c8ee9db190da60f956cac832 23520293 <23520293@gm.uit.edu.vn> 1766826185 +0700	commit: ok
0ea2b744e55cca85c8ee9db190da60f956cac832 be4dcd69e967b7ff65a8feeb412e4257b9d70cd9 23520293 <23520293@gm.uit.edu.vn> 1766827138 +0700	commit: ok
be4dcd69e967b7ff65a8feeb412e4257b9d70cd9 496ed01c1f8eb450b1127faacd6530cc21241cec 23520293 <23520293@gm.uit.edu.vn> 1766828115 +0700	commit: ok
496ed01c1f8eb450b1127faacd6530cc21241cec 6bf0b8f50e26c368cd478baec0380580103ea091 23520293 <23520293@gm.uit.edu.vn> 1766829067 +0700	commit: lol
6bf0b8f50e26c368cd478baec0380580103ea091 62173e6964f17f9790814c2346c2500352ba4b0e 23520293 <23520293@gm.uit.edu.vn> 1766830293 +0700	commit: ok
62173e6964f17f9790814c2346c2500352ba4b0e 7c34a2262fe3d4653d13911cb6dd734ec0037fa7 23520293 <23520293@gm.uit.edu.vn> 1766831429 +0700	commit: ok




################################################################################
## FILE 22: main
## ÄÆ°á»ng dáº«n: .git/logs/refs/heads/main
################################################################################

0000000000000000000000000000000000000000 18501dbac808f938e46f1642c3b4ed9b379f8468 23520293 <23520293@gm.uit.edu.vn> 1766660264 +0700	commit (initial): Initial commit - module_social_facebook
18501dbac808f938e46f1642c3b4ed9b379f8468 18501dbac808f938e46f1642c3b4ed9b379f8468 23520293 <23520293@gm.uit.edu.vn> 1766660276 +0700	Branch: renamed refs/heads/master to refs/heads/main
18501dbac808f938e46f1642c3b4ed9b379f8468 6a40e698be6e12ab1cc87df1da394bd23aa72c61 23520293 <23520293@gm.uit.edu.vn> 1766663654 +0700	commit: van loi
6a40e698be6e12ab1cc87df1da394bd23aa72c61 4d0ceca91f8190e320578f6df842404160f990d6 23520293 <23520293@gm.uit.edu.vn> 1766664142 +0700	commit: van loi
4d0ceca91f8190e320578f6df842404160f990d6 4cef73e9ed8341bc3821084bed1f983dbcb2a16c 23520293 <23520293@gm.uit.edu.vn> 1766664425 +0700	commit: van loi
4cef73e9ed8341bc3821084bed1f983dbcb2a16c 166c986382a44a1732d7c16b3cb1b9c15d81f049 23520293 <23520293@gm.uit.edu.vn> 1766664660 +0700	commit: van loi
166c986382a44a1732d7c16b3cb1b9c15d81f049 cfbc91f1b3a8e0d54c8724cc2de4949ac47888c6 23520293 <23520293@gm.uit.edu.vn> 1766664944 +0700	commit: van loi
cfbc91f1b3a8e0d54c8724cc2de4949ac47888c6 efcd74f8e04ddf678e15281cf783e185b2e8b2f8 23520293 <23520293@gm.uit.edu.vn> 1766665650 +0700	commit: chay duoc
efcd74f8e04ddf678e15281cf783e185b2e8b2f8 1efc40c6b5b16b4b15d233cccef2b6f105253df7 23520293 <23520293@gm.uit.edu.vn> 1766668174 +0700	commit: chay duoc
1efc40c6b5b16b4b15d233cccef2b6f105253df7 e761637890c6dc4c233ff1217640f85751b83f1d 23520293 <23520293@gm.uit.edu.vn> 1766669463 +0700	commit: chgay duoc
e761637890c6dc4c233ff1217640f85751b83f1d f6fd8d398e1fe74477796035139020ee65f6f926 23520293 <23520293@gm.uit.edu.vn> 1766670830 +0700	commit: da chay duoc module
f6fd8d398e1fe74477796035139020ee65f6f926 629924ac3904600542bd82d39124823ed2775a78 23520293 <23520293@gm.uit.edu.vn> 1766671855 +0700	commit: da nhan tin duoc
629924ac3904600542bd82d39124823ed2775a78 01d3b1c2d8898017110438ca697ece4948061c84 23520293 <23520293@gm.uit.edu.vn> 1766672788 +0700	commit: van loi tin nhan
01d3b1c2d8898017110438ca697ece4948061c84 d9fce4e8553ff738b782459476fcbd00420dd36b 23520293 <23520293@gm.uit.edu.vn> 1766673487 +0700	commit: chÆ°a sá»­a Ä‘Æ°á»£c
d9fce4e8553ff738b782459476fcbd00420dd36b 6e3ef2d0832fda6ef3e68290b96908422c1e8dbf 23520293 <23520293@gm.uit.edu.vn> 1766674828 +0700	commit: chÆ°a láº¥y Ä‘Æ°á»£c order
6e3ef2d0832fda6ef3e68290b96908422c1e8dbf 8d7149b598ca9e863bbfeabfdfa1981da071c3f4 23520293 <23520293@gm.uit.edu.vn> 1766824650 +0700	commit: moi update
8d7149b598ca9e863bbfeabfdfa1981da071c3f4 417fe1d9285d741bd6dca6c3292893373b023b41 23520293 <23520293@gm.uit.edu.vn> 1766825224 +0700	commit: push len
417fe1d9285d741bd6dca6c3292893373b023b41 331ecfa4d90abe173334d7cdb9c226f2f8c1d4b7 23520293 <23520293@gm.uit.edu.vn> 1766825992 +0700	commit: ok
331ecfa4d90abe173334d7cdb9c226f2f8c1d4b7 195d4645d45a51779bc8070d4ce53d7955237ab8 23520293 <23520293@gm.uit.edu.vn> 1766826078 +0700	commit: ok
195d4645d45a51779bc8070d4ce53d7955237ab8 0ea2b744e55cca85c8ee9db190da60f956cac832 23520293 <23520293@gm.uit.edu.vn> 1766826185 +0700	commit: ok
0ea2b744e55cca85c8ee9db190da60f956cac832 be4dcd69e967b7ff65a8feeb412e4257b9d70cd9 23520293 <23520293@gm.uit.edu.vn> 1766827138 +0700	commit: ok
be4dcd69e967b7ff65a8feeb412e4257b9d70cd9 496ed01c1f8eb450b1127faacd6530cc21241cec 23520293 <23520293@gm.uit.edu.vn> 1766828115 +0700	commit: ok
496ed01c1f8eb450b1127faacd6530cc21241cec 6bf0b8f50e26c368cd478baec0380580103ea091 23520293 <23520293@gm.uit.edu.vn> 1766829067 +0700	commit: lol
6bf0b8f50e26c368cd478baec0380580103ea091 62173e6964f17f9790814c2346c2500352ba4b0e 23520293 <23520293@gm.uit.edu.vn> 1766830293 +0700	commit: ok
62173e6964f17f9790814c2346c2500352ba4b0e 7c34a2262fe3d4653d13911cb6dd734ec0037fa7 23520293 <23520293@gm.uit.edu.vn> 1766831429 +0700	commit: ok




################################################################################
## FILE 23: main
## ÄÆ°á»ng dáº«n: .git/logs/refs/remotes/origin/main
################################################################################

0000000000000000000000000000000000000000 18501dbac808f938e46f1642c3b4ed9b379f8468 23520293 <23520293@gm.uit.edu.vn> 1766660813 +0700	update by push
18501dbac808f938e46f1642c3b4ed9b379f8468 6a40e698be6e12ab1cc87df1da394bd23aa72c61 23520293 <23520293@gm.uit.edu.vn> 1766663663 +0700	update by push
6a40e698be6e12ab1cc87df1da394bd23aa72c61 4d0ceca91f8190e320578f6df842404160f990d6 23520293 <23520293@gm.uit.edu.vn> 1766664151 +0700	update by push
4d0ceca91f8190e320578f6df842404160f990d6 4cef73e9ed8341bc3821084bed1f983dbcb2a16c 23520293 <23520293@gm.uit.edu.vn> 1766664445 +0700	update by push
4cef73e9ed8341bc3821084bed1f983dbcb2a16c 166c986382a44a1732d7c16b3cb1b9c15d81f049 23520293 <23520293@gm.uit.edu.vn> 1766664675 +0700	update by push
166c986382a44a1732d7c16b3cb1b9c15d81f049 cfbc91f1b3a8e0d54c8724cc2de4949ac47888c6 23520293 <23520293@gm.uit.edu.vn> 1766664953 +0700	update by push
cfbc91f1b3a8e0d54c8724cc2de4949ac47888c6 efcd74f8e04ddf678e15281cf783e185b2e8b2f8 23520293 <23520293@gm.uit.edu.vn> 1766665670 +0700	update by push
efcd74f8e04ddf678e15281cf783e185b2e8b2f8 1efc40c6b5b16b4b15d233cccef2b6f105253df7 23520293 <23520293@gm.uit.edu.vn> 1766668185 +0700	update by push
1efc40c6b5b16b4b15d233cccef2b6f105253df7 e761637890c6dc4c233ff1217640f85751b83f1d 23520293 <23520293@gm.uit.edu.vn> 1766669476 +0700	update by push
e761637890c6dc4c233ff1217640f85751b83f1d f6fd8d398e1fe74477796035139020ee65f6f926 23520293 <23520293@gm.uit.edu.vn> 1766670842 +0700	update by push
f6fd8d398e1fe74477796035139020ee65f6f926 629924ac3904600542bd82d39124823ed2775a78 23520293 <23520293@gm.uit.edu.vn> 1766671866 +0700	update by push
629924ac3904600542bd82d39124823ed2775a78 01d3b1c2d8898017110438ca697ece4948061c84 23520293 <23520293@gm.uit.edu.vn> 1766672797 +0700	update by push
01d3b1c2d8898017110438ca697ece4948061c84 d9fce4e8553ff738b782459476fcbd00420dd36b 23520293 <23520293@gm.uit.edu.vn> 1766673496 +0700	update by push
d9fce4e8553ff738b782459476fcbd00420dd36b 6e3ef2d0832fda6ef3e68290b96908422c1e8dbf 23520293 <23520293@gm.uit.edu.vn> 1766674855 +0700	update by push
6e3ef2d0832fda6ef3e68290b96908422c1e8dbf 8d7149b598ca9e863bbfeabfdfa1981da071c3f4 23520293 <23520293@gm.uit.edu.vn> 1766824659 +0700	update by push
8d7149b598ca9e863bbfeabfdfa1981da071c3f4 417fe1d9285d741bd6dca6c3292893373b023b41 23520293 <23520293@gm.uit.edu.vn> 1766825233 +0700	update by push
417fe1d9285d741bd6dca6c3292893373b023b41 331ecfa4d90abe173334d7cdb9c226f2f8c1d4b7 23520293 <23520293@gm.uit.edu.vn> 1766826004 +0700	update by push
331ecfa4d90abe173334d7cdb9c226f2f8c1d4b7 195d4645d45a51779bc8070d4ce53d7955237ab8 23520293 <23520293@gm.uit.edu.vn> 1766826087 +0700	update by push
195d4645d45a51779bc8070d4ce53d7955237ab8 0ea2b744e55cca85c8ee9db190da60f956cac832 23520293 <23520293@gm.uit.edu.vn> 1766826195 +0700	update by push
0ea2b744e55cca85c8ee9db190da60f956cac832 be4dcd69e967b7ff65a8feeb412e4257b9d70cd9 23520293 <23520293@gm.uit.edu.vn> 1766827148 +0700	update by push
be4dcd69e967b7ff65a8feeb412e4257b9d70cd9 496ed01c1f8eb450b1127faacd6530cc21241cec 23520293 <23520293@gm.uit.edu.vn> 1766828126 +0700	update by push
496ed01c1f8eb450b1127faacd6530cc21241cec 6bf0b8f50e26c368cd478baec0380580103ea091 23520293 <23520293@gm.uit.edu.vn> 1766829081 +0700	update by push
6bf0b8f50e26c368cd478baec0380580103ea091 62173e6964f17f9790814c2346c2500352ba4b0e 23520293 <23520293@gm.uit.edu.vn> 1766830303 +0700	update by push
62173e6964f17f9790814c2346c2500352ba4b0e 7c34a2262fe3d4653d13911cb6dd734ec0037fa7 23520293 <23520293@gm.uit.edu.vn> 1766831437 +0700	update by push




################################################################################
## FILE 24: 1c4f3407a2ca351d4a80b80b38776325c8e348
## ÄÆ°á»ng dáº«n: .git/objects/01/1c4f3407a2ca351d4a80b80b38776325c8e348
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 25: d3b1c2d8898017110438ca697ece4948061c84
## ÄÆ°á»ng dáº«n: .git/objects/01/d3b1c2d8898017110438ca697ece4948061c84
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 26: 2579abd9706ffee8c74c208315c95c91d5f04a
## ÄÆ°á»ng dáº«n: .git/objects/02/2579abd9706ffee8c74c208315c95c91d5f04a
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 27: 3c3b0d199234041727ac0a1c6e691db75ed96e
## ÄÆ°á»ng dáº«n: .git/objects/02/3c3b0d199234041727ac0a1c6e691db75ed96e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 28: 5338531ffc08901945177a9cd55ff2027e0a45
## ÄÆ°á»ng dáº«n: .git/objects/03/5338531ffc08901945177a9cd55ff2027e0a45
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 29: 21e0e68ef1765d926886150dc2c3723e5e620f
## ÄÆ°á»ng dáº«n: .git/objects/04/21e0e68ef1765d926886150dc2c3723e5e620f
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 30: 6391c6aa035e60ec39c96f9db29999f16b8ae5
## ÄÆ°á»ng dáº«n: .git/objects/04/6391c6aa035e60ec39c96f9db29999f16b8ae5
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 31: 7578d3f58e702df8ab50312e53eaac323e7319
## ÄÆ°á»ng dáº«n: .git/objects/06/7578d3f58e702df8ab50312e53eaac323e7319
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 32: 359b8e3c01d47e8fc66bc969fa527b9ae7c61e
## ÄÆ°á»ng dáº«n: .git/objects/07/359b8e3c01d47e8fc66bc969fa527b9ae7c61e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 33: 1095718ab43e9eca4635d14437c97ada012662
## ÄÆ°á»ng dáº«n: .git/objects/08/1095718ab43e9eca4635d14437c97ada012662
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 34: 5232fb132d2592ae30dfa2c54f26651ab50e90
## ÄÆ°á»ng dáº«n: .git/objects/09/5232fb132d2592ae30dfa2c54f26651ab50e90
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 35: 7732686ef6c56e92306922d245f68dd636f5fc
## ÄÆ°á»ng dáº«n: .git/objects/0c/7732686ef6c56e92306922d245f68dd636f5fc
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 36: af50b332e5e2be25368d3ba87eadc35520afd0
## ÄÆ°á»ng dáº«n: .git/objects/0c/af50b332e5e2be25368d3ba87eadc35520afd0
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 37: af97aeaf14dc17648b79fea4c4ee509ee3180e
## ÄÆ°á»ng dáº«n: .git/objects/0c/af97aeaf14dc17648b79fea4c4ee509ee3180e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 38: acacfd27cbaff66ab9f431adc3fb433ed7c2fd
## ÄÆ°á»ng dáº«n: .git/objects/0d/acacfd27cbaff66ab9f431adc3fb433ed7c2fd
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 39: a2b744e55cca85c8ee9db190da60f956cac832
## ÄÆ°á»ng dáº«n: .git/objects/0e/a2b744e55cca85c8ee9db190da60f956cac832
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 40: 142b905010edd7cee964c3ebd9186afe6d3ec9
## ÄÆ°á»ng dáº«n: .git/objects/0f/142b905010edd7cee964c3ebd9186afe6d3ec9
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 41: 1140d16572ef16da2cf4733af404ecd84fa6ba
## ÄÆ°á»ng dáº«n: .git/objects/13/1140d16572ef16da2cf4733af404ecd84fa6ba
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 42: 4bdb6ca445e17e6f7288a4a981eb5b8ef646e8
## ÄÆ°á»ng dáº«n: .git/objects/14/4bdb6ca445e17e6f7288a4a981eb5b8ef646e8
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 43: 6c986382a44a1732d7c16b3cb1b9c15d81f049
## ÄÆ°á»ng dáº«n: .git/objects/16/6c986382a44a1732d7c16b3cb1b9c15d81f049
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 44: aa4a07648e86f91cb102eec2ef2ff0463352f5
## ÄÆ°á»ng dáº«n: .git/objects/16/aa4a07648e86f91cb102eec2ef2ff0463352f5
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 45: 03ca1b42a68ba9eeb54160ca0e163ab372d271
## ÄÆ°á»ng dáº«n: .git/objects/17/03ca1b42a68ba9eeb54160ca0e163ab372d271
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 46: 0dfafd3c9ac64f2fd0edf69ca62ca6ce63d3e4
## ÄÆ°á»ng dáº«n: .git/objects/17/0dfafd3c9ac64f2fd0edf69ca62ca6ce63d3e4
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 47: 942d2dbc5622a523b57a988256c513e117bcd9
## ÄÆ°á»ng dáº«n: .git/objects/17/942d2dbc5622a523b57a988256c513e117bcd9
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 48: 501dbac808f938e46f1642c3b4ed9b379f8468
## ÄÆ°á»ng dáº«n: .git/objects/18/501dbac808f938e46f1642c3b4ed9b379f8468
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 49: f10a600a77ce39c74eca2f26f06747c45b4f95
## ÄÆ°á»ng dáº«n: .git/objects/18/f10a600a77ce39c74eca2f26f06747c45b4f95
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 50: 5d4645d45a51779bc8070d4ce53d7955237ab8
## ÄÆ°á»ng dáº«n: .git/objects/19/5d4645d45a51779bc8070d4ce53d7955237ab8
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 51: 4f4cefd20fab755ac6a7f1ea29daa160f72538
## ÄÆ°á»ng dáº«n: .git/objects/1a/4f4cefd20fab755ac6a7f1ea29daa160f72538
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 52: 5fc1ad454aece7847e3c3ceb71fa32b4f00dc9
## ÄÆ°á»ng dáº«n: .git/objects/1a/5fc1ad454aece7847e3c3ceb71fa32b4f00dc9
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 53: 8b9851173535b5c515c3717d8711e8570312e2
## ÄÆ°á»ng dáº«n: .git/objects/1b/8b9851173535b5c515c3717d8711e8570312e2
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 54: b86c5122d7929020154514bfe8e45c05147706
## ÄÆ°á»ng dáº«n: .git/objects/1c/b86c5122d7929020154514bfe8e45c05147706
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 55: 2c0e9bcd8c0545b3f51b51f012f4b0cd0c2570
## ÄÆ°á»ng dáº«n: .git/objects/1e/2c0e9bcd8c0545b3f51b51f012f4b0cd0c2570
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 56: 92b68066fefb1e243d8fadbf0c6bc5cb29cbd1
## ÄÆ°á»ng dáº«n: .git/objects/1e/92b68066fefb1e243d8fadbf0c6bc5cb29cbd1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 57: fc40c6b5b16b4b15d233cccef2b6f105253df7
## ÄÆ°á»ng dáº«n: .git/objects/1e/fc40c6b5b16b4b15d233cccef2b6f105253df7
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 58: 592822aaadc016eb40c6d58be119bde46e5859
## ÄÆ°á»ng dáº«n: .git/objects/1f/592822aaadc016eb40c6d58be119bde46e5859
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 59: c7de8be9398f4b356ffe7d75838fa166b4d5a6
## ÄÆ°á»ng dáº«n: .git/objects/21/c7de8be9398f4b356ffe7d75838fa166b4d5a6
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 60: a8fccc0483112bc52f5433eb27357eb826f36d
## ÄÆ°á»ng dáº«n: .git/objects/22/a8fccc0483112bc52f5433eb27357eb826f36d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 61: 5b9f9cc5002dbd503f122217a3c35f350bd0f7
## ÄÆ°á»ng dáº«n: .git/objects/24/5b9f9cc5002dbd503f122217a3c35f350bd0f7
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 62: 7c46d5482c332c526a136c22fca969c7972ab3
## ÄÆ°á»ng dáº«n: .git/objects/24/7c46d5482c332c526a136c22fca969c7972ab3
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 63: 8f7b5b5c009b6e1887547108361cf43ad94f3a
## ÄÆ°á»ng dáº«n: .git/objects/25/8f7b5b5c009b6e1887547108361cf43ad94f3a
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 64: 9cbede200ddab01f60a9865e06503e4f1f238e
## ÄÆ°á»ng dáº«n: .git/objects/27/9cbede200ddab01f60a9865e06503e4f1f238e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 65: 5c94f3700aa3f0cbb826dea808df6413a14c80
## ÄÆ°á»ng dáº«n: .git/objects/2a/5c94f3700aa3f0cbb826dea808df6413a14c80
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 66: ed50b4cf016df0b9a5db4d9c20f12847a623b6
## ÄÆ°á»ng dáº«n: .git/objects/2a/ed50b4cf016df0b9a5db4d9c20f12847a623b6
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 67: 924f59f7aa39b83e47a9524caaa521a0316989
## ÄÆ°á»ng dáº«n: .git/objects/2b/924f59f7aa39b83e47a9524caaa521a0316989
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 68: a21c35f16629a6632486a865772294235b3aca
## ÄÆ°á»ng dáº«n: .git/objects/2d/a21c35f16629a6632486a865772294235b3aca
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 69: fd8f2587adb3e4721d4a4878847f59fc93a6d2
## ÄÆ°á»ng dáº«n: .git/objects/2d/fd8f2587adb3e4721d4a4878847f59fc93a6d2
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 70: 688ee49242b993f3bce2c9e118659de6e771b1
## ÄÆ°á»ng dáº«n: .git/objects/2e/688ee49242b993f3bce2c9e118659de6e771b1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 71: 9b7fe17e5f7a48c0deb1f55a716a0ed9e99528
## ÄÆ°á»ng dáº«n: .git/objects/2e/9b7fe17e5f7a48c0deb1f55a716a0ed9e99528
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 72: d8b028da304101710e16e24fb84ae633734903
## ÄÆ°á»ng dáº«n: .git/objects/2f/d8b028da304101710e16e24fb84ae633734903
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 73: bc7bfedaf9cb03f509d953dc4e1479e12b1739
## ÄÆ°á»ng dáº«n: .git/objects/30/bc7bfedaf9cb03f509d953dc4e1479e12b1739
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 74: 1ecfa4d90abe173334d7cdb9c226f2f8c1d4b7
## ÄÆ°á»ng dáº«n: .git/objects/33/1ecfa4d90abe173334d7cdb9c226f2f8c1d4b7
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 75: 72d8ea191badcdf349905e0c83a9a5b72c61bb
## ÄÆ°á»ng dáº«n: .git/objects/34/72d8ea191badcdf349905e0c83a9a5b72c61bb
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 76: 637d91fcf82260df7aa5b0a33759f1c6d6463b
## ÄÆ°á»ng dáº«n: .git/objects/35/637d91fcf82260df7aa5b0a33759f1c6d6463b
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 77: f987497ad3d326fdd015e96f5092335936f38e
## ÄÆ°á»ng dáº«n: .git/objects/35/f987497ad3d326fdd015e96f5092335936f38e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 78: c3a044078d4af52a1525597aa4753643fc9a4d
## ÄÆ°á»ng dáº«n: .git/objects/36/c3a044078d4af52a1525597aa4753643fc9a4d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 79: 8e936d579c4465c4bc83dd9558e6d504383f9d
## ÄÆ°á»ng dáº«n: .git/objects/37/8e936d579c4465c4bc83dd9558e6d504383f9d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 80: d82f74860fc2313f96084733b780beb0422743
## ÄÆ°á»ng dáº«n: .git/objects/38/d82f74860fc2313f96084733b780beb0422743
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 81: 26cfe482ad40f103679164db8355f4abda0c3c
## ÄÆ°á»ng dáº«n: .git/objects/3a/26cfe482ad40f103679164db8355f4abda0c3c
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 82: 61d99ddf0d0f085939396537d13e32391e1cc8
## ÄÆ°á»ng dáº«n: .git/objects/3e/61d99ddf0d0f085939396537d13e32391e1cc8
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 83: aea117e27f3d77e02d76813aca6e41e48d89c4
## ÄÆ°á»ng dáº«n: .git/objects/3e/aea117e27f3d77e02d76813aca6e41e48d89c4
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 84: adc037fc91e30fe4fec67694f5de38c3a9c8fe
## ÄÆ°á»ng dáº«n: .git/objects/3f/adc037fc91e30fe4fec67694f5de38c3a9c8fe
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 85: 1bb06d4831d104d3d50702382e38a31042677c
## ÄÆ°á»ng dáº«n: .git/objects/40/1bb06d4831d104d3d50702382e38a31042677c
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 86: 7fe1d9285d741bd6dca6c3292893373b023b41
## ÄÆ°á»ng dáº«n: .git/objects/41/7fe1d9285d741bd6dca6c3292893373b023b41
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 87: 8fa607a36e62cdd1cbd28c11022cb7bf813dbd
## ÄÆ°á»ng dáº«n: .git/objects/41/8fa607a36e62cdd1cbd28c11022cb7bf813dbd
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 88: 9f4405dcc64aca81085f2d0586233d5f012b35
## ÄÆ°á»ng dáº«n: .git/objects/42/9f4405dcc64aca81085f2d0586233d5f012b35
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 89: 8dc187e50b57505b0b83955321908b90de5336
## ÄÆ°á»ng dáº«n: .git/objects/43/8dc187e50b57505b0b83955321908b90de5336
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 90: 9c9781a1e57b392552f14c15a52659ed6374b7
## ÄÆ°á»ng dáº«n: .git/objects/45/9c9781a1e57b392552f14c15a52659ed6374b7
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 91: 68cdbef4362f573d70072b241a33515fffd24d
## ÄÆ°á»ng dáº«n: .git/objects/47/68cdbef4362f573d70072b241a33515fffd24d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 92: 7001859544e7b94dc664e16046de7f031812cf
## ÄÆ°á»ng dáº«n: .git/objects/48/7001859544e7b94dc664e16046de7f031812cf
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 93: bc69da0ecd70dbbf31dc89d62d7e5b87d303d5
## ÄÆ°á»ng dáº«n: .git/objects/48/bc69da0ecd70dbbf31dc89d62d7e5b87d303d5
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 94: 6ed01c1f8eb450b1127faacd6530cc21241cec
## ÄÆ°á»ng dáº«n: .git/objects/49/6ed01c1f8eb450b1127faacd6530cc21241cec
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 95: ef73e9ed8341bc3821084bed1f983dbcb2a16c
## ÄÆ°á»ng dáº«n: .git/objects/4c/ef73e9ed8341bc3821084bed1f983dbcb2a16c
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 96: 0ceca91f8190e320578f6df842404160f990d6
## ÄÆ°á»ng dáº«n: .git/objects/4d/0ceca91f8190e320578f6df842404160f990d6
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 97: 6c1e69837ce76bae8bdce580260c6a4c59f324
## ÄÆ°á»ng dáº«n: .git/objects/4d/6c1e69837ce76bae8bdce580260c6a4c59f324
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 98: cb06eaca20da46a555cd7c845413bc678d891b
## ÄÆ°á»ng dáº«n: .git/objects/4d/cb06eaca20da46a555cd7c845413bc678d891b
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 99: 464e908cb2d95b6190d550192f9917063ec83d
## ÄÆ°á»ng dáº«n: .git/objects/4f/464e908cb2d95b6190d550192f9917063ec83d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 100: e6da3e648c75587589e3dd627dd8d425a673df
## ÄÆ°á»ng dáº«n: .git/objects/50/e6da3e648c75587589e3dd627dd8d425a673df
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 101: aa8d68d9ed4d5df40bf3944c0cc1536366d247
## ÄÆ°á»ng dáº«n: .git/objects/53/aa8d68d9ed4d5df40bf3944c0cc1536366d247
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 102: e145e9cfa42ba7c4fcad8561d8323b7fa97dd1
## ÄÆ°á»ng dáº«n: .git/objects/53/e145e9cfa42ba7c4fcad8561d8323b7fa97dd1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 103: 3792e1b043b64c0c1e9c61f2760ee6dea873be
## ÄÆ°á»ng dáº«n: .git/objects/56/3792e1b043b64c0c1e9c61f2760ee6dea873be
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 104: 06e54d89a3e12c895bd638499d5b8bf9346aa0
## ÄÆ°á»ng dáº«n: .git/objects/57/06e54d89a3e12c895bd638499d5b8bf9346aa0
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 105: 85c31aba37aed65065ecd83973e4fac2a1cc23
## ÄÆ°á»ng dáº«n: .git/objects/59/85c31aba37aed65065ecd83973e4fac2a1cc23
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 106: eb7727f84b88c84bd9ef22981d0c54e33862b5
## ÄÆ°á»ng dáº«n: .git/objects/5a/eb7727f84b88c84bd9ef22981d0c54e33862b5
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 107: 5e331940996fc33979fb6bbc24609347a604c1
## ÄÆ°á»ng dáº«n: .git/objects/5b/5e331940996fc33979fb6bbc24609347a604c1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 108: d50bc3ef1138d209ac53227ef21fbdf7e40f85
## ÄÆ°á»ng dáº«n: .git/objects/5c/d50bc3ef1138d209ac53227ef21fbdf7e40f85
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 109: da231381c5ae359b48029a689ea48a9e95bd47
## ÄÆ°á»ng dáº«n: .git/objects/5d/da231381c5ae359b48029a689ea48a9e95bd47
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 110: c829594df851aad1d93c7950b0857a6c927848
## ÄÆ°á»ng dáº«n: .git/objects/5f/c829594df851aad1d93c7950b0857a6c927848
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 111: 0feb46dde34df74a9ff296d4045adcfc0c2a66
## ÄÆ°á»ng dáº«n: .git/objects/61/0feb46dde34df74a9ff296d4045adcfc0c2a66
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 112: 173e6964f17f9790814c2346c2500352ba4b0e
## ÄÆ°á»ng dáº«n: .git/objects/62/173e6964f17f9790814c2346c2500352ba4b0e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 113: 9924ac3904600542bd82d39124823ed2775a78
## ÄÆ°á»ng dáº«n: .git/objects/62/9924ac3904600542bd82d39124823ed2775a78
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 114: 32d7ae7c137d3bda0fe6e2ccc70299b5419b4a
## ÄÆ°á»ng dáº«n: .git/objects/64/32d7ae7c137d3bda0fe6e2ccc70299b5419b4a
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 115: 7ff1aeeeebbd5c0520b920ddfd53c4f8ed06e0
## ÄÆ°á»ng dáº«n: .git/objects/64/7ff1aeeeebbd5c0520b920ddfd53c4f8ed06e0
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 116: ce7dc99b767c222426c6ed502e395c008e648a
## ÄÆ°á»ng dáº«n: .git/objects/64/ce7dc99b767c222426c6ed502e395c008e648a
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 117: 5b0ab05b5fcab69252be0ad0d6c6d9817fbb50
## ÄÆ°á»ng dáº«n: .git/objects/66/5b0ab05b5fcab69252be0ad0d6c6d9817fbb50
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 118: 9125e96883b30fa947719edad4fde869b57cb8
## ÄÆ°á»ng dáº«n: .git/objects/67/9125e96883b30fa947719edad4fde869b57cb8
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 119: c1d9df3da2565a63a8dafba7b565197e22b395
## ÄÆ°á»ng dáº«n: .git/objects/68/c1d9df3da2565a63a8dafba7b565197e22b395
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 120: 40e698be6e12ab1cc87df1da394bd23aa72c61
## ÄÆ°á»ng dáº«n: .git/objects/6a/40e698be6e12ab1cc87df1da394bd23aa72c61
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 121: f9440d2f6bf93151f0b766ea090dc495459f00
## ÄÆ°á»ng dáº«n: .git/objects/6a/f9440d2f6bf93151f0b766ea090dc495459f00
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 122: f0b8f50e26c368cd478baec0380580103ea091
## ÄÆ°á»ng dáº«n: .git/objects/6b/f0b8f50e26c368cd478baec0380580103ea091
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 123: e42f1c0f55cd0a2fd0a1f51ce88dc55cba37f8
## ÄÆ°á»ng dáº«n: .git/objects/6c/e42f1c0f55cd0a2fd0a1f51ce88dc55cba37f8
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 124: 141f620a39c167e8a93a9616b530e84fefeae3
## ÄÆ°á»ng dáº«n: .git/objects/6d/141f620a39c167e8a93a9616b530e84fefeae3
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 125: 3ef2d0832fda6ef3e68290b96908422c1e8dbf
## ÄÆ°á»ng dáº«n: .git/objects/6e/3ef2d0832fda6ef3e68290b96908422c1e8dbf
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 126: 500560854eb1b7cc85a95902e1a1ce254b0f02
## ÄÆ°á»ng dáº«n: .git/objects/6e/500560854eb1b7cc85a95902e1a1ce254b0f02
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 127: 64da430c74d206d1261a9e4f1976046f52675e
## ÄÆ°á»ng dáº«n: .git/objects/70/64da430c74d206d1261a9e4f1976046f52675e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 128: 85cab3a588483f497521508954bccc9340b3e5
## ÄÆ°á»ng dáº«n: .git/objects/70/85cab3a588483f497521508954bccc9340b3e5
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 129: db48c7c5a17a9b3ff46ac87606d91d584ed95a
## ÄÆ°á»ng dáº«n: .git/objects/70/db48c7c5a17a9b3ff46ac87606d91d584ed95a
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 130: 8289d7bf8a4963b17cfd3853aa8c082968fd0d
## ÄÆ°á»ng dáº«n: .git/objects/71/8289d7bf8a4963b17cfd3853aa8c082968fd0d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 131: dfdf4ddc48be236239155696c162d8a50e99bf
## ÄÆ°á»ng dáº«n: .git/objects/71/dfdf4ddc48be236239155696c162d8a50e99bf
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 132: b81939abb42ecc55a01b37992dd620b58c9b93
## ÄÆ°á»ng dáº«n: .git/objects/72/b81939abb42ecc55a01b37992dd620b58c9b93
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 133: 89163d63ae2a745ad18c82a58ba1b6937d6470
## ÄÆ°á»ng dáº«n: .git/objects/73/89163d63ae2a745ad18c82a58ba1b6937d6470
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 134: ac9363084a395bda8f05adf0d3a7174bcd0209
## ÄÆ°á»ng dáº«n: .git/objects/74/ac9363084a395bda8f05adf0d3a7174bcd0209
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 135: 2a45393aaeda42b5475fe2cf8871f58f33b762
## ÄÆ°á»ng dáº«n: .git/objects/76/2a45393aaeda42b5475fe2cf8871f58f33b762
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 136: fe8e34841fb09f45d70b05c72257304a8ca3b6
## ÄÆ°á»ng dáº«n: .git/objects/76/fe8e34841fb09f45d70b05c72257304a8ca3b6
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 137: 09d2b191f15b92ed78aa68ac0afb65ae468e80
## ÄÆ°á»ng dáº«n: .git/objects/77/09d2b191f15b92ed78aa68ac0afb65ae468e80
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 138: 56a45abb997a8d7aa96a8775d1fe803d17cd3b
## ÄÆ°á»ng dáº«n: .git/objects/79/56a45abb997a8d7aa96a8775d1fe803d17cd3b
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 139: 7af78de554164c947ddb7ed52fcfd4c2e10499
## ÄÆ°á»ng dáº«n: .git/objects/79/7af78de554164c947ddb7ed52fcfd4c2e10499
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 140: bd44455e3bd99b5c42eea410e308837fc88be2
## ÄÆ°á»ng dáº«n: .git/objects/79/bd44455e3bd99b5c42eea410e308837fc88be2
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 141: 56a4edb8060f159ab81ca5873cfb5414425c4e
## ÄÆ°á»ng dáº«n: .git/objects/7a/56a4edb8060f159ab81ca5873cfb5414425c4e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 142: df39f11c5d4c9c29b1e3f49ac0c5ad58ae8bf7
## ÄÆ°á»ng dáº«n: .git/objects/7b/df39f11c5d4c9c29b1e3f49ac0c5ad58ae8bf7
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 143: 34a2262fe3d4653d13911cb6dd734ec0037fa7
## ÄÆ°á»ng dáº«n: .git/objects/7c/34a2262fe3d4653d13911cb6dd734ec0037fa7
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 144: b11cdfe85fa7ab56b0a0ca05cd13680d9349bf
## ÄÆ°á»ng dáº«n: .git/objects/7c/b11cdfe85fa7ab56b0a0ca05cd13680d9349bf
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 145: eab80c6aac9df8aa9757c5cece14f861461f59
## ÄÆ°á»ng dáº«n: .git/objects/7c/eab80c6aac9df8aa9757c5cece14f861461f59
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 146: f3f7c9ae4b4e1cb6638f37d3eade859922259b
## ÄÆ°á»ng dáº«n: .git/objects/7c/f3f7c9ae4b4e1cb6638f37d3eade859922259b
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 147: 39c01632589d5665eb9e202e982b1806b8c544
## ÄÆ°á»ng dáº«n: .git/objects/7d/39c01632589d5665eb9e202e982b1806b8c544
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 148: 529278cb28c342ad690ee7919afb64041dd8ae
## ÄÆ°á»ng dáº«n: .git/objects/7d/529278cb28c342ad690ee7919afb64041dd8ae
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 149: 798124c646e68edf296d96748d0af9436f06b2
## ÄÆ°á»ng dáº«n: .git/objects/7d/798124c646e68edf296d96748d0af9436f06b2
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 150: 704381fd347badb7c96bfa21540f98a45cda95
## ÄÆ°á»ng dáº«n: .git/objects/7e/704381fd347badb7c96bfa21540f98a45cda95
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 151: ca61df34bafe98cb99d50368cce8f0bf9d639a
## ÄÆ°á»ng dáº«n: .git/objects/7f/ca61df34bafe98cb99d50368cce8f0bf9d639a
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 152: c3bb15580f39664432dd2c6f8ded47bc24691e
## ÄÆ°á»ng dáº«n: .git/objects/80/c3bb15580f39664432dd2c6f8ded47bc24691e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 153: 0a83acb4a000e46afb156f7895190f262f3121
## ÄÆ°á»ng dáº«n: .git/objects/81/0a83acb4a000e46afb156f7895190f262f3121
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 154: 4b4d77bc50ac843db4d6b3676de31e21e13256
## ÄÆ°á»ng dáº«n: .git/objects/81/4b4d77bc50ac843db4d6b3676de31e21e13256
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 155: f1d37f5217a2f101d96a5f11366a52809a3ab6
## ÄÆ°á»ng dáº«n: .git/objects/83/f1d37f5217a2f101d96a5f11366a52809a3ab6
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 156: 1da6364f96af1a634a8efd4e2042a60ff21057
## ÄÆ°á»ng dáº«n: .git/objects/84/1da6364f96af1a634a8efd4e2042a60ff21057
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 157: b7bfbf6d9f0380f8324f927d96b3295d9de8e5
## ÄÆ°á»ng dáº«n: .git/objects/85/b7bfbf6d9f0380f8324f927d96b3295d9de8e5
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 158: c3f48a9c6f8a6d58cf8ec3a8c3b24fdca51045
## ÄÆ°á»ng dáº«n: .git/objects/85/c3f48a9c6f8a6d58cf8ec3a8c3b24fdca51045
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 159: d86b9ae38256272c9e9ba1f23ab3ea0045967f
## ÄÆ°á»ng dáº«n: .git/objects/85/d86b9ae38256272c9e9ba1f23ab3ea0045967f
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 160: 6e5b9b6404de8e6675196deae622e16ebac24b
## ÄÆ°á»ng dáº«n: .git/objects/86/6e5b9b6404de8e6675196deae622e16ebac24b
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 161: 8fe53e217cef92bac979cfe52fa7b16c2d98a6
## ÄÆ°á»ng dáº«n: .git/objects/86/8fe53e217cef92bac979cfe52fa7b16c2d98a6
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 162: 075aee20de5ad512835c404b03e8f843105629
## ÄÆ°á»ng dáº«n: .git/objects/87/075aee20de5ad512835c404b03e8f843105629
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 163: 1293904176d0ea25e1e2013d367e745d9d1eb3
## ÄÆ°á»ng dáº«n: .git/objects/87/1293904176d0ea25e1e2013d367e745d9d1eb3
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 164: 87e20e06a3d4fa53945c13d2afecce1718d8c1
## ÄÆ°á»ng dáº«n: .git/objects/88/87e20e06a3d4fa53945c13d2afecce1718d8c1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 165: f260ec5c236bab8bd74e6d50bb759637d9088c
## ÄÆ°á»ng dáº«n: .git/objects/88/f260ec5c236bab8bd74e6d50bb759637d9088c
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 166: 6b231d40acdfd9d701a0d0fc8d0b14084ee9a5
## ÄÆ°á»ng dáº«n: .git/objects/89/6b231d40acdfd9d701a0d0fc8d0b14084ee9a5
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 167: d4d40102947fd026a7e6f6b6c2c02729760683
## ÄÆ°á»ng dáº«n: .git/objects/8a/d4d40102947fd026a7e6f6b6c2c02729760683
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 168: 0143e85ae7092db7582fdac25e0cd95485e8c1
## ÄÆ°á»ng dáº«n: .git/objects/8d/0143e85ae7092db7582fdac25e0cd95485e8c1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 169: 69600324b606d1d577a74a486a7f8c4bd346f1
## ÄÆ°á»ng dáº«n: .git/objects/8d/69600324b606d1d577a74a486a7f8c4bd346f1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 170: 7149b598ca9e863bbfeabfdfa1981da071c3f4
## ÄÆ°á»ng dáº«n: .git/objects/8d/7149b598ca9e863bbfeabfdfa1981da071c3f4
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 171: a931ebd7e162f1237b9e2edc4688cbc02dd524
## ÄÆ°á»ng dáº«n: .git/objects/8d/a931ebd7e162f1237b9e2edc4688cbc02dd524
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 172: 5966b63c1a3936b0f8158c8881345f503939a8
## ÄÆ°á»ng dáº«n: .git/objects/8e/5966b63c1a3936b0f8158c8881345f503939a8
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 173: 5be2be1ea1cc973344b9fd622a3369d450f4aa
## ÄÆ°á»ng dáº«n: .git/objects/8f/5be2be1ea1cc973344b9fd622a3369d450f4aa
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 174: bf1d7ed4aed74f112fee86103c107b85394638
## ÄÆ°á»ng dáº«n: .git/objects/91/bf1d7ed4aed74f112fee86103c107b85394638
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 175: 3539f0665ba8a542be8f8ce9877fa5a0470f62
## ÄÆ°á»ng dáº«n: .git/objects/93/3539f0665ba8a542be8f8ce9877fa5a0470f62
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 176: 1cba47624e7e78511ce54327c047bcbdb18ca7
## ÄÆ°á»ng dáº«n: .git/objects/94/1cba47624e7e78511ce54327c047bcbdb18ca7
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 177: 709b364df433f96ddffda4419bc3cf5ca60df4
## ÄÆ°á»ng dáº«n: .git/objects/95/709b364df433f96ddffda4419bc3cf5ca60df4
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 178: 1a5f654f7c94da4f653cfe352a988052a55c19
## ÄÆ°á»ng dáº«n: .git/objects/96/1a5f654f7c94da4f653cfe352a988052a55c19
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 179: 1c21428be5f095217bd5e0fc0a767c6fc8eeef
## ÄÆ°á»ng dáº«n: .git/objects/97/1c21428be5f095217bd5e0fc0a767c6fc8eeef
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 180: 53f27246909045dc18488e1cbe18b9e7a0780b
## ÄÆ°á»ng dáº«n: .git/objects/97/53f27246909045dc18488e1cbe18b9e7a0780b
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 181: 070425bd51c5b67d4391a46007128e2b13c42e
## ÄÆ°á»ng dáº«n: .git/objects/9e/070425bd51c5b67d4391a46007128e2b13c42e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 182: 7481a3132ccd4a907c90e29611c2589105100e
## ÄÆ°á»ng dáº«n: .git/objects/9f/7481a3132ccd4a907c90e29611c2589105100e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 183: 85665cbde8da405e77f0f4387753b5d03a64ea
## ÄÆ°á»ng dáº«n: .git/objects/a0/85665cbde8da405e77f0f4387753b5d03a64ea
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 184: 136775fa8adcd98da1395d7aaaacc1f9249306
## ÄÆ°á»ng dáº«n: .git/objects/a1/136775fa8adcd98da1395d7aaaacc1f9249306
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 185: 273ce1f017ef5fcd1a7ac5f0ca0d0fb9462f95
## ÄÆ°á»ng dáº«n: .git/objects/a2/273ce1f017ef5fcd1a7ac5f0ca0d0fb9462f95
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 186: 032655cc1b06b36e83a1fca26ad51bccebe7e3
## ÄÆ°á»ng dáº«n: .git/objects/a3/032655cc1b06b36e83a1fca26ad51bccebe7e3
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 187: 482ff5696212014348bbaa194048dd242e83b2
## ÄÆ°á»ng dáº«n: .git/objects/a4/482ff5696212014348bbaa194048dd242e83b2
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 188: 904a5f40cab1b285764871ad0f065807fed2c3
## ÄÆ°á»ng dáº«n: .git/objects/a4/904a5f40cab1b285764871ad0f065807fed2c3
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 189: f1ea11ca64246b170a969641d57af18926d957
## ÄÆ°á»ng dáº«n: .git/objects/a5/f1ea11ca64246b170a969641d57af18926d957
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 190: ecd672004f4e6ce7257a2e4fc3ae08e3046539
## ÄÆ°á»ng dáº«n: .git/objects/a6/ecd672004f4e6ce7257a2e4fc3ae08e3046539
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 191: 0e8a06257599cf7372f3d657550bc9eddeef57
## ÄÆ°á»ng dáº«n: .git/objects/a7/0e8a06257599cf7372f3d657550bc9eddeef57
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 192: 41e4f06f8258c74ac3ebbd52579b8e3724a415
## ÄÆ°á»ng dáº«n: .git/objects/a8/41e4f06f8258c74ac3ebbd52579b8e3724a415
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 193: df8652d31617fcdfad232a34f32f317022c763
## ÄÆ°á»ng dáº«n: .git/objects/a8/df8652d31617fcdfad232a34f32f317022c763
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 194: 44343c6e34c12f6911ca43d88072c782647443
## ÄÆ°á»ng dáº«n: .git/objects/aa/44343c6e34c12f6911ca43d88072c782647443
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 195: e5e192af34bb07ee6583c37cb0835a9de0b44c
## ÄÆ°á»ng dáº«n: .git/objects/ab/e5e192af34bb07ee6583c37cb0835a9de0b44c
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 196: 30fc8881a2ad2da8fcbb57ff6cc4a678cba406
## ÄÆ°á»ng dáº«n: .git/objects/ae/30fc8881a2ad2da8fcbb57ff6cc4a678cba406
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 197: 3895f56f05c68063c1f941d773fb53d788648c
## ÄÆ°á»ng dáº«n: .git/objects/b2/3895f56f05c68063c1f941d773fb53d788648c
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 198: bd05c7957bf5199a3814b6cb0b038d66685cff
## ÄÆ°á»ng dáº«n: .git/objects/b2/bd05c7957bf5199a3814b6cb0b038d66685cff
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 199: db2b70c57c73976293c33a1982a9ad30c38b69
## ÄÆ°á»ng dáº«n: .git/objects/b4/db2b70c57c73976293c33a1982a9ad30c38b69
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 200: 3dc72d8aa69ba7ab2aec43d62fc4fd0cc0a89e
## ÄÆ°á»ng dáº«n: .git/objects/b5/3dc72d8aa69ba7ab2aec43d62fc4fd0cc0a89e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 201: 72527fc1c8a8453e5e3c5a7b949dfddc79fdd1
## ÄÆ°á»ng dáº«n: .git/objects/b5/72527fc1c8a8453e5e3c5a7b949dfddc79fdd1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 202: 5b31445714a97049f4eaa1fb3937fc60635801
## ÄÆ°á»ng dáº«n: .git/objects/b7/5b31445714a97049f4eaa1fb3937fc60635801
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 203: 218df0f9753baf040cd38e5be204e428048511
## ÄÆ°á»ng dáº«n: .git/objects/b8/218df0f9753baf040cd38e5be204e428048511
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 204: 29706c558cc44a4a67d4c19d739b0ed21577b6
## ÄÆ°á»ng dáº«n: .git/objects/b9/29706c558cc44a4a67d4c19d739b0ed21577b6
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 205: ec2a033772abc1dd1f06bf6631e35e8ddeb04b
## ÄÆ°á»ng dáº«n: .git/objects/bc/ec2a033772abc1dd1f06bf6631e35e8ddeb04b
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 206: 1a0d3a7cb4f1e3d2c0f6752968221968aa395a
## ÄÆ°á»ng dáº«n: .git/objects/bd/1a0d3a7cb4f1e3d2c0f6752968221968aa395a
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 207: 307aadb4e834baf55c63539e79acf153b33217
## ÄÆ°á»ng dáº«n: .git/objects/bd/307aadb4e834baf55c63539e79acf153b33217
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 208: ce14331cf6ca47b9a06ca974acbcd9cfa1394b
## ÄÆ°á»ng dáº«n: .git/objects/bd/ce14331cf6ca47b9a06ca974acbcd9cfa1394b
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 209: d14f5da9f9170791348916138f45903bcf83ab
## ÄÆ°á»ng dáº«n: .git/objects/bd/d14f5da9f9170791348916138f45903bcf83ab
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 210: 4dcd69e967b7ff65a8feeb412e4257b9d70cd9
## ÄÆ°á»ng dáº«n: .git/objects/be/4dcd69e967b7ff65a8feeb412e4257b9d70cd9
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 211: 707d5ef0c27041b0c301fe2280012a50f74b7f
## ÄÆ°á»ng dáº«n: .git/objects/be/707d5ef0c27041b0c301fe2280012a50f74b7f
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 212: 61f0b261f3173052ed537e49bfe18b7e52a406
## ÄÆ°á»ng dáº«n: .git/objects/c2/61f0b261f3173052ed537e49bfe18b7e52a406
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 213: 704c0dc5efd1fbb5493abc0c0025d1c65c90eb
## ÄÆ°á»ng dáº«n: .git/objects/c2/704c0dc5efd1fbb5493abc0c0025d1c65c90eb
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 214: d7da7271515e64d81088a30025ade4dab2769d
## ÄÆ°á»ng dáº«n: .git/objects/c2/d7da7271515e64d81088a30025ade4dab2769d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 215: b4e0e536f569e6ea1631e9aef4be97adb780c4
## ÄÆ°á»ng dáº«n: .git/objects/c4/b4e0e536f569e6ea1631e9aef4be97adb780c4
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 216: 3e23e14ba15dbc0798e56d8973dbe596c2973c
## ÄÆ°á»ng dáº«n: .git/objects/c5/3e23e14ba15dbc0798e56d8973dbe596c2973c
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 217: 5abe3a31d9b1cc76a6487d97c0dae08bfeaf68
## ÄÆ°á»ng dáº«n: .git/objects/c5/5abe3a31d9b1cc76a6487d97c0dae08bfeaf68
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 218: c0a3f7771a469cd4b235594fcefced9b94b174
## ÄÆ°á»ng dáº«n: .git/objects/c5/c0a3f7771a469cd4b235594fcefced9b94b174
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 219: bb1a44e3304842065c2bc8626372bdcea152e8
## ÄÆ°á»ng dáº«n: .git/objects/c6/bb1a44e3304842065c2bc8626372bdcea152e8
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 220: 844e222a41d10193088fbbc773570bb2c38310
## ÄÆ°á»ng dáº«n: .git/objects/c7/844e222a41d10193088fbbc773570bb2c38310
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 221: 0b2a847157f60e9398f8b22be38fa528a89b23
## ÄÆ°á»ng dáº«n: .git/objects/c9/0b2a847157f60e9398f8b22be38fa528a89b23
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 222: 3449086334e80cae7710c66c3ba844db499067
## ÄÆ°á»ng dáº«n: .git/objects/ca/3449086334e80cae7710c66c3ba844db499067
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 223: a7a4fa7f528d83484343db52921e58eec253fb
## ÄÆ°á»ng dáº«n: .git/objects/ca/a7a4fa7f528d83484343db52921e58eec253fb
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 224: be09ab37ebaeb23263535af2c7f0cb127f9c8d
## ÄÆ°á»ng dáº«n: .git/objects/cc/be09ab37ebaeb23263535af2c7f0cb127f9c8d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 225: 367b0442929559224f274bb110a8b463f5938d
## ÄÆ°á»ng dáº«n: .git/objects/cd/367b0442929559224f274bb110a8b463f5938d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 226: bc91f1b3a8e0d54c8724cc2de4949ac47888c6
## ÄÆ°á»ng dáº«n: .git/objects/cf/bc91f1b3a8e0d54c8724cc2de4949ac47888c6
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 227: 10ec2405c10b05d1b117550d7e1b017419d1ff
## ÄÆ°á»ng dáº«n: .git/objects/d5/10ec2405c10b05d1b117550d7e1b017419d1ff
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 228: 7663942e6abe7d1e0e7d397540fead54858e69
## ÄÆ°á»ng dáº«n: .git/objects/d6/7663942e6abe7d1e0e7d397540fead54858e69
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 229: 584c5e3cf054707544905a9d2eb3c84e67d2f6
## ÄÆ°á»ng dáº«n: .git/objects/d7/584c5e3cf054707544905a9d2eb3c84e67d2f6
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 230: 6502f1a2a6e4e6baa630e7dc1fac7c300e7904
## ÄÆ°á»ng dáº«n: .git/objects/d8/6502f1a2a6e4e6baa630e7dc1fac7c300e7904
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 231: 76e9fa5ca2c6f38d84acaea5823f20b8062fe4
## ÄÆ°á»ng dáº«n: .git/objects/d8/76e9fa5ca2c6f38d84acaea5823f20b8062fe4
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 232: f81dbd7a3871e32a239a04863228354851c084
## ÄÆ°á»ng dáº«n: .git/objects/d8/f81dbd7a3871e32a239a04863228354851c084
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 233: fce4e8553ff738b782459476fcbd00420dd36b
## ÄÆ°á»ng dáº«n: .git/objects/d9/fce4e8553ff738b782459476fcbd00420dd36b
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 234: 6ed6a5d44cf99ca634211e8a933bdd91cf77e1
## ÄÆ°á»ng dáº«n: .git/objects/da/6ed6a5d44cf99ca634211e8a933bdd91cf77e1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 235: ad72455e8604db9bf63db1153d8b957e5424e7
## ÄÆ°á»ng dáº«n: .git/objects/df/ad72455e8604db9bf63db1153d8b957e5424e7
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 236: 38158d04253cb98428521152cc9f0b7ba88649
## ÄÆ°á»ng dáº«n: .git/objects/e0/38158d04253cb98428521152cc9f0b7ba88649
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 237: 13e9a11d6cf71067e6042c8d2a3dd62af0bc82
## ÄÆ°á»ng dáº«n: .git/objects/e1/13e9a11d6cf71067e6042c8d2a3dd62af0bc82
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 238: 368494ca9682f9cea152dec4007885b62908bb
## ÄÆ°á»ng dáº«n: .git/objects/e1/368494ca9682f9cea152dec4007885b62908bb
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 239: 570dce56491a89285d21885c23a6f557681367
## ÄÆ°á»ng dáº«n: .git/objects/e1/570dce56491a89285d21885c23a6f557681367
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 240: f09a87edb1b6cd89678bb363efbebda51e3254
## ÄÆ°á»ng dáº«n: .git/objects/e1/f09a87edb1b6cd89678bb363efbebda51e3254
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 241: dbd00a819c6fb5d7b6180691d3df97a2dcc27a
## ÄÆ°á»ng dáº«n: .git/objects/e2/dbd00a819c6fb5d7b6180691d3df97a2dcc27a
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 242: 43b92497fe886d456689989369a8ba98719880
## ÄÆ°á»ng dáº«n: .git/objects/e4/43b92497fe886d456689989369a8ba98719880
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 243: 9de29bb2d1d6434b8b29ae775ad8c2e48c5391
## ÄÆ°á»ng dáº«n: .git/objects/e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 244: 61637890c6dc4c233ff1217640f85751b83f1d
## ÄÆ°á»ng dáº«n: .git/objects/e7/61637890c6dc4c233ff1217640f85751b83f1d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 245: 7aabf913c912e7081b4c0f8c69a163f70e9224
## ÄÆ°á»ng dáº«n: .git/objects/e7/7aabf913c912e7081b4c0f8c69a163f70e9224
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 246: 80ecf609d836c20d6607aa220bfac24d778fa4
## ÄÆ°á»ng dáº«n: .git/objects/e8/80ecf609d836c20d6607aa220bfac24d778fa4
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 247: 81943223a9aa943636f4712cfcba5be1133da6
## ÄÆ°á»ng dáº«n: .git/objects/e9/81943223a9aa943636f4712cfcba5be1133da6
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 248: 0c8e1f92523b5e63b6c1b8fda2834ce817b1be
## ÄÆ°á»ng dáº«n: .git/objects/ea/0c8e1f92523b5e63b6c1b8fda2834ce817b1be
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 249: 21d2b55b056ffb5950dddf1699646736c6115b
## ÄÆ°á»ng dáº«n: .git/objects/eb/21d2b55b056ffb5950dddf1699646736c6115b
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 250: d1834204e6b198142d19448ef7ab293eb0beef
## ÄÆ°á»ng dáº«n: .git/objects/eb/d1834204e6b198142d19448ef7ab293eb0beef
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 251: f2f2d2937fa6a7e3b70e51212a4451ed800e80
## ÄÆ°á»ng dáº«n: .git/objects/ec/f2f2d2937fa6a7e3b70e51212a4451ed800e80
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 252: be1b155e47e323150cf622f8369eb3ae5c45cb
## ÄÆ°á»ng dáº«n: .git/objects/ed/be1b155e47e323150cf622f8369eb3ae5c45cb
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 253: 07ccf33265ad1b87fd6bd738c1fb04a95d79a1
## ÄÆ°á»ng dáº«n: .git/objects/ee/07ccf33265ad1b87fd6bd738c1fb04a95d79a1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 254: cd74f8e04ddf678e15281cf783e185b2e8b2f8
## ÄÆ°á»ng dáº«n: .git/objects/ef/cd74f8e04ddf678e15281cf783e185b2e8b2f8
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 255: f683b8f4ff06f0953a51cbad1053b0f7435255
## ÄÆ°á»ng dáº«n: .git/objects/f0/f683b8f4ff06f0953a51cbad1053b0f7435255
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 256: 90bcd51f8521cd8956bae419014c802a7e2638
## ÄÆ°á»ng dáº«n: .git/objects/f1/90bcd51f8521cd8956bae419014c802a7e2638
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 257: 10f35e6db63c6277cd8dac329d785dc98196f4
## ÄÆ°á»ng dáº«n: .git/objects/f2/10f35e6db63c6277cd8dac329d785dc98196f4
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 258: f211b47be93e3a88e82c0af51a30bdfd8efdda
## ÄÆ°á»ng dáº«n: .git/objects/f2/f211b47be93e3a88e82c0af51a30bdfd8efdda
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 259: e588b1589d57acae2ed22d3a80dc6bee3e9c9d
## ÄÆ°á»ng dáº«n: .git/objects/f3/e588b1589d57acae2ed22d3a80dc6bee3e9c9d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 260: a05249386d6aa66fb4c88342cdd2175df93c11
## ÄÆ°á»ng dáº«n: .git/objects/f4/a05249386d6aa66fb4c88342cdd2175df93c11
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 261: faaa4a3c88baab6bc91d7ec30161fd06bf3762
## ÄÆ°á»ng dáº«n: .git/objects/f5/faaa4a3c88baab6bc91d7ec30161fd06bf3762
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 262: b4c0386bb12fa49570fd8774cc2ef1584323b1
## ÄÆ°á»ng dáº«n: .git/objects/f6/b4c0386bb12fa49570fd8774cc2ef1584323b1
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 263: b7959aba99838b0c3a35ce6ee7f79a7abaee0e
## ÄÆ°á»ng dáº«n: .git/objects/f6/b7959aba99838b0c3a35ce6ee7f79a7abaee0e
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 264: fd8d398e1fe74477796035139020ee65f6f926
## ÄÆ°á»ng dáº«n: .git/objects/f6/fd8d398e1fe74477796035139020ee65f6f926
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 265: 5c891058bb3424a497dc5fa2e840e098552bfd
## ÄÆ°á»ng dáº«n: .git/objects/f7/5c891058bb3424a497dc5fa2e840e098552bfd
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 266: ca55d783e6bd469d6f06dd9260d539d2317f4d
## ÄÆ°á»ng dáº«n: .git/objects/f8/ca55d783e6bd469d6f06dd9260d539d2317f4d
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 267: 91cdead7e82a505e144842ba28cfbdca110741
## ÄÆ°á»ng dáº«n: .git/objects/f9/91cdead7e82a505e144842ba28cfbdca110741
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 268: e9b8992b59b46b425ce351fba79e1147265003
## ÄÆ°á»ng dáº«n: .git/objects/fa/e9b8992b59b46b425ce351fba79e1147265003
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 269: 1fb5ce10db016b97a229263ad89393cb3458ab
## ÄÆ°á»ng dáº«n: .git/objects/fc/1fb5ce10db016b97a229263ad89393cb3458ab
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 270: b515bc7c0420b7d4ac893fc8d4bed29d8f9c16
## ÄÆ°á»ng dáº«n: .git/objects/fc/b515bc7c0420b7d4ac893fc8d4bed29d8f9c16
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 271: 4b79aa9f78ad0423e4380874bd3ac952eeb472
## ÄÆ°á»ng dáº«n: .git/objects/fd/4b79aa9f78ad0423e4380874bd3ac952eeb472
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 272: 513e2ff2fd634ada7dae39d71ac2834b0b2670
## ÄÆ°á»ng dáº«n: .git/objects/fe/513e2ff2fd634ada7dae39d71ac2834b0b2670
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 273: main
## ÄÆ°á»ng dáº«n: .git/refs/heads/main
################################################################################

7c34a2262fe3d4653d13911cb6dd734ec0037fa7




################################################################################
## FILE 274: main
## ÄÆ°á»ng dáº«n: .git/refs/remotes/origin/main
################################################################################

7c34a2262fe3d4653d13911cb6dd734ec0037fa7




################################################################################
## FILE 275: __init__.py
## ÄÆ°á»ng dáº«n: __init__.py
################################################################################

# -*- coding: utf-8 -*-

from . import models
from . import controllers
from . import wizard
from . import lib



################################################################################
## FILE 276: __manifest__.py
## ÄÆ°á»ng dáº«n: __manifest__.py
################################################################################

# -*- coding: utf-8 -*-
{
    'name': 'Social Media - Facebook Enhanced',
    'version': '19.0.2.0.0',
    'category': 'Marketing/Social Marketing',
    'summary': 'Facebook Integration with CRM, Messenger Sales & Content Calendar',
    'description': """
Facebook Integration - Enterprise Edition
==========================================

Core Features:
--------------
* Facebook Pages Management
* Posts Publishing & Scheduling
* Comments & Reactions Tracking
* Messenger Conversations
* Analytics & Insights
* Webhook Integration

NEW Features (v2.0):
-------------------
* âœ¨ CRM Lead Auto-creation from Messenger & Lead Ads
* âœ¨ Messenger Sales Bot with Order Creation
* âœ¨ Content Calendar View
* âœ¨ Ngrok Integration for Local Development
* âœ¨ Webhook Configuration UI
* âœ¨ Messenger Product Catalog
* âœ¨ Sale Order Integration
    """,
    'author': 'Your Company',
    'website': 'https://www.yourcompany.com',
    'license': 'LGPL-3',
    'depends': [
        'base',
        'mail',
        'web',
        'crm',
        'sale_management',
        'product',
    ],
    'data': [
        # Security
        'security/social_security.xml',
        'security/ir.model.access.csv',
        
        # Data - CHá»ˆ GIá»® FILE Tá»’N Táº I
        'data/ir_cron_data.xml',
        
        # Views - CHá»ˆ GIá»® FILE Tá»’N Táº I
        'views/social_account_views.xml',
        'views/social_post_views.xml',
        'views/social_comment_views.xml',
        'views/social_conversation_views.xml',
        'views/social_message_views.xml',
        'views/social_messenger_product_views.xml',
        'views/social_messenger_order_views.xml',
        'views/menu_views.xml',
    ],
    'installable': True,
    'application': True,
    'auto_install': False,
}



################################################################################
## FILE 277: __init__.py
## ÄÆ°á»ng dáº«n: controllers/__init__.py
################################################################################

from . import main
from . import webhook




################################################################################
## FILE 278: main.py
## ÄÆ°á»ng dáº«n: controllers/main.py
################################################################################

from odoo import http
from odoo.http import request


class SocialFacebookController(http.Controller):
    """
    Controller chÃ­nh cho Facebook integration.
    """

    @http.route('/social/facebook/oauth/callback', type='http', auth='user', website=True)
    def facebook_oauth_callback(self, **kwargs):
        """
        Callback URL sau khi user authorize Facebook app.
        """
        code = kwargs.get('code')
        state = kwargs.get('state')
        
        if not code:
            return request.render('module_social_facebook.oauth_error', {
                'error': 'No authorization code received'
            })
        
        # Process OAuth code and exchange for access token
        # Logic xá»­ lÃ½ á»Ÿ Ä‘Ã¢y
        
        return request.redirect('/web#action=module_social_facebook.action_social_account')




################################################################################
## FILE 279: webhook.py
## ÄÆ°á»ng dáº«n: controllers/webhook.py
################################################################################

import json
import logging
import requests
import re
from datetime import datetime, timedelta
from odoo import http
from odoo.http import request

_logger = logging.getLogger(__name__)


class FacebookWebhookController(http.Controller):
    
    @http.route('/social/facebook/webhook', type='http', auth='public', 
                methods=['GET'], csrf=False)
    def webhook_verify(self, **kwargs):
        """Verify webhook"""
        mode = kwargs.get('hub.mode')
        token = kwargs.get('hub.verify_token')
        challenge = kwargs.get('hub.challenge')
        
        verify_token = request.env['ir.config_parameter'].sudo().get_param(
            'module_social_facebook.verify_token', '16112005'
        )
        
        if mode == 'subscribe' and token == verify_token:
            _logger.info('âœ… Webhook verified')
            return challenge
        else:
            _logger.warning('âŒ Webhook verify failed')
            return 'Forbidden', 403
    
    @http.route('/social/facebook/webhook', type='http', auth='public', 
                methods=['POST'], csrf=False)
    def webhook_callback(self, **kwargs):
        """Nháº­n events tá»« Facebook"""
        try:
            body = request.httprequest.get_data(as_text=True)
            data = json.loads(body)
            
            if data.get('object') != 'page':
                return 'OK'
            
            for entry in data.get('entry', []):
                self._process_entry(entry)
            
            return 'OK'
            
        except Exception as e:
            _logger.error('âŒ Webhook error: %s', e, exc_info=True)
            return 'OK'
    
    def _process_entry(self, entry):
        """Xá»­ lÃ½ entry tá»« webhook"""
        if 'messaging' in entry:
            for event in entry['messaging']:
                self._process_messaging_event(event)
    
    def _process_messaging_event(self, event):
        """Xá»­ lÃ½ messaging event"""
        sender_id = event.get('sender', {}).get('id')
        recipient_id = event.get('recipient', {}).get('id')
        
        if not sender_id or not recipient_id:
            return
        
        # Find or create conversation
        conversation = self._find_or_create_conversation(sender_id, recipient_id)
        if not conversation:
            return
        
        # Process message
        if 'message' in event:
            message_data = event['message']
            
            # Skip echo messages (tá»« page gá»­i Ä‘i)
            if message_data.get('is_echo'):
                return
            
            # Process chatbot flow
            if 'quick_reply' in message_data:
                payload = message_data['quick_reply'].get('payload', '')
                self._process_chatbot_flow(conversation, payload)
            else:
                text = message_data.get('text', '')
                self._process_chatbot_flow(conversation, text)
    
    # =========================================================================
    # CHATBOT FLOW - STATE MACHINE
    # =========================================================================
    
    def _process_chatbot_flow(self, conversation, user_message):
        """Main chatbot flow dispatcher"""
        # Check if chatbot is enabled
        chatbot_enabled = request.env['ir.config_parameter'].sudo().get_param(
            'module_social_facebook.chatbot_enabled', 'False'
        )
        
        if chatbot_enabled != 'True':
            return
        
        # Check cooldown (after order completion)
        if self._is_in_cooldown(conversation):
            self._send_text(conversation, 
                "Cáº£m Æ¡n báº¡n Ä‘Ã£ Ä‘áº·t hÃ ng! ÄÆ¡n hÃ ng Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½. "
                "Náº¿u cáº§n há»— trá»£, vui lÃ²ng liÃªn há»‡ hotline.")
            return
        
        # Get current state
        current_state = conversation.chatbot_state or 'idle'
        
        _logger.info('ğŸ¤– State: %s | Message: %s', current_state, user_message)
        
        # Dispatch to state handlers
        if current_state == 'idle':
            self._state_idle(conversation, user_message)
        elif current_state == 'ask_name':
            self._state_ask_name(conversation, user_message)
        elif current_state == 'ask_phone':
            self._state_ask_phone(conversation, user_message)
        elif current_state == 'show_products':
            self._state_show_products(conversation, user_message)
        elif current_state == 'confirm_order':
            self._state_confirm_order(conversation, user_message)
        elif current_state == 'completed':
            self._state_completed(conversation, user_message)
    
    # =========================================================================
    # STATE HANDLERS
    # =========================================================================
    
    def _state_idle(self, conv, msg):
        """State: idle - Chá» trigger tá»« user"""
        msg_lower = msg.lower().strip()
        
        # Check purchase intent keywords
        if any(kw in msg_lower for kw in ['mua', 'order', 'buy', 'menu', 'Ä‘áº·t hÃ ng']):
            conv.sudo().write({'chatbot_state': 'ask_name'})
            self._send_text(conv, "Xin chÃ o! ğŸ‘‹\n\nBáº¡n vui lÃ²ng cho biáº¿t tÃªn cá»§a báº¡n?")
        else:
            self._send_text(conv, 'ğŸ‘‹ Gá»­i "mua" Ä‘á»ƒ xem sáº£n pháº©m vÃ  Ä‘áº·t hÃ ng!')
    
    def _state_ask_name(self, conv, msg):
        """State: ask_name - Thu tháº­p tÃªn khÃ¡ch hÃ ng"""
        name = msg.strip()
        
        # Validate name length
        if len(name) < 2:
            self._send_text(conv, "TÃªn quÃ¡ ngáº¯n. Vui lÃ²ng nháº­p láº¡i (Ã­t nháº¥t 2 kÃ½ tá»±).")
            return
        
        # Normalize name (capitalize each word)
        name_normalized = ' '.join(word.capitalize() for word in name.split())
        
        # Update conversation
        conv.sudo().write({
            'customer_name': name_normalized,
            'chatbot_state': 'ask_phone'
        })
        
        # Ask for phone
        welcome_msg = "Xin chÃ o %s! ğŸ˜Š\n\nBáº¡n vui lÃ²ng cung cáº¥p sá»‘ Ä‘iá»‡n thoáº¡i?" % name_normalized
        self._send_text(conv, welcome_msg)
    
    def _state_ask_phone(self, conv, msg):
        """State: ask_phone - Thu tháº­p sá»‘ Ä‘iá»‡n thoáº¡i"""
        phone = msg.strip()
        
        # Clean phone number
        phone_clean = re.sub(r'[\s\-\(\)]', '', phone)
        
        # Convert +84 or 84 to 0
        if phone_clean.startswith('+84'):
            phone_clean = '0' + phone_clean[3:]
        elif phone_clean.startswith('84'):
            phone_clean = '0' + phone_clean[2:]
        
        # Validate Vietnamese phone format (0XXXXXXXXX)
        if not re.match(r'^0\d{9,10}$', phone_clean):
            self._send_text(conv, 
                "ğŸ“± Sá»‘ Ä‘iá»‡n thoáº¡i khÃ´ng há»£p lá»‡!\n\n"
                "Vui lÃ²ng nháº­p láº¡i (VD: 0912345678)")
            return
        
        # Update conversation
        conv.sudo().write({
            'customer_phone': phone_clean,
            'chatbot_state': 'show_products'
        })
        
        # Show product list
        self._send_product_list(conv)
    
    def _state_show_products(self, conv, msg):
        """State: show_products - Chá» user chá»n sáº£n pháº©m"""
        # Check if message is a product selection payload
        if msg.startswith('PRODUCT_'):
            product_id = self._extract_product_id(msg)
            if product_id:
                self._handle_product_selection(conv, product_id)
    
    def _state_confirm_order(self, conv, msg):
        """
        âœ… State: confirm_order - XÃ¡c nháº­n vÃ  Táº O SALE ORDER
        """
        msg_lower = msg.lower().strip()
        
        _logger.info('ğŸ“ CONFIRM ORDER - Message: %s', msg)
        
        # User confirms order
        if any(kw in msg_lower for kw in ['cÃ³', 'yes', 'ok', 'Ä‘á»“ng Ã½', 'xÃ¡c nháº­n']):
            _logger.info('âœ… User confirmed order')
            
            try:
                # Step 1: Validate order data
                _logger.info('Step 1: Validating order data...')
                validation = self._validate_order_data(conv)
                
                if not validation['valid']:
                    error_msg = "âŒ Dá»¯ liá»‡u khÃ´ng há»£p lá»‡: %s" % validation['errors']
                    _logger.error(error_msg)
                    self._send_text(conv, error_msg)
                    return
                
                # âœ… Step 2: Táº O SALE ORDER TRá»°C TIáº¾P
                _logger.info('Step 2: Creating Sale Order directly...')
                sale_order = self._create_sale_order_directly(conv)
                _logger.info('âœ… Sale order created: %s', sale_order.name)
                
                # Step 3: Update conversation state
                conv.sudo().write({
                    'chatbot_state': 'completed',
                    # LÆ°u sale_order_id vÃ o conversation (cáº§n thÃªm field nÃ y)
                })
                
                # Step 4: Send success message
                _logger.info('Step 4: Sending success message...')
                
                # Calculate total
                total_amount = sale_order.amount_total
                
                success_msg = """ğŸ‰ Äáº·t hÃ ng thÃ nh cÃ´ng!

ğŸ“ MÃ£ Ä‘Æ¡n hÃ ng: %s
ğŸ’° Tá»•ng tiá»n: %s Ä‘

ğŸ“¦ Sáº£n pháº©m:
%s

ğŸ‘¤ KhÃ¡ch hÃ ng: %s
ğŸ“ SÄT: %s

âœ… ÄÆ¡n hÃ ng Ä‘Ã£ Ä‘Æ°á»£c ghi nháº­n!
ChÃºng tÃ´i sáº½ liÃªn há»‡ xÃ¡c nháº­n trong thá»i gian sá»›m nháº¥t.

Cáº£m Æ¡n báº¡n! ğŸ™""" % (
                    sale_order.name,
                    "{:,.0f}".format(total_amount),
                    self._format_order_lines(sale_order),
                    conv.customer_name,
                    conv.customer_phone
                )
                
                self._send_text(conv, success_msg)
                
                # Set cooldown
                self._set_cooldown(conv)
                
                _logger.info('âœ… Order flow completed: %s', sale_order.name)
                
            except Exception as e:
                import traceback
                _logger.error('âŒ ORDER FAILED: %s', str(e))
                _logger.error('Traceback:\n%s', traceback.format_exc())
                
                # Reset to idle on error
                conv.sudo().write({'chatbot_state': 'idle'})
                self._send_text(conv, 
                    "âŒ Xin lá»—i, cÃ³ lá»—i xáº£y ra khi táº¡o Ä‘Æ¡n hÃ ng.\n\n"
                    "Vui lÃ²ng thá»­ láº¡i hoáº·c liÃªn há»‡ hotline Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£!")
        
        # User cancels order
        elif any(kw in msg_lower for kw in ['khÃ´ng', 'no', 'há»§y', 'cancel']):
            conv.sudo().write({
                'chatbot_state': 'show_products',
                'selected_product_ids': [(5, 0, 0)]  # Clear selected products
            })
            self._send_text(conv, "ÄÃ£ há»§y Ä‘Æ¡n hÃ ng. Báº¡n cÃ³ thá»ƒ chá»n láº¡i sáº£n pháº©m! ğŸ”„")
            self._send_product_list(conv)
        
        else:
            self._send_text(conv, 
                'âš ï¸ Vui lÃ²ng tráº£ lá»i:\n'
                'âœ… "CÃ³" - Ä‘á»ƒ xÃ¡c nháº­n Ä‘áº·t hÃ ng\n'
                'âŒ "KhÃ´ng" - Ä‘á»ƒ há»§y vÃ  chá»n láº¡i')
    
    def _state_completed(self, conv, msg):
        """State: completed - ÄÆ¡n hÃ ng Ä‘Ã£ hoÃ n táº¥t"""
        if self._is_in_cooldown(conv):
            self._send_text(conv, 
                "ÄÆ¡n hÃ ng cá»§a báº¡n Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½. "
                "ChÃºng tÃ´i sáº½ liÃªn há»‡ sá»›m nháº¥t! ğŸ“")
        else:
            # Cooldown expired, reset to idle
            conv.sudo().write({'chatbot_state': 'idle'})
            self._state_idle(conv, msg)
    
    # =========================================================================
    # âœ… CORE BUSINESS LOGIC - Táº O SALE ORDER TRá»°C TIáº¾P
    # =========================================================================
    
    def _create_sale_order_directly(self, conv):
        """
        âœ… Táº O SALE ORDER TRá»°C TIáº¾P (khÃ´ng qua social.messenger.order)
        
        Args:
            conv (social.message): Conversation record
        
        Returns:
            sale.order: Created sale order
        """
        # 1. Find or create partner
        partner = self._find_or_create_partner(conv)
        
        # 2. Create sale.order
        sale_vals = {
            'partner_id': partner.id,
            'company_id': conv.company_id.id,
            'date_order': fields.Datetime.now(),
            'origin': 'Facebook Messenger - %s' % conv.facebook_user_id,
            'note': 'ÄÆ¡n hÃ ng tá»« Facebook Messenger\nPSID: %s' % conv.facebook_user_id,
        }
        
        # Get default salesperson from settings
        default_user_id = request.env['ir.config_parameter'].sudo().get_param(
            'module_social_facebook.lead_default_user_id'
        )
        if default_user_id:
            sale_vals['user_id'] = int(default_user_id)
        
        sale_order = request.env['sale.order'].sudo().create(sale_vals)
        
        _logger.info('âœ… Created sale.order: %s for partner: %s', 
                     sale_order.name, partner.name)
        
        # 3. Add order lines
        for product in conv.selected_product_ids:
            line_vals = {
                'order_id': sale_order.id,
                'product_id': product.product_id.id,
                'product_uom_qty': 1,
                'price_unit': product.price,
            }
            request.env['sale.order.line'].sudo().create(line_vals)
            
            _logger.info('  â• Added product: %s - %s Ä‘', 
                        product.product_id.name, product.price)
        
        # 4. Add note to chatter
        sale_order.message_post(
            body='ÄÆ¡n hÃ ng táº¡o tá»« Facebook Messenger chatbot\n'
                 'KhÃ¡ch hÃ ng: %s\n'
                 'SÄT: %s\n'
                 'PSID: %s' % (
                     conv.customer_name,
                     conv.customer_phone,
                     conv.facebook_user_id
                 ),
            subject='Facebook Messenger Order',
            message_type='comment',
            subtype_xmlid='mail.mt_note'
        )
        
        return sale_order
    
    def _find_or_create_partner(self, conv):
        """
        TÃ¬m hoáº·c táº¡o res.partner tá»« conversation data
        
        Args:
            conv (social.message): Conversation record
        
        Returns:
            res.partner: Partner record
        """
        Partner = request.env['res.partner'].sudo()
        
        # Search by phone first
        if conv.customer_phone:
            partner = Partner.search([
                ('phone', '=', conv.customer_phone),
                ('company_id', 'in', [False, conv.company_id.id]),
            ], limit=1)
            
            if partner:
                _logger.info('âœ… Found existing partner: %s (by phone)', partner.name)
                return partner
        
        # Create new partner
        partner_vals = {
            'name': conv.customer_name,
            'phone': conv.customer_phone,
            'company_id': conv.company_id.id,
            'comment': 'Created from Facebook Messenger chatbot\nPSID: %s' % conv.facebook_user_id,
        }
        
        # Add facebook_user_id if field exists
        if 'facebook_user_id' in Partner._fields:
            partner_vals['facebook_user_id'] = conv.facebook_user_id
        
        partner = Partner.create(partner_vals)
        
        _logger.info('âœ… Created new partner: %s (ID: %s)', partner.name, partner.id)
        
        return partner
    
    # =========================================================================
    # HELPER METHODS
    # =========================================================================
    
    def _handle_product_selection(self, conv, product_id):
        """Xá»­ lÃ½ khi user chá»n sáº£n pháº©m"""
        try:
            product = request.env['social.messenger.product'].sudo().browse(product_id)
            
            if not product.exists():
                self._send_text(conv, "âŒ Sáº£n pháº©m khÃ´ng tá»“n táº¡i!")
                return
            
            # Update conversation with selected product
            conv.sudo().write({
                'selected_product_ids': [(6, 0, [product.id])],
                'chatbot_state': 'confirm_order'
            })
            
            # Format price
            price_text = "{:,.0f}Ä‘".format(product.price) if product.price > 0 else "LiÃªn há»‡"
            
            # Send confirmation message
            confirm_msg = """âœ… Báº¡n Ä‘Ã£ chá»n:

ğŸ“¦ Sáº£n pháº©m: %s
ğŸ”¢ Sá»‘ lÆ°á»£ng: 1
ğŸ’° GiÃ¡: %s

ğŸ‘¤ KhÃ¡ch hÃ ng: %s
ğŸ“ SÄT: %s

XÃ¡c nháº­n Ä‘áº·t hÃ ng?

ğŸ‘‰ Gá»­i "CÃ³" Ä‘á»ƒ xÃ¡c nháº­n
ğŸ‘‰ Gá»­i "KhÃ´ng" Ä‘á»ƒ chá»n láº¡i""" % (
                product.product_id.name,
                price_text,
                conv.customer_name,
                conv.customer_phone
            )
            
            self._send_text(conv, confirm_msg)
            
        except Exception as e:
            _logger.error('âŒ Product selection error: %s', e)
            self._send_text(conv, "CÃ³ lá»—i xáº£y ra. Vui lÃ²ng thá»­ láº¡i!")
    
    def _send_text(self, conv, text):
        """
        Gá»­i tin nháº¯n text qua Facebook Send API
        
        Args:
            conv (social.message): Conversation record
            text (str): Message text
        
        Returns:
            bool: True if success
        """
        url = 'https://graph.facebook.com/v18.0/me/messages'
        
        payload = {
            'recipient': {'id': conv.facebook_user_id},
            'message': {'text': text},
            'messaging_type': 'RESPONSE'
        }
        
        params = {'access_token': conv.account_id.access_token}
        
        try:
            resp = requests.post(url, json=payload, params=params, timeout=10)
            success = resp.status_code == 200
            
            if success:
                _logger.debug('âœ… Message sent to %s', conv.facebook_user_id)
            else:
                _logger.error('âŒ Send failed: %s', resp.text)
            
            return success
            
        except Exception as e:
            _logger.error('âŒ Send error: %s', e)
            return False
    
    def _send_product_list(self, conv):
        """Gá»­i danh sÃ¡ch sáº£n pháº©m vá»›i quick reply buttons"""
        # Get active products
        products = request.env['social.messenger.product'].sudo().search([
            ('active', '=', True),
            ('company_id', '=', conv.company_id.id)
        ], order='sequence, id')
        
        if not products:
            self._send_text(conv, "Xin lá»—i, hiá»‡n táº¡i chÆ°a cÃ³ sáº£n pháº©m nÃ o!")
            return
        
        # Build product list text
        product_list = "ğŸ“¦ Danh sÃ¡ch sáº£n pháº©m:\n\n"
        
        for idx, p in enumerate(products, 1):
            price = "{:,.0f}Ä‘".format(p.price) if p.price > 0 else "LiÃªn há»‡"
            product_list += "%s. %s - %s\n" % (idx, p.product_id.name, price)
        
        product_list += "\nğŸ‘‡ Vui lÃ²ng chá»n sáº£n pháº©m:"
        
        # Build quick reply buttons (max 11)
        quick_replies = []
        for p in products[:11]:
            quick_replies.append({
                'content_type': 'text',
                'title': p.quick_reply_title or p.product_id.name[:20],
                'payload': 'PRODUCT_%s' % p.id
            })
        
        # Send message with quick replies
        url = 'https://graph.facebook.com/v18.0/me/messages'
        
        payload = {
            'recipient': {'id': conv.facebook_user_id},
            'message': {
                'text': product_list,
                'quick_replies': quick_replies
            },
            'messaging_type': 'RESPONSE'
        }
        
        params = {'access_token': conv.account_id.access_token}
        
        try:
            resp = requests.post(url, json=payload, params=params, timeout=10)
            if resp.status_code == 200:
                _logger.info('âœ… Product list sent to %s', conv.facebook_user_id)
            else:
                _logger.error('âŒ Failed to send product list: %s', resp.text)
        except Exception as e:
            _logger.error('âŒ Error sending product list: %s', e)
    
    def _validate_order_data(self, conv):
        """
        Validate order data before creating sale order
        
        Returns:
            dict: {'valid': bool, 'errors': str}
        """
        errors = []
        
        if not conv.customer_name:
            errors.append("Thiáº¿u tÃªn khÃ¡ch hÃ ng")
        
        if not conv.customer_phone:
            errors.append("Thiáº¿u sá»‘ Ä‘iá»‡n thoáº¡i")
        
        if not conv.selected_product_ids:
            errors.append("ChÆ°a chá»n sáº£n pháº©m")
        
        return {
            'valid': len(errors) == 0,
            'errors': ', '.join(errors)
        }
    
    def _format_order_lines(self, sale_order):
        """Format order lines for display"""
        lines = []
        for line in sale_order.order_line:
            lines.append("  â€¢ %s x%s - %s Ä‘" % (
                line.product_id.name,
                int(line.product_uom_qty),
                "{:,.0f}".format(line.price_unit)
            ))
        return "\n".join(lines)
    
    def _set_cooldown(self, conv):
        """Set cooldown period after order completion"""
        try:
            cooldown_until = datetime.now() + timedelta(minutes=5)
            conv.sudo().write({'cooldown_until': cooldown_until})
            _logger.info('â° Cooldown set until %s', cooldown_until)
        except Exception as e:
            _logger.error('âŒ Failed to set cooldown: %s', e)
    
    def _is_in_cooldown(self, conv):
        """Check if conversation is in cooldown period"""
        if not hasattr(conv, 'cooldown_until'):
            return False
        
        if conv.cooldown_until and conv.cooldown_until > datetime.now():
            return True
        
        return False
    
    def _extract_product_id(self, payload):
        """Extract product ID from payload string"""
        try:
            return int(payload.replace('PRODUCT_', ''))
        except:
            return None
    
    def _find_or_create_conversation(self, sender_id, recipient_id):
        """
        Find or create conversation record
        
        Args:
            sender_id (str): Facebook user PSID
            recipient_id (str): Facebook page ID
        
        Returns:
            social.message: Conversation record or None
        """
        # Find account by page ID
        account = request.env['social.account'].sudo().search([
            ('facebook_page_id', '=', recipient_id)
        ], limit=1)
        
        if not account:
            _logger.warning('âŒ Account not found for page: %s', recipient_id)
            return None
        
        # Find existing conversation
        conv = request.env['social.message'].sudo().search([
            ('facebook_user_id', '=', sender_id),
            ('account_id', '=', account.id),
        ], limit=1)
        
        if conv:
            _logger.debug('âœ… Found existing conversation: %s', conv.id)
            return conv
        
        # Create new conversation
        conv_vals = {
            'facebook_user_id': sender_id,
            'account_id': account.id,
            'company_id': account.company_id.id,
            'chatbot_state': 'idle',
        }
        
        try:
            conv = request.env['social.message'].sudo().create(conv_vals)
            _logger.info('âœ… Created new conversation: %s', conv.id)
            return conv
        except Exception as e:
            _logger.error('âŒ Failed to create conversation: %s', e)
            return None



################################################################################
## FILE 280: chatbot_data.xml
## ÄÆ°á»ng dáº«n: data/chatbot_data.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Purchase Intent Rule - Vietnamese -->
        <record id="chatbot_rule_purchase_intent_vietnamese" model="social.chatbot.automation">
            <field name="name">Mua hÃ ng - Tiáº¿ng Viá»‡t</field>
            <field name="trigger_keywords">mua,Ä‘áº·t hÃ ng,muá»‘n mua,Ä‘áº·t mua</field>
            <field name="response_text">Cáº£m Æ¡n báº¡n Ä‘Ã£ quan tÃ¢m Ä‘áº¿n sáº£n pháº©m cá»§a chÃºng tÃ´i! ğŸ‰

TÃ´i Ä‘Ã£ ghi nháº­n nhu cáº§u mua hÃ ng cá»§a báº¡n vÃ  Ä‘á»™i ngÅ© tÆ° váº¥n sáº½ liÃªn há»‡ vá»›i báº¡n trong thá»i gian sá»›m nháº¥t.

Äá»ƒ Ä‘Æ°á»£c há»— trá»£ nhanh hÆ¡n, báº¡n vui lÃ²ng cho tÃ´i biáº¿t:
- Sáº£n pháº©m báº¡n quan tÃ¢m
- Sá»‘ lÆ°á»£ng cáº§n mua
- Thá»i gian dá»± kiáº¿n nháº­n hÃ ng

Xin cáº£m Æ¡n! ğŸ™</field>
            <field name="priority">100</field>
            <field name="active" eval="True"/>
        </record>

        <!-- Purchase Intent Rule - English -->
        <record id="chatbot_rule_purchase_intent_english" model="social.chatbot.automation">
            <field name="name">Purchase - English</field>
            <field name="trigger_keywords">buy,order,purchase,want to buy</field>
            <field name="response_text">Thank you for your interest in our products! ğŸ‰

I've noted your purchase request and our sales team will contact you as soon as possible.

For faster assistance, please provide:
- Product(s) you're interested in
- Quantity needed
- Expected delivery time

Thank you! ğŸ™</field>
            <field name="priority">100</field>
            <field name="active" eval="True"/>
        </record>

        <!-- Greeting Rule -->
        <record id="chatbot_rule_greeting" model="social.chatbot.automation">
            <field name="name">ChÃ o há»i</field>
            <field name="trigger_keywords">xin chÃ o,chÃ o,hello,hi,hey</field>
            <field name="response_text">Xin chÃ o! ğŸ‘‹ Cáº£m Æ¡n báº¡n Ä‘Ã£ nháº¯n tin cho chÃºng tÃ´i.

TÃ´i cÃ³ thá»ƒ giÃºp gÃ¬ cho báº¡n hÃ´m nay?</field>
            <field name="priority">50</field>
            <field name="active" eval="True"/>
        </record>

        <!-- Pricing Rule -->
        <record id="chatbot_rule_pricing" model="social.chatbot.automation">
            <field name="name">Há»i giÃ¡</field>
            <field name="trigger_keywords">giÃ¡,bao nhiÃªu,price,cost,how much</field>
            <field name="response_text">Äá»ƒ tÆ° váº¥n giÃ¡ chÃ­nh xÃ¡c nháº¥t, báº¡n vui lÃ²ng cho tÃ´i biáº¿t:
- Sáº£n pháº©m báº¡n quan tÃ¢m
- Sá»‘ lÆ°á»£ng cáº§n mua

Äá»™i ngÅ© cá»§a chÃºng tÃ´i sáº½ bÃ¡o giÃ¡ chi tiáº¿t trong thá»i gian sá»›m nháº¥t! ğŸ’°</field>
            <field name="priority">70</field>
            <field name="active" eval="True"/>
        </record>

    </data>
</odoo>



################################################################################
## FILE 281: facebook_post_template_data.xml
## ÄÆ°á»ng dáº«n: data/facebook_post_template_data.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- TEMPLATE BÃ€I ÄÄ‚NG MáºªU -->

        <record id="template_new_product_launch" model="social.post.template">
            <field name="name">ğŸš€ Ra Máº¯t Sáº£n Pháº©m Má»›i</field>
            <field name="template_type">product_launch</field>
            <field name="content"><![CDATA[ğŸ‰ EXCITING NEWS! ğŸ‰

We're thrilled to announce our latest product: {{product_name}}!

âœ¨ Key Features:
{{feature_list}}

ğŸ’° Special Launch Price: {{price}}
ğŸ Limited time offer: {{offer_details}}

ğŸ‘‰ Shop now: {{shop_link}}

#NewProduct #Launch #{{company_name}}]]></field>
        </record>

        <record id="template_flash_sale" model="social.post.template">
            <field name="name">âš¡ Flash Sale</field>
            <field name="template_type">promotion</field>
            <field name="content"><![CDATA[âš¡ FLASH SALE ALERT! âš¡

ğŸ”¥ {{discount_percentage}}% OFF on {{product_category}}!

â° Hurry! Only {{hours_left}} hours left!
ğŸ›’ Shop now: {{shop_link}}

Don't miss out on this amazing deal! ğŸ¯

#FlashSale #Discount #LimitedOffer #{{company_name}}]]></field>
        </record>

        <record id="template_customer_testimonial" model="social.post.template">
            <field name="name">ğŸ’¬ ÄÃ¡nh GiÃ¡ KhÃ¡ch HÃ ng</field>
            <field name="template_type">testimonial</field>
            <field name="content"><![CDATA[â­â­â­â­â­

"{{testimonial_text}}"

- {{customer_name}}

Thank you for your amazing feedback! ğŸ’™

We love hearing from our satisfied customers. Your trust means the world to us! ğŸ™

#CustomerLove #Testimonial #{{company_name}}]]></field>
        </record>

        <record id="template_weekly_tips" model="social.post.template">
            <field name="name">ğŸ’¡ Tips HÃ ng Tuáº§n</field>
            <field name="template_type">educational</field>
            <field name="content"><![CDATA[ğŸ’¡ TIP OF THE WEEK ğŸ’¡

{{tip_title}}

{{tip_description}}

ğŸ‘‰ Try it out and let us know your results!

Have questions? Drop them in the comments below! ğŸ‘‡

#Tips #DidYouKnow #{{company_name}}]]></field>
        </record>

        <record id="template_behind_the_scenes" model="social.post.template">
            <field name="name">ğŸ¬ Behind The Scenes</field>
            <field name="template_type">engagement</field>
            <field name="content"><![CDATA[ğŸ¬ BEHIND THE SCENES ğŸ¬

Ever wondered how we {{process_description}}?

Here's a sneak peek into our {{department_name}} team! ğŸ‘€

{{additional_details}}

Drop a â¤ï¸ if you'd like to see more behind-the-scenes content!

#BehindTheScenes #TeamWork #{{company_name}}]]></field>
        </record>

        <record id="template_event_announcement" model="social.post.template">
            <field name="name">ğŸ“… ThÃ´ng BÃ¡o Sá»± Kiá»‡n</field>
            <field name="template_type">event</field>
            <field name="content"><![CDATA[ğŸ“… SAVE THE DATE! ğŸ“…

{{event_name}}

ğŸ“ Location: {{location}}
ğŸ—“ï¸ Date: {{event_date}}
â° Time: {{event_time}}

{{event_description}}

ğŸŸï¸ Register now: {{registration_link}}

Limited seats available! Don't miss out! ğŸ¯

#Event #SaveTheDate #{{company_name}}]]></field>
        </record>

    </data>
</odoo>



################################################################################
## FILE 282: ir_cron_data.xml
## ÄÆ°á»ng dáº«n: data/ir_cron_data.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->
    <!-- CRON JOBS - Facebook Synchronization -->
    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->

    <!-- Cron: Sync Facebook Posts -->
    <record id="cron_sync_facebook_posts" model="ir.cron">
        <field name="name">Facebook: Sync Posts</field>
        <field name="model_id" ref="model_social_post"/>
        <field name="state">code</field>
        <field name="code">model._cron_sync_posts()</field>
        <field name="interval_number">15</field>
        <field name="interval_type">minutes</field>
        <field name="active">True</field>
    </record>

    <!-- Cron: Sync Facebook Comments -->
    <record id="cron_sync_facebook_comments" model="ir.cron">
        <field name="name">Facebook: Sync Comments</field>
        <field name="model_id" ref="model_social_comment"/>
        <field name="state">code</field>
        <field name="code">model._cron_sync_comments()</field>
        <field name="interval_number">10</field>
        <field name="interval_type">minutes</field>
        <field name="active">True</field>
    </record>

    <!-- Cron: Publish Scheduled Posts -->
    <record id="cron_publish_scheduled_posts" model="ir.cron">
        <field name="name">Facebook: Publish Scheduled Posts</field>
        <field name="model_id" ref="model_social_post"/>
        <field name="state">code</field>
        <field name="code">model._cron_publish_scheduled_posts()</field>
        <field name="interval_number">5</field>
        <field name="interval_type">minutes</field>
        <field name="active">True</field>
    </record>

    <!-- 
    NOTE: Ngrok health check Ä‘Ã£ bá»‹ XÃ“A
    LÃ½ do: Odoo 19 cáº¥m opcode IMPORT_NAME trong cron code
    Náº¿u cáº§n kiá»ƒm tra ngrok, dÃ¹ng external monitoring tool
    -->

</odoo>



################################################################################
## FILE 283: mail_template_data.xml
## ÄÆ°á»ng dáº«n: data/mail_template_data.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- EMAIL NOTIFICATION TEMPLATES -->

        <record id="mail_template_post_published" model="mail.template">
            <field name="name">Social Facebook: Post Published</field>
            <field name="model_id" ref="model_social_post"/>
            <field name="subject">Your Facebook post has been published</field>
            <field name="body_html"><![CDATA[
<div style="font-family: Arial, sans-serif;">
    <h3>Post Published Successfully!</h3>
    <p>Your post has been published to Facebook:</p>
    <blockquote style="border-left: 3px solid #1877f2; padding-left: 10px;">
        ${object.content}
    </blockquote>
    <p>
        <strong>Page:</strong> ${object.account_id.name}<br/>
        <strong>Published:</strong> ${object.published_date}<br/>
    </p>
    <p><a href="${object.facebook_post_url}" style="color: #1877f2;">View on Facebook</a></p>
</div>
            ]]></field>
        </record>

        <record id="mail_template_new_comment" model="mail.template">
            <field name="name">Social Facebook: New Comment</field>
            <field name="model_id" ref="model_social_comment"/>
            <field name="subject">New comment on your Facebook post</field>
            <field name="body_html"><![CDATA[
<div style="font-family: Arial, sans-serif;">
    <h3>New Comment Received!</h3>
    <p><strong>${object.author_name}</strong> commented:</p>
    <blockquote style="border-left: 3px solid #1877f2; padding-left: 10px;">
        ${object.message}
    </blockquote>
    <p>On post: "${object.post_id.content[:100]}..."</p>
    <p><a href="/web#id=${object.id}&model=social.comment" style="color: #1877f2;">Reply in Odoo</a></p>
</div>
            ]]></field>
        </record>

    </data>
</odoo>



################################################################################
## FILE 284: user_groups_data.xml
## ÄÆ°á»ng dáº«n: data/user_groups_data.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ThÃªm Admin vÃ o groups Social Facebook -->
    <!-- âœ… Sá»¬A: Äá»•i tÃªn group reference cho khá»›p -->
    <record id="base.user_admin" model="res.users">
        <field name="group_ids" eval="[(4, ref('module_social_facebook.group_social_facebook_manager'))]"/>
    </record>

</odoo>



################################################################################
## FILE 285: generate_doc_3.py
## ÄÆ°á»ng dáº«n: generate_doc_3.py
################################################################################

import os
import datetime

# -------------------------------------------------------------
# CONFIG
# -------------------------------------------------------------
OUTPUT_NAME = None  # None -> tá»± Ä‘áº·t tÃªn theo thÆ° má»¥c module

# ThÆ° má»¥c bá»‹ loáº¡i trá»« á»Ÿ má»i cáº¥p
EXCLUDED_DIRS = {"__pycache__"}


# -------------------------------------------------------------
# HÃ€M Táº O BANNER
# -------------------------------------------------------------
def make_banner(module_name):
    banner = f"""
################################################################################
#                      {module_name.upper():<50}#
#                   ODOO MODULE DOCUMENTATION GENERATOR                     #
#                           Version 1.2.0 - Enterprise Style                #
################################################################################
"""
    return banner


# -------------------------------------------------------------
# HÃ€M QUÃ‰T FILES (Bá» QUA __pycache__)
# -------------------------------------------------------------
def scan_files(root):
    file_list = []

    for base, dirs, files in os.walk(root):
        # ğŸ”¥ CHáº¶N __pycache__ á» Má»ŒI Cáº¤P
        dirs[:] = [d for d in dirs if d not in EXCLUDED_DIRS]

        dirs.sort()
        files.sort()

        for f in files:
            full_path = os.path.join(base, f)
            rel = os.path.relpath(full_path, root).replace("\\", "/")
            file_list.append(rel)

    return file_list


# -------------------------------------------------------------
# HÃ€M XÃC Äá»ŠNH LOáº I FILE
# -------------------------------------------------------------
def detect_type(file):
    ext = file.lower().split(".")[-1]
    if ext == "py":
        return "Python"
    if ext == "xml":
        return "XML"
    if ext == "csv":
        return "CSV"
    if ext == "js":
        return "JS"
    if ext == "css":
        return "CSS"
    if ext in ["png", "jpg", "jpeg", "svg"]:
        return "Image"
    return "Other"


# -------------------------------------------------------------
# HÃ€M SINH CÃ‚Y THÆ¯ Má»¤C Dáº NG TREE (ASCII)
# -------------------------------------------------------------
def generate_directory_tree(files):
    """
    Sinh cÃ¢y thÆ° má»¥c dáº¡ng ASCII tá»« danh sÃ¡ch file path
    """
    if not files:
        return ""

    # XÃ¢y dá»±ng cáº¥u trÃºc cÃ¢y dáº¡ng dict
    tree = {}
    for path in files:
        parts = path.split("/")
        current = tree
        for part in parts:
            current = current.setdefault(part, {})

    lines = []

    def render(node, prefix="", is_root=True):
        items = list(node.items())
        for i, (name, children) in enumerate(items):
            is_last = (i == len(items) - 1)

            if is_root:
                connector = ""
                new_prefix = ""
            else:
                connector = "â””â”€â”€ " if is_last else "â”œâ”€â”€ "
                new_prefix = prefix + ("    " if is_last else "â”‚   ")

            icon = "ğŸ“" if children else "ğŸ“„"
            lines.append(f"{prefix}{connector}{icon} {name}")

            if children:
                render(children, new_prefix, is_root=False)

    render(tree)

    output = []
    output.append("================================================================================")
    output.append("                                ğŸ“‚ DIRECTORY TREE")
    output.append("================================================================================")
    output.append("\n".join(lines))
    output.append("\n")

    return "\n".join(output)


# -------------------------------------------------------------
# HÃ€M SINH Cáº¤U TRÃšC THÆ¯ Má»¤C Dáº NG STT (GIá»® NGUYÃŠN)
# -------------------------------------------------------------
def generate_tree(files, root):
    lines = []
    counter = 1

    lines.append("================================================================================")
    lines.append(f"                              Cáº¤U TRÃšC THÆ¯ Má»¤C - {len(files)} FILES")
    lines.append("================================================================================\n")

    for f in files:
        lines.append(f"{counter:>3}.  {f}")
        counter += 1

    lines.append("\n")
    return "\n".join(lines)


# -------------------------------------------------------------
# HÃ€M SINH Báº¢NG Tá»”NG Káº¾T FILES
# -------------------------------------------------------------
def generate_summary(files):
    lines = []

    lines.append("================================================================================")
    lines.append(f"                         Báº¢NG Tá»”NG Káº¾T {len(files)} FILES")
    lines.append("================================================================================")
    lines.append("â”‚  #  â”‚ ÄÆ°á»ng dáº«n file                                     â”‚ Loáº¡i     â”‚")
    lines.append("â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤")

    idx = 1
    for f in files:
        ftype = detect_type(f)
        lines.append(f"â”‚ {idx:<3} â”‚ {f:<50} â”‚ {ftype:<8} â”‚")
        idx += 1

    lines.append("\n")
    return "\n".join(lines)


# -------------------------------------------------------------
# HÃ€M Äá»ŒC Ná»˜I DUNG FILE
# -------------------------------------------------------------
def read_file(fullpath):
    try:
        with open(fullpath, "r", encoding="utf-8") as f:
            return f.read()
    except:
        return "[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]"


# -------------------------------------------------------------
# HÃ€M SINH Ná»˜I DUNG CÃC FILE
# -------------------------------------------------------------
def generate_file_contents(files, root):
    lines = []

    lines.append("\n================================================================================")
    lines.append("                              Ná»˜I DUNG CÃC FILES")
    lines.append("================================================================================\n")

    idx = 1
    for f in files:
        fullpath = os.path.join(root, f)

        lines.append("################################################################################")
        lines.append(f"## FILE {idx}: {os.path.basename(f)}")
        lines.append(f"## ÄÆ°á»ng dáº«n: {f}")
        lines.append("################################################################################\n")

        content = read_file(fullpath)
        lines.append(content)
        lines.append("\n\n")

        idx += 1

    return "\n".join(lines)


# -------------------------------------------------------------
# MAIN
# -------------------------------------------------------------
def main():
    root = os.path.dirname(os.path.abspath(__file__))
    module_name = os.path.basename(root)

    now = datetime.datetime.now().strftime("%Y-%m-%d_%Hh%M")
    output_file = OUTPUT_NAME or f"{module_name}_DOCUMENTATION_{now}.txt"

    files = scan_files(root)
    files = sorted(files)

    output = []
    output.append(make_banner(module_name))
    output.append(generate_directory_tree(files))   # ğŸŒ³ CÃ‚Y THÆ¯ Má»¤C (Má»šI)
    output.append(generate_tree(files, root))       # ğŸ“„ DANH SÃCH FILE
    output.append(generate_summary(files))           # ğŸ“Š Báº¢NG Tá»”NG Káº¾T
    output.append(generate_file_contents(files, root))

    with open(output_file, "w", encoding="utf-8") as f:
        f.write("\n".join(output))

    print(f"\nDONE! File generated: {output_file}")


if __name__ == "__main__":
    main()




################################################################################
## FILE 286: __init__.py
## ÄÆ°á»ng dáº«n: lib/__init__.py
################################################################################

from . import facebook_api



################################################################################
## FILE 287: facebook_api.py
## ÄÆ°á»ng dáº«n: lib/facebook_api.py
################################################################################

# -*- coding: utf-8 -*-

import requests
import logging

_logger = logging.getLogger(__name__)


class FacebookAPI:
    """
    Wrapper for Facebook Graph API.
    Version: v18.0
    """
    
    API_VERSION = 'v18.0'
    BASE_URL = f'https://graph.facebook.com/{API_VERSION}'
    
    def __init__(self, access_token):
        """
        Initialize API wrapper.
        
        Args:
            access_token (str): Page Access Token
        """
        self.access_token = access_token
    
    # -------------------------------------------------------------------------
    # PAGE METHODS
    # -------------------------------------------------------------------------
    
    def get_page_info(self, page_id):
        """Get page information"""
        url = f"{self.BASE_URL}/{page_id}"
        params = {
            'access_token': self.access_token,
            'fields': 'id,name,category,picture,fan_count,link'
        }
        response = requests.get(url, params=params)
        return response.json()
    
    def publish_post(self, page_id, message, **kwargs):
        """Publish a post to page"""
        url = f"{self.BASE_URL}/{page_id}/feed"
        data = {
            'access_token': self.access_token,
            'message': message,
        }
        data.update(kwargs)
        response = requests.post(url, data=data)
        return response.json()
    
    # -------------------------------------------------------------------------
    # âœ… MESSENGER SEND API - FIXED
    # -------------------------------------------------------------------------
    
    def send_message(self, recipient_id, message_text):
        """
        âœ… FIX: Send text message via Messenger Send API.
        
        Args:
            recipient_id (str): PSID of recipient
            message_text (str): Text message to send
        
        Returns:
            dict: API response with message_id
            
        Example:
            >>> api = FacebookAPI('token123')
            >>> api.send_message('user456', 'Hello!')
            {'recipient_id': 'user456', 'message_id': 'mid.xxx'}
        """
        url = f"{self.BASE_URL}/me/messages"
        
        payload = {
            'recipient': {'id': recipient_id},
            'message': {'text': message_text},
            'messaging_type': 'RESPONSE'
        }
        
        params = {'access_token': self.access_token}
        
        try:
            response = requests.post(url, json=payload, params=params, timeout=30)
            response.raise_for_status()
            
            # âœ… FIX: Parse JSON an toÃ n
            try:
                result = response.json()
                
                # âœ… Check result lÃ  dict
                if isinstance(result, dict):
                    message_id = result.get('message_id', 'N/A')
                    _logger.info(f"âœ… Message sent to {recipient_id}: {message_id}")
                else:
                    # Result lÃ  list hoáº·c kiá»ƒu khÃ¡c
                    _logger.info(f"âœ… Message sent to {recipient_id}")
                    result = {'success': True}
                
                return result
                
            except Exception as json_error:
                _logger.warning(f"âš ï¸ JSON parse warning: {json_error}")
                return {'success': True}
            
        except requests.exceptions.HTTPError as e:
            # âœ… FIX: Handle HTTP errors
            try:
                error_data = e.response.json()
                
                # âœ… Check error_data type
                if isinstance(error_data, dict):
                    error_msg = error_data.get('error', {}).get('message', str(e))
                else:
                    error_msg = str(e)
            except:
                error_msg = str(e)
            
            _logger.error(f"âŒ Facebook API Error: {error_msg}")
            raise Exception(f"Facebook API Error: {error_msg}")
            
        except requests.exceptions.RequestException as e:
            _logger.error(f"âŒ Request failed: {e}")
            raise Exception(f"Failed to send message: {str(e)}")
    
    # -------------------------------------------------------------------------
    # CONVERSATION METHODS
    # -------------------------------------------------------------------------
    
    def get_conversation_messages(self, conversation_id, limit=25):
        """Get messages from a conversation"""
        url = f"{self.BASE_URL}/{conversation_id}"
        params = {
            'access_token': self.access_token,
            'fields': f'messages.limit({limit}){{id,created_time,from,to,message}}'
        }
        response = requests.get(url, params=params)
        return response.json()
    
    # -------------------------------------------------------------------------
    # LEADGEN API
    # -------------------------------------------------------------------------
    
    def get_leadgen_data(self, leadgen_id):
        """
        Láº¥y dá»¯ liá»‡u lead form tá»« Facebook.
        
        Endpoint: /{leadgen_id}
        Fields: field_data (contains name, phone, email, etc.)
        
        Args:
            leadgen_id (str): Lead generation ID from webhook
        
        Returns:
            dict: Lead data
                {
                    'id': '123',
                    'created_time': '2025-01-01T10:00:00+0000',
                    'field_data': [
                        {'name': 'full_name', 'values': ['John Doe']},
                        {'name': 'phone_number', 'values': ['+1234567890']},
                        {'name': 'email', 'values': ['john@example.com']},
                    ]
                }
        """
        url = f"{self.BASE_URL}/{leadgen_id}"
        params = {
            'access_token': self.access_token,
            'fields': 'id,created_time,field_data'
        }
        
        try:
            response = requests.get(url, params=params, timeout=10)
            response.raise_for_status()
            data = response.json()
            
            _logger.info(f'Successfully fetched leadgen data for {leadgen_id}')
            return data
            
        except requests.exceptions.RequestException as e:
            _logger.error(f'Failed to fetch leadgen {leadgen_id}: {e}')
            raise
    
    def get_leadgen_forms(self, page_id):
        """
        Láº¥y danh sÃ¡ch lead forms cá»§a page.
        
        Args:
            page_id (str): Facebook Page ID
        
        Returns:
            list: List of lead forms
        """
        url = f"{self.BASE_URL}/{page_id}/leadgen_forms"
        params = {
            'access_token': self.access_token,
            'fields': 'id,name,status,questions'
        }
        
        try:
            response = requests.get(url, params=params, timeout=10)
            response.raise_for_status()
            data = response.json()
            
            return data.get('data', [])
            
        except requests.exceptions.RequestException as e:
            _logger.error(f'Failed to fetch leadgen forms: {e}')
            return []
    
    # -------------------------------------------------------------------------
    # MESSENGER PROFILE API
    # -------------------------------------------------------------------------
    
    def set_get_started_button(self, payload='GET_STARTED'):
        """
        Set Get Started button for Messenger.
        
        Args:
            payload (str): Postback payload when button clicked
        """
        url = f"{self.BASE_URL}/me/messenger_profile"
        data = {
            'access_token': self.access_token,
            'get_started': {'payload': payload}
        }
        response = requests.post(url, json=data)
        return response.json()
    
    def set_greeting_text(self, greeting_text):
        """
        Set greeting text for Messenger.
        
        Args:
            greeting_text (str): Greeting message
        """
        url = f"{self.BASE_URL}/me/messenger_profile"
        data = {
            'access_token': self.access_token,
            'greeting': [
                {
                    'locale': 'default',
                    'text': greeting_text
                }
            ]
        }
        response = requests.post(url, json=data)
        return response.json()



################################################################################
## FILE 288: __init__.py
## ÄÆ°á»ng dáº«n: models/__init__.py
################################################################################

# -*- coding: utf-8 -*-

from . import crm_lead
from . import res_company
from . import res_config_settings
from . import social_account
from . import social_analytics
from . import social_comment
from . import social_conversation
from . import social_message
from . import social_messenger_order
from . import social_messenger_product
from . import social_post
from . import social_post_template
from . import social_chatbot_automation



################################################################################
## FILE 289: crm_lead.py
## ÄÆ°á»ng dáº«n: models/crm_lead.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _


class CrmLead(models.Model):
    """
    Má»Ÿ rá»™ng crm.lead Ä‘á»ƒ link vá»›i Facebook conversations.
    """
    _inherit = 'crm.lead'
    
    # Link to Facebook
    facebook_conversation_id = fields.Many2one(
        'social.message',
        string='Facebook Conversation',
        ondelete='set null',
        help='Conversation Messenger táº¡o ra lead nÃ y',
    )
    facebook_user_id = fields.Char(
        string='Facebook User ID',
        help='PSID cá»§a khÃ¡ch hÃ ng',
    )
    
    # Statistics
    messenger_message_count = fields.Integer(
        string='Messenger Messages',
        compute='_compute_messenger_stats',
        help='Sá»‘ tin nháº¯n trong conversation',
    )
    
    def _compute_messenger_stats(self):
        """TÃ­nh sá»‘ tin nháº¯n Messenger"""
        for lead in self:
            if lead.facebook_conversation_id:
                messages = self.env['social.message'].search_count([
                    ('conversation_id', '=', lead.facebook_conversation_id.id)
                ])
                lead.messenger_message_count = messages
            else:
                lead.messenger_message_count = 0
    
    def action_view_messenger_conversation(self):
        """Xem conversation Messenger"""
        self.ensure_one()
        if not self.facebook_conversation_id:
            return {'type': 'ir.actions.act_window_close'}
        
        return {
            'name': _('Messenger Conversation'),
            'type': 'ir.actions.act_window',
            'res_model': 'social.message',
            'res_id': self.facebook_conversation_id.id,
            'view_mode': 'form',
            'target': 'current',
        }



################################################################################
## FILE 290: res_company.py
## ÄÆ°á»ng dáº«n: models/res_company.py
################################################################################

from odoo import models, fields


class ResCompany(models.Model):
    _inherit = 'res.company'

    facebook_app_id = fields.Char(
        string='Facebook App ID',
        help='Facebook App ID for authentication'
    )
    
    facebook_app_secret = fields.Char(
        string='Facebook App Secret',
        help='Facebook App Secret for authentication'
    )
    
    facebook_webhook_verify_token = fields.Char(
        string='Webhook Verify Token',
        help='Token for Facebook webhook verification'
    )




################################################################################
## FILE 291: res_config_settings.py
## ÄÆ°á»ng dáº«n: models/res_config_settings.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import UserError
import subprocess
import requests
import logging
import os

_logger = logging.getLogger(__name__)


class ResConfigSettings(models.TransientModel):
    _inherit = 'res.config.settings'
    
    # -------------------------------------------------------------------------
    # FACEBOOK WEBHOOK CONFIG
    # -------------------------------------------------------------------------
    
    facebook_verify_token = fields.Char(
        string='Webhook Verify Token',
        config_parameter='module_social_facebook.verify_token',
        help='Token Ä‘á»ƒ verify webhook tá»« Facebook (GET request)',
    )
    facebook_webhook_url = fields.Char(
        string='Webhook URL',
        compute='_compute_webhook_url',
        help='URL webhook hiá»‡n táº¡i (localhost hoáº·c ngrok)',
    )
    
    # -------------------------------------------------------------------------
    # NGROK CONFIG
    # -------------------------------------------------------------------------
    
    ngrok_executable_path = fields.Char(
        string='Ngrok Executable Path',
        config_parameter='module_social_facebook.ngrok_path',
        default='C:/ngrok/ngrok.exe',
        help='ÄÆ°á»ng dáº«n Ä‘áº§y Ä‘á»§ tá»›i file ngrok.exe',
    )
    ngrok_tunnel_url = fields.Char(
        string='Ngrok Public URL',
        compute='_compute_ngrok_tunnel_url',
        help='URL cÃ´ng khai tá»« ngrok (https)',
    )
    ngrok_is_running = fields.Boolean(
        string='Ngrok Running',
        compute='_compute_ngrok_is_running',
        help='Tráº¡ng thÃ¡i ngrok',
    )
    
    # -------------------------------------------------------------------------
    # CRM INTEGRATION CONFIG
    # -------------------------------------------------------------------------
    
    auto_create_lead = fields.Boolean(
        string='Auto Create Leads',
        config_parameter='module_social_facebook.auto_create_lead',
        default=True,
        help='Tá»± Ä‘á»™ng táº¡o crm.lead tá»« Messenger conversations',
    )
    lead_default_user_id = fields.Many2one(
        'res.users',
        string='Default Salesperson',
        config_parameter='module_social_facebook.lead_default_user_id',
        help='NgÆ°á»i Ä‘Æ°á»£c assign lead máº·c Ä‘á»‹nh',
    )
    
    # -------------------------------------------------------------------------
    # CHATBOT CONFIG
    # -------------------------------------------------------------------------
    
    chatbot_enabled = fields.Boolean(
        string='Enable Sales Chatbot',
        config_parameter='module_social_facebook.chatbot_enabled',
        default=False,
        help='Báº­t chatbot bÃ¡n hÃ ng tá»± Ä‘á»™ng qua Messenger',
    )
    chatbot_welcome_message = fields.Text(
        string='Welcome Message',
        config_parameter='module_social_facebook.chatbot_welcome_message',
        default='Xin chÃ o! TÃ´i lÃ  trá»£ lÃ½ bÃ¡n hÃ ng tá»± Ä‘á»™ng. ğŸ˜Š\nBáº¡n vui lÃ²ng cho tÃ´i biáº¿t tÃªn cá»§a báº¡n?',
        help='Tin nháº¯n chÃ o má»«ng khi báº¯t Ä‘áº§u flow',
    )
    
    # -------------------------------------------------------------------------
    # COMPUTE METHODS
    # -------------------------------------------------------------------------
    
    @api.depends('ngrok_tunnel_url')
    def _compute_webhook_url(self):
        """TÃ­nh toÃ¡n webhook URL (ngrok hoáº·c localhost)"""
        for record in self:
            base_url = record.ngrok_tunnel_url or self.env['ir.config_parameter'].sudo().get_param('web.base.url', 'http://localhost:8069')
            record.facebook_webhook_url = f"{base_url}/social/facebook/webhook"
    
    def _compute_ngrok_tunnel_url(self):
        """Láº¥y URL ngrok tá»« API"""
        for record in self:
            try:
                # Query ngrok API (default: http://127.0.0.1:4040/api/tunnels)
                response = requests.get('http://127.0.0.1:4040/api/tunnels', timeout=2)
                if response.status_code == 200:
                    data = response.json()
                    tunnels = data.get('tunnels', [])
                    for tunnel in tunnels:
                        if tunnel.get('proto') == 'https':
                            record.ngrok_tunnel_url = tunnel.get('public_url')
                            return
                record.ngrok_tunnel_url = False
            except Exception as e:
                _logger.debug(f'Failed to get ngrok URL: {e}')
                record.ngrok_tunnel_url = False
    
    def _compute_ngrok_is_running(self):
        """Kiá»ƒm tra ngrok cÃ³ Ä‘ang cháº¡y khÃ´ng"""
        for record in self:
            record.ngrok_is_running = bool(record.ngrok_tunnel_url)
    
    # -------------------------------------------------------------------------
    # NGROK ACTIONS
    # -------------------------------------------------------------------------
    
    def action_start_ngrok(self):
        """
        Khá»Ÿi Ä‘á»™ng ngrok subprocess.
        
        Command: ngrok.exe http 8069
        Process cháº¡y background, khÃ´ng block Odoo.
        """
        self.ensure_one()
        
        ngrok_path = self.ngrok_executable_path or 'C:/ngrok/ngrok.exe'
        
        # Check if file exists
        if not os.path.exists(ngrok_path):
            raise UserError(_(
                'Ngrok executable not found at: %s\n'
                'Please update the path in settings!'
            ) % ngrok_path)
        
        # Check if already running
        if self.ngrok_is_running:
            raise UserError(_('Ngrok is already running!'))
        
        try:
            # Start ngrok subprocess
            # Use Popen to run in background
            subprocess.Popen(
                [ngrok_path, 'http', '8069'],
                stdout=subprocess.DEVNULL,
                stderr=subprocess.DEVNULL,
                creationflags=subprocess.CREATE_NEW_CONSOLE if os.name == 'nt' else 0
            )
            
            _logger.info('Ngrok started successfully')
            
            return {
                'type': 'ir.actions.client',
                'tag': 'display_notification',
                'params': {
                    'title': _('Success'),
                    'message': _('Ngrok started! Please wait 5 seconds then refresh to see the URL.'),
                    'type': 'success',
                    'sticky': False,
                }
            }
            
        except Exception as e:
            _logger.error(f'Failed to start ngrok: {e}')
            raise UserError(_(
                'Failed to start ngrok: %s\n'
                'Please check the executable path and try again.'
            ) % str(e))
    
    def action_stop_ngrok(self):
        """
        Dá»«ng ngrok process.
        
        Kill táº¥t cáº£ process ngrok Ä‘ang cháº¡y.
        """
        self.ensure_one()
        
        try:
            if os.name == 'nt':  # Windows
                subprocess.run(['taskkill', '/F', '/IM', 'ngrok.exe'], 
                             stdout=subprocess.DEVNULL, 
                             stderr=subprocess.DEVNULL)
            else:  # Linux/Mac
                subprocess.run(['pkill', 'ngrok'], 
                             stdout=subprocess.DEVNULL, 
                             stderr=subprocess.DEVNULL)
            
            _logger.info('Ngrok stopped')
            
            return {
                'type': 'ir.actions.client',
                'tag': 'display_notification',
                'params': {
                    'title': _('Success'),
                    'message': _('Ngrok stopped successfully!'),
                    'type': 'success',
                    'sticky': False,
                }
            }
            
        except Exception as e:
            _logger.error(f'Failed to stop ngrok: {e}')
            raise UserError(_('Failed to stop ngrok: %s') % str(e))
    
    def action_refresh_ngrok_url(self):
        """Refresh Ä‘á»ƒ láº¥y ngrok URL má»›i"""
        self._compute_ngrok_tunnel_url()
        
        if self.ngrok_tunnel_url:
            message = _('Ngrok URL: %s') % self.ngrok_tunnel_url
            msg_type = 'success'
        else:
            message = _('Ngrok is not running or URL not available.')
            msg_type = 'warning'
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Ngrok Status'),
                'message': message,
                'type': msg_type,
                'sticky': False,
            }
        }
    
    def action_copy_webhook_url(self):
        """Copy webhook URL to clipboard (via notification)"""
        self.ensure_one()
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Webhook URL'),
                'message': _('Webhook URL: %s\nCopy vÃ  dÃ¡n vÃ o Facebook App Settings!') % self.facebook_webhook_url,
                'type': 'info',
                'sticky': True,
            }
        }
    



################################################################################
## FILE 292: social_account.py
## ÄÆ°á»ng dáº«n: models/social_account.py
################################################################################

from odoo import models, fields, api, _
from odoo.exceptions import UserError
import requests
import logging

_logger = logging.getLogger(__name__)


class SocialAccount(models.Model):
    _name = 'social.account'
    _description = 'Facebook Account'
    _order = 'name'
    _inherit = ['mail.thread', 'mail.activity.mixin']

    name = fields.Char(string='Page Name', required=True, tracking=True)
    platform = fields.Selection([('facebook', 'Facebook')], string='Platform', default='facebook', required=True)
    facebook_page_id = fields.Char(string='Facebook Page ID', required=True, tracking=True)
    facebook_page_url = fields.Char(string='Page URL', compute='_compute_page_url', store=True)
    
    access_token = fields.Char(string='Access Token', required=True)
    token_expires_at = fields.Datetime(string='Token Expires At')
    is_token_valid = fields.Boolean(string='Token Valid', compute='_compute_token_valid')
    
    page_category = fields.Char(string='Category')
    page_about = fields.Text(string='About')
    followers_count = fields.Integer(string='Followers', default=0)
    likes_count = fields.Integer(string='Likes', default=0)
    page_rating = fields.Float(string='Rating', digits=(2, 1))
    profile_picture_url = fields.Char(string='Profile Picture URL')
    cover_photo_url = fields.Char(string='Cover Photo URL')
    
    active = fields.Boolean(string='Active', default=True)
    state = fields.Selection([
        ('draft', 'Draft'),
        ('connected', 'Connected'),
        ('error', 'Error'),
    ], string='Status', default='draft', tracking=True)
    
    last_sync_date = fields.Datetime(string='Last Sync')
    last_message_sync_date = fields.Datetime(string='Last Message Sync')
    error_message = fields.Text(string='Error Message')
    
    auto_sync_comments = fields.Boolean(string='Auto Sync Comments', default=True)
    auto_sync_messages = fields.Boolean(string='Auto Sync Messages', default=True)
    
    company_id = fields.Many2one('res.company', string='Company', default=lambda self: self.env.company)
    post_ids = fields.One2many('social.post', 'account_id', string='Posts')
    post_count = fields.Integer(string='Posts', compute='_compute_post_count')
    
    # âœ… THÃŠM: Field Ä‘áº¿m conversations
    conversation_count = fields.Integer(string='Conversations', compute='_compute_conversation_count')
    
    _sql_constraints = [
        ('facebook_page_id_uniq', 'UNIQUE(facebook_page_id, company_id)', 
         'Facebook Page ID must be unique per company!'),
    ]
    
    @api.depends('facebook_page_id')
    def _compute_page_url(self):
        for account in self:
            if account.facebook_page_id:
                account.facebook_page_url = f'https://www.facebook.com/{account.facebook_page_id}'
            else:
                account.facebook_page_url = False
    
    @api.depends('token_expires_at')
    def _compute_token_valid(self):
        now = fields.Datetime.now()
        for account in self:
            if account.token_expires_at:
                account.is_token_valid = account.token_expires_at > now
            else:
                account.is_token_valid = True
    
    def _compute_post_count(self):
        for account in self:
            account.post_count = len(account.post_ids)
    
    # âœ… THÃŠM: Compute conversation count
    def _compute_conversation_count(self):
        for account in self:
            account.conversation_count = self.env['social.conversation'].search_count([
                ('account_id', '=', account.id)
            ])
    
    def action_test_connection(self):
        self.ensure_one()
        try:
            url = f'https://graph.facebook.com/v18.0/{self.facebook_page_id}'
            params = {'access_token': self.access_token, 'fields': 'id,name,category'}
            response = requests.get(url, params=params, timeout=10)
            
            if response.status_code == 200:
                self.write({'state': 'connected', 'error_message': False})
                return {
                    'type': 'ir.actions.client',
                    'tag': 'display_notification',
                    'params': {
                        'title': _('Success'),
                        'message': _('Connection successful!'),
                        'type': 'success',
                        'sticky': False,
                    }
                }
            else:
                raise UserError(_('Connection failed: %s') % response.text)
        except Exception as e:
            self.write({'state': 'error', 'error_message': str(e)})
            raise UserError(_('Connection error: %s') % str(e))
    
    def action_sync_page_info(self):
        self.ensure_one()
        try:
            url = f'https://graph.facebook.com/v18.0/{self.facebook_page_id}'
            params = {
                'access_token': self.access_token,
                'fields': 'name,category,about,followers_count,fan_count,overall_star_rating'
            }
            response = requests.get(url, params=params, timeout=10)
            
            if response.status_code == 200:
                data = response.json()
                self.write({
                    'name': data.get('name', self.name),
                    'page_category': data.get('category'),
                    'page_about': data.get('about'),
                    'followers_count': data.get('followers_count', 0),
                    'likes_count': data.get('fan_count', 0),
                    'page_rating': data.get('overall_star_rating', 0),
                    'last_sync_date': fields.Datetime.now(),
                })
                return True
            return False
        except Exception as e:
            _logger.error(f'Error syncing page info: {e}')
            return False
    
    def action_view_posts(self):
        self.ensure_one()
        return {
            'name': _('Posts - %s') % self.name,
            'type': 'ir.actions.act_window',
            'res_model': 'social.post',
            'view_mode': 'list,kanban,form',
            'domain': [('account_id', '=', self.id)],
            'context': {'default_account_id': self.id},
        }
    
    # =========================================================================
    # âœ… THÃŠM: ACTION SYNC CONVERSATIONS
    # =========================================================================
    def action_sync_conversations(self):
        """
        Äá»“ng bá»™ táº¥t cáº£ conversations cá»§a account nÃ y tá»« Facebook.
        """
        self.ensure_one()
        
        if self.state != 'connected':
            raise UserError(_('Please connect the account first!'))
        
        try:
            from .social_message import SocialMessage
            
            # Gá»i method sync cho account nÃ y
            self.env['social.message']._sync_account_conversations(self)
            
            # Cáº­p nháº­t last sync date
            self.write({
                'last_message_sync_date': fields.Datetime.now(),
            })
            
            # Äáº¿m sá»‘ conversations Ä‘Ã£ sync
            conv_count = self.env['social.conversation'].search_count([
                ('account_id', '=', self.id)
            ])
            
            return {
                'type': 'ir.actions.client',
                'tag': 'display_notification',
                'params': {
                    'title': _('Success'),
                    'message': _('Synced conversations! Total: %d conversations') % conv_count,
                    'type': 'success',
                    'sticky': False,
                }
            }
            
        except Exception as e:
            _logger.error(f'Error syncing conversations for account {self.id}: {e}')
            raise UserError(_('Error syncing conversations: %s') % str(e))
    
    # âœ… THÃŠM: Action view conversations
    def action_view_conversations(self):
        """Xem táº¥t cáº£ conversations cá»§a account nÃ y"""
        self.ensure_one()
        return {
            'name': _('Conversations - %s') % self.name,
            'type': 'ir.actions.act_window',
            'res_model': 'social.conversation',
            'view_mode': 'list,form',
            'domain': [('account_id', '=', self.id)],
            'context': {'default_account_id': self.id},
        }
    
    @api.model
    def cron_refresh_facebook_tokens(self):
        accounts = self.search([('platform', '=', 'facebook'), ('state', '=', 'connected')])
        for account in accounts:
            try:
                _logger.info(f'Refreshing token for account {account.id}')
            except Exception as e:
                _logger.error(f'Error refreshing token: {e}')



################################################################################
## FILE 293: social_analytics.py
## ÄÆ°á»ng dáº«n: models/social_analytics.py
################################################################################

from odoo import models, fields, api, tools
import logging

_logger = logging.getLogger(__name__)


class SocialAnalytics(models.Model):
    """
    Model phÃ¢n tÃ­ch insights tá»« Facebook.
    
    ÄÃ¢y lÃ  SQL View model (khÃ´ng cÃ³ table tháº­t trong database).
    View nÃ y tá»•ng há»£p dá»¯ liá»‡u tá»« social_post Ä‘á»ƒ táº¡o bÃ¡o cÃ¡o analytics.
    """
    _name = 'social.analytics'
    _description = 'Facebook Analytics'
    _auto = False
    _rec_name = 'account_id'
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # FIELDS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    account_id = fields.Many2one(
        'social.account',
        string='Page',
        readonly=True,
    )
    
    date = fields.Date(
        string='Date',
        readonly=True,
    )
    
    total_posts = fields.Integer(
        string='Total Posts',
        readonly=True,
    )
    
    total_likes = fields.Integer(
        string='Total Likes',
        readonly=True,
    )
    
    total_comments = fields.Integer(
        string='Total Comments',
        readonly=True,
    )
    
    total_shares = fields.Integer(
        string='Total Shares',
        readonly=True,
    )
    
    avg_engagement_rate = fields.Float(
        string='Avg Engagement Rate',
        readonly=True,
    )
    
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        readonly=True,
    )
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # INIT METHOD - XÃ“A VÃ€ THAY Báº°NG @api.model_create_multi
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    # âŒ XÃ“A method init() cÅ© vÃ¬ gÃ¢y lá»—i khi load module
    # def init(self):
    #     """Táº¡o SQL view cho analytics"""
    #     tools.drop_view_if_exists(self._cr, self._table)
    #     self._cr.execute("""...""")
    
    # âœ… THAY Báº°NG: Táº¡o view thá»§ cÃ´ng sau khi module Ä‘Ã£ install xong
    # Hoáº·c dÃ¹ng post_init_hook trong __manifest__.py
    
    @api.model
    def init(self):
        """
        Táº¡o SQL view cho analytics.
        
        Version an toÃ n: Kiá»ƒm tra table social_post tá»“n táº¡i trÆ°á»›c khi táº¡o view.
        """
        # Kiá»ƒm tra table social_post Ä‘Ã£ tá»“n táº¡i chÆ°a
        self._cr.execute("""
            SELECT EXISTS (
                SELECT FROM information_schema.tables 
                WHERE table_schema = 'public' 
                AND table_name = 'social_post'
            )
        """)
        
        table_exists = self._cr.fetchone()[0]
        
        if not table_exists:
            _logger.warning(
                'Table social_post does not exist yet. '
                'Skipping social.analytics view creation. '
                'View will be created later via post_init_hook.'
            )
            return
        
        # Table tá»“n táº¡i â†’ Táº¡o view
        _logger.info('Creating social.analytics SQL view...')
        
        try:
            tools.drop_view_if_exists(self._cr, self._table)
            
            self._cr.execute("""
                CREATE OR REPLACE VIEW %s AS (
                    SELECT
                        ROW_NUMBER() OVER (ORDER BY sp.account_id, DATE(sp.published_date)) AS id,
                        sp.account_id AS account_id,
                        DATE(sp.published_date) AS date,
                        COUNT(sp.id) AS total_posts,
                        COALESCE(SUM(sp.likes_count), 0) AS total_likes,
                        COALESCE(SUM(sp.comments_count), 0) AS total_comments,
                        COALESCE(SUM(sp.shares_count), 0) AS total_shares,
                        AVG(sp.engagement_rate) AS avg_engagement_rate,
                        sp.company_id AS company_id
                    FROM
                        social_post sp
                    WHERE
                        sp.state = 'published'
                        AND sp.published_date IS NOT NULL
                    GROUP BY
                        sp.account_id, DATE(sp.published_date), sp.company_id
                )
            """ % self._table)
            
            _logger.info('âœ… Social analytics view created successfully')
            
        except Exception as e:
            _logger.error(f'âŒ Error creating view: {e}')
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # CRON & ACTIONS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    @api.model
    def cron_update_facebook_insights(self):
        """
        Cron job Ä‘á»ƒ update insights tá»« Facebook.
        
        Job nÃ y cháº¡y Ä‘á»‹nh ká»³ Ä‘á»ƒ pull data má»›i tá»« Facebook API
        vÃ  cáº­p nháº­t vÃ o social_post.
        """
        _logger.info('Updating Facebook insights...')
        
        try:
            # Láº¥y táº¥t cáº£ accounts Ä‘ang active
            accounts = self.env['social.account'].search([
                ('platform', '=', 'facebook'),
                ('state', '=', 'connected'),
            ])
            
            for account in accounts:
                try:
                    # TODO: Implement Facebook Insights API call
                    # account.sync_insights()
                    _logger.info(f'Updated insights for account {account.name}')
                except Exception as e:
                    _logger.error(f'Error updating insights for {account.name}: {e}')
            
            _logger.info('âœ… Facebook insights update completed')
            
        except Exception as e:
            _logger.error(f'âŒ Error in cron_update_facebook_insights: {e}')



################################################################################
## FILE 294: social_chatbot_automation.py
## ÄÆ°á»ng dáº«n: models/social_chatbot_automation.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import ValidationError
import logging

_logger = logging.getLogger(__name__)


class SocialChatbotAutomation(models.Model):
    """
    Model quáº£n lÃ½ Chatbot Automation Rules.
    
    Má»—i rule Ä‘á»‹nh nghÄ©a:
    - Trigger keywords: Tá»« khÃ³a kÃ­ch hoáº¡t
    - Response text: Ná»™i dung pháº£n há»“i tá»± Ä‘á»™ng
    - Priority: Äá»™ Æ°u tiÃªn (sá»‘ cao = Æ°u tiÃªn cao)
    - Active: Báº­t/táº¯t rule
    """
    
    _name = 'social.chatbot.automation'
    _description = 'Chatbot Automation Rule'
    _order = 'priority desc, sequence, id'
    _rec_name = 'name'
    
    # BASIC FIELDS
    name = fields.Char(
        string='Rule Name',
        required=True,
        help='TÃªn cá»§a automation rule',
    )
    
    active = fields.Boolean(
        string='Active',
        default=True,
        help='Báº­t/táº¯t rule nÃ y',
    )
    
    sequence = fields.Integer(
        string='Sequence',
        default=10,
        help='Thá»© tá»± hiá»ƒn thá»‹',
    )
    
    priority = fields.Integer(
        string='Priority',
        default=50,
        help='Äá»™ Æ°u tiÃªn (100 = cao nháº¥t, 0 = tháº¥p nháº¥t)',
    )
    
    # TRIGGER CONFIGURATION
    trigger_keywords = fields.Char(
        string='Trigger Keywords',
        required=True,
        help='Tá»« khÃ³a kÃ­ch hoáº¡t rule (phÃ¢n cÃ¡ch bá»Ÿi dáº¥u pháº©y). VÃ­ dá»¥: mua,Ä‘áº·t hÃ ng,order',
    )
    
    # RESPONSE CONFIGURATION
    response_text = fields.Text(
        string='Response Text',
        required=True,
        help='Ná»™i dung tin nháº¯n pháº£n há»“i tá»± Ä‘á»™ng',
    )
    
    # SCOPE
    account_id = fields.Many2one(
        'social.account',
        string='Facebook Page',
        help='Rule chá»‰ Ã¡p dá»¥ng cho page cá»¥ thá»ƒ (Ä‘á»ƒ trá»‘ng = Ã¡p dá»¥ng cho táº¥t cáº£)',
        ondelete='cascade',
    )
    
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        default=lambda self: self.env.company,
        required=True,
        index=True,
    )
    
    # STATISTICS
    triggered_count = fields.Integer(
        string='Triggered Count',
        default=0,
        readonly=True,
        help='Sá»‘ láº§n rule Ä‘Æ°á»£c kÃ­ch hoáº¡t',
    )
    
    last_triggered_date = fields.Datetime(
        string='Last Triggered',
        readonly=True,
        help='Láº§n cuá»‘i rule Ä‘Æ°á»£c kÃ­ch hoáº¡t',
    )
    
    # CONSTRAINTS
    @api.constrains('trigger_keywords')
    def _check_trigger_keywords(self):
        """Validate trigger keywords format"""
        for rule in self:
            if not rule.trigger_keywords:
                continue
            
            keywords = [kw.strip() for kw in rule.trigger_keywords.split(',')]
            if not keywords or all(not kw for kw in keywords):
                raise ValidationError(_(
                    'Trigger keywords must be separated by commas and not empty.\n'
                    'Example: mua,Ä‘áº·t hÃ ng,order'
                ))
    
    @api.constrains('priority')
    def _check_priority(self):
        """Validate priority range"""
        for rule in self:
            if rule.priority < 0 or rule.priority > 100:
                raise ValidationError(_('Priority must be between 0 and 100'))
    
    # BUSINESS METHODS
    def mark_as_triggered(self):
        """
        ÄÃ¡nh dáº¥u rule Ä‘Ã£ Ä‘Æ°á»£c kÃ­ch hoáº¡t.
        TÄƒng counter vÃ  cáº­p nháº­t last triggered date.
        """
        self.ensure_one()
        self.write({
            'triggered_count': self.triggered_count + 1,
            'last_triggered_date': fields.Datetime.now(),
        })
        _logger.info(f"Chatbot rule '{self.name}' triggered. Total count: {self.triggered_count}")
    
    def check_match(self, message_text):
        """
        Kiá»ƒm tra xem message cÃ³ match vá»›i rule hay khÃ´ng.
        
        Args:
            message_text (str): Ná»™i dung tin nháº¯n cáº§n kiá»ƒm tra
        
        Returns:
            bool: True náº¿u match, False náº¿u khÃ´ng
        """
        self.ensure_one()
        
        if not self.active:
            return False
        
        if not message_text:
            return False
        
        message_lower = message_text.lower().strip()
        keywords = [kw.strip().lower() for kw in self.trigger_keywords.split(',')]
        
        return any(keyword in message_lower for keyword in keywords if keyword)
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # ACTION METHODS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    def action_test_rule(self):
        """
        Test chatbot rule vá»›i tin nháº¯n máº«u.
        
        Hiá»ƒn thá»‹ popup vá»›i:
        - Trigger keywords
        - Response text
        - Test message input
        """
        self.ensure_one()
        
        # Build test message
        test_message = f"""
ğŸ¤– **Test Chatbot Rule: {self.name}**

ğŸ“Œ **Trigger Keywords:**
{self.trigger_keywords}

ğŸ’¬ **Response Text:**
{self.response_text}

âœ… **Status:** {'Active' if self.active else 'Inactive'}
ğŸ¯ **Priority:** {self.priority}
ğŸ“Š **Triggered:** {self.triggered_count} times

---
**Test vá»›i tin nháº¯n máº«u:**
Gá»­i tin nháº¯n chá»©a báº¥t ká»³ keyword nÃ o á»Ÿ trÃªn Ä‘á»ƒ test rule nÃ y.
        """
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Test Chatbot Rule'),
                'message': test_message,
                'type': 'info',
                'sticky': True,
            }
        }
    
    def action_view_triggered_messages(self):
        """
        Xem cÃ¡c tin nháº¯n Ä‘Ã£ trigger rule nÃ y.
        
        Note: Hiá»‡n táº¡i chÆ°a track messages chi tiáº¿t,
        chá»‰ hiá»ƒn thá»‹ thÃ´ng bÃ¡o sá»‘ lÆ°á»£ng.
        """
        self.ensure_one()
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Triggered Messages'),
                'message': _('This rule has been triggered %d times.') % self.triggered_count,
                'type': 'info',
                'sticky': False,
            }
        }



################################################################################
## FILE 295: social_comment.py
## ÄÆ°á»ng dáº«n: models/social_comment.py
################################################################################

from odoo import models, fields, api, _
from odoo.exceptions import UserError
import requests
import logging

_logger = logging.getLogger(__name__)


class SocialComment(models.Model):
    _name = 'social.comment'
    _description = 'Facebook Comment'
    _order = 'comment_date desc'

    display_name = fields.Char(string='Display Name', compute='_compute_display_name', store=True)
    post_id = fields.Many2one('social.post', string='Post', required=True, ondelete='cascade')
    facebook_comment_id = fields.Char(string='Facebook Comment ID', required=True)
    author_name = fields.Char(string='Author', required=True)
    author_facebook_id = fields.Char(string='Author FB ID')
    message = fields.Text(string='Message', required=True)
    comment_date = fields.Datetime(string='Date', required=True, default=fields.Datetime.now)
    parent_id = fields.Many2one('social.comment', string='Parent Comment')
    is_hidden = fields.Boolean(string='Hidden', default=False)
    is_spam = fields.Boolean(string='Spam', default=False)
    reply_text = fields.Text(string='Reply')
    replied = fields.Boolean(string='Replied', default=False)
    company_id = fields.Many2one('res.company', related='post_id.company_id', store=True)
    
    @api.depends('author_name', 'message')
    def _compute_display_name(self):
        for comment in self:
            preview = comment.message[:50] + '...' if len(comment.message or '') > 50 else comment.message
            comment.display_name = f"{comment.author_name}: {preview}"
    
    def action_reply(self):
        self.ensure_one()
        if not self.reply_text:
            raise UserError(_('Please enter a reply message!'))
        try:
            url = f'https://graph.facebook.com/v18.0/{self.facebook_comment_id}/comments'
            data = {'access_token': self.post_id.account_id.access_token, 'message': self.reply_text}
            response = requests.post(url, data=data, timeout=30)
            if response.status_code == 200:
                self.replied = True
                return {'type': 'ir.actions.client', 'tag': 'display_notification',
                        'params': {'title': _('Success'), 'message': _('Reply sent!'), 'type': 'success'}}
            else:
                raise UserError(_('Failed to reply: %s') % response.text)
        except Exception as e:
            raise UserError(_('Error: %s') % str(e))
    
    def action_hide(self):
        self.ensure_one()
        self.is_hidden = True
    
    def action_mark_spam(self):
        self.ensure_one()
        self.is_spam = True



################################################################################
## FILE 296: social_conversation.py
## ÄÆ°á»ng dáº«n: models/social_conversation.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import UserError
import logging

_logger = logging.getLogger(__name__)


class SocialConversation(models.Model):
    """
    Model quáº£n lÃ½ Conversations - Cuá»™c há»™i thoáº¡i Facebook Messenger.
    
    Má»—i conversation Ä‘áº¡i diá»‡n cho 1 cuá»™c há»™i thoáº¡i vá»›i 1 khÃ¡ch hÃ ng cá»¥ thá»ƒ (PSID).
    Má»™t conversation chá»©a nhiá»u messages (social.message).
    """
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # MODEL DEFINITION
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    _name = 'social.conversation'
    _description = 'Facebook Messenger Conversation'
    _inherit = ['mail.thread', 'mail.activity.mixin']
    _order = 'last_message_date desc, id desc'
    _rec_name = 'customer_name'
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # BASIC FIELDS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    # Conversation Identity
    facebook_psid = fields.Char(
        string='Facebook PSID',
        required=True,
        index=True,
        help='Page-Scoped User ID - unique identifier cá»§a user trong context cá»§a page',
    )
    
    account_id = fields.Many2one(
        'social.account',
        string='Facebook Page',
        required=True,
        ondelete='cascade',
        index=True,
        help='Facebook Page nÆ¡i conversation diá»…n ra',
    )
    
    # Customer Information
    customer_name = fields.Char(
        string='Customer Name',
        tracking=True,
        help='TÃªn khÃ¡ch hÃ ng (cÃ³ thá»ƒ thu tháº­p tá»« chatbot)',
    )
    
    customer_phone = fields.Char(
        string='Customer Phone',
        tracking=True,
        help='Sá»‘ Ä‘iá»‡n thoáº¡i khÃ¡ch hÃ ng',
    )
    
    customer_email = fields.Char(
        string='Customer Email',
        tracking=True,
        help='Email khÃ¡ch hÃ ng',
    )
    
    # Conversation Status
    state = fields.Selection([
        ('new', 'New'),
        ('ongoing', 'Ongoing'),
        ('resolved', 'Resolved'),
        ('closed', 'Closed'),
    ], string='State', default='new', tracking=True)
    
    # Timestamps
    last_message_date = fields.Datetime(
        string='Last Message',
        default=fields.Datetime.now,
        index=True,
        tracking=True,
    )
    
    # Tracking
    last_message_from = fields.Selection([
        ('customer', 'Customer'),
        ('page', 'Page'),
    ], string='Last Message From')
    
    unread_count = fields.Integer(
        string='Unread Messages',
        default=0,
        help='Sá»‘ tin nháº¯n chÆ°a Ä‘á»c tá»« khÃ¡ch hÃ ng',
    )
    
    first_response_time = fields.Float(
        string='First Response Time (minutes)',
        help='Thá»i gian pháº£n há»“i tin nháº¯n Ä‘áº§u tiÃªn',
    )
    
    # Organization
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        default=lambda self: self.env.company,
        required=True,
        index=True,
    )
    
    active = fields.Boolean(
        string='Active',
        default=True,
    )
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # RELATIONSHIP FIELDS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    message_ids = fields.One2many(
        'social.message',
        'conversation_id',
        string='Messages',
        help='Táº¥t cáº£ tin nháº¯n trong conversation nÃ y',
    )
    
    message_count = fields.Integer(
        string='Message Count',
        compute='_compute_message_count',
        store=True,
    )
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # CRM INTEGRATION
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    lead_id = fields.Many2one(
        'crm.lead',
        string='CRM Lead',
        ondelete='set null',
        tracking=True,
        help='Lead Ä‘Æ°á»£c táº¡o tá»« conversation nÃ y khi cÃ³ purchase intent',
    )
    
    conversation_id = fields.Char(
        string='Conversation ID',
        help='Facebook Conversation ID (náº¿u cÃ³)',
    )
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # CONSTRAINTS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    _sql_constraints = [
        ('facebook_psid_account_uniq',
         'UNIQUE(facebook_psid, account_id)',
         'Conversation already exists for this user and page!'),
    ]
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # COMPUTE METHODS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    @api.depends('message_ids')
    def _compute_message_count(self):
        """Äáº¿m sá»‘ lÆ°á»£ng messages"""
        for conv in self:
            conv.message_count = len(conv.message_ids)
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # CRM INTEGRATION METHODS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    def _check_purchase_intent(self, message):
        """
        Kiá»ƒm tra náº¿u tin nháº¯n thá»ƒ hiá»‡n Ã½ Ä‘á»‹nh mua hÃ ng.
        Chá»‰ táº¡o/update lead khi khÃ¡ch hÃ ng xÃ¡c nháº­n quyáº¿t Ä‘á»‹nh mua.
        
        Args:
            message (social.message): Message record cáº§n kiá»ƒm tra
        """
        self.ensure_one()
        
        message_content = (message.message or '').lower().strip()
        
        # Danh sÃ¡ch keyword mua hÃ ng
        purchase_keywords = [
            'mua', 'Ä‘áº·t hÃ ng', 'order', 'buy', 
            'muá»‘n mua', 'Ä‘áº·t mua', 'book', 'booking'
        ]
        
        # Kiá»ƒm tra cÃ³ keyword mua hÃ ng khÃ´ng
        has_purchase_intent = any(
            keyword in message_content 
            for keyword in purchase_keywords
        )
        
        if not has_purchase_intent:
            return
        
        _logger.info(f"ğŸ›’ Purchase intent detected in conversation {self.id}")
        
        # Táº¡o hoáº·c cáº­p nháº­t CRM lead
        self._create_or_update_lead(message)
    
    def _create_or_update_lead(self, message):
        """
        Táº¡o lead má»›i hoáº·c cáº­p nháº­t lead hiá»‡n cÃ³ khi phÃ¡t hiá»‡n purchase intent.
        
        Args:
            message (social.message): Message trigger viá»‡c táº¡o/update lead
        """
        self.ensure_one()
        
        Lead = self.env['crm.lead']
        
        # Náº¿u Ä‘Ã£ cÃ³ lead â†’ cáº­p nháº­t
        if self.lead_id:
            lead = self.lead_id
            
            # ThÃªm message vÃ o chatter
            lead.message_post(
                body=_(
                    "<strong>Purchase intent detected in Facebook Messenger</strong><br/>"
                    "Customer message: <em>%s</em>"
                ) % (message.message or ''),
                message_type='comment',
                subtype_xmlid='mail.mt_comment'
            )
            
            # Cáº­p nháº­t stage náº¿u chÆ°a won/lost
            if lead.probability < 100 and lead.probability != 0:
                # TÃ¬m stage "Qualified"
                qualified_stage = self.env['crm.stage'].search([
                    '|',
                    ('name', 'ilike', 'qualified'),
                    ('name', 'ilike', 'qualification')
                ], limit=1)
                
                if qualified_stage:
                    lead.write({
                        'stage_id': qualified_stage.id,
                        'probability': 60,
                    })
            
            _logger.info(f"âœ… Updated existing lead {lead.id} with purchase intent")
            
        else:
            # Táº¡o lead má»›i
            lead_vals = {
                'name': _('Facebook Lead - %s') % (
                    self.customer_name or self.facebook_psid
                ),
                'type': 'opportunity',
                'contact_name': self.customer_name,
                'phone': self.customer_phone,
                'email_from': self.customer_email,
                'description': _(
                    "Lead created from Facebook Messenger conversation\n"
                    "Customer PSID: %s\n"
                    "Last message: %s\n"
                    "Purchase intent detected at: %s"
                ) % (
                    self.facebook_psid,
                    message.message or '',
                    fields.Datetime.now().strftime('%Y-%m-%d %H:%M:%S')
                ),
                'company_id': self.company_id.id,
            }
            
            # TÃ¬m Facebook source
            source = self.env['utm.source'].search([
                ('name', '=', 'Facebook')
            ], limit=1)
            if not source:
                source = self.env['utm.source'].create({'name': 'Facebook'})
            lead_vals['source_id'] = source.id
            
            # TÃ¬m stage "New" hoáº·c "Qualified"
            new_stage = self.env['crm.stage'].search([
                '|',
                ('name', 'ilike', 'new'),
                ('name', 'ilike', 'qualified')
            ], limit=1)
            
            if new_stage:
                lead_vals['stage_id'] = new_stage.id
                lead_vals['probability'] = (
                    20 if 'new' in new_stage.name.lower() else 60
                )
            
            # Táº¡o lead
            lead = Lead.create(lead_vals)
            
            # Link lead vá»›i conversation
            self.write({'lead_id': lead.id})
            
            # ThÃªm message vÃ o lead chatter
            lead.message_post(
                body=_(
                    "<strong>Lead created from Facebook Messenger</strong><br/>"
                    "Customer message: <em>%s</em><br/>"
                    "<a href='/web#id=%s&model=social.conversation&view_type=form'>"
                    "View Conversation</a>"
                ) % (message.message or '', self.id),
                message_type='notification',
                subtype_xmlid='mail.mt_note'
            )
            
            _logger.info(f"âœ… Created new lead {lead.id} from conversation {self.id}")
        
        # Cáº­p nháº­t conversation state
        if self.state == 'new':
            self.write({'state': 'ongoing'})
        
        return lead
    
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    # ACTION METHODS
    # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    
    def action_create_lead(self):
        """Táº¡o lead thá»§ cÃ´ng tá»« conversation"""
        self.ensure_one()
        
        if self.lead_id:
            raise UserError(_('Lead already exists for this conversation!'))
        
        # Táº¡o fake message Ä‘á»ƒ trigger lead creation
        fake_message = self.env['social.message'].create({
            'conversation_id': self.id,
            'account_id': self.account_id.id,
            'message': '[Manual lead creation from conversation]',
            'is_from_customer': True,
            'company_id': self.company_id.id,
        })
        
        # Táº¡o lead
        lead = self._create_or_update_lead(fake_message)
        
        # XÃ³a fake message
        fake_message.unlink()
        
        return {
            'type': 'ir.actions.act_window',
            'name': _('Lead Created'),
            'res_model': 'crm.lead',
            'res_id': lead.id,
            'view_mode': 'form',
            'target': 'current',
        }
    
    def action_mark_resolved(self):
        """ÄÃ¡nh dáº¥u conversation lÃ  Ä‘Ã£ giáº£i quyáº¿t"""
        for conv in self:
            conv.write({'state': 'resolved'})
            conv.message_post(
                body=_('Conversation marked as resolved'),
                message_type='notification',
                subtype_xmlid='mail.mt_note'
            )
    
    def action_close(self):
        """ÄÃ³ng conversation"""
        for conv in self:
            conv.write({'state': 'closed'})
            conv.message_post(
                body=_('Conversation closed'),
                message_type='notification',
                subtype_xmlid='mail.mt_note'
            )
    
    def action_reopen(self):
        """Má»Ÿ láº¡i conversation Ä‘Ã£ Ä‘Ã³ng"""
        for conv in self:
            conv.write({'state': 'ongoing'})
            conv.message_post(
                body=_('Conversation reopened'),
                message_type='notification',
                subtype_xmlid='mail.mt_note'
            )
    
    def action_view_lead(self):
        """Xem CRM lead liÃªn káº¿t"""
        self.ensure_one()
        
        if not self.lead_id:
            raise UserError(_('No lead linked to this conversation'))
        
        return {
            'type': 'ir.actions.act_window',
            'name': _('Lead'),
            'res_model': 'crm.lead',
            'res_id': self.lead_id.id,
            'view_mode': 'form',
            'target': 'current',
        }
    
    def action_view_messages(self):
        """Xem táº¥t cáº£ messages trong conversation"""
        self.ensure_one()
        
        return {
            'type': 'ir.actions.act_window',
            'name': _('Messages'),
            'res_model': 'social.message',
            'view_mode': 'tree,form',
            'domain': [('conversation_id', '=', self.id)],
            'context': {'default_conversation_id': self.id},
        }



################################################################################
## FILE 297: social_message.py
## ÄÆ°á»ng dáº«n: models/social_message.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import UserError, ValidationError
import logging
import re

_logger = logging.getLogger(__name__)


class SocialMessage(models.Model):
    """
    Model quáº£n lÃ½ Facebook Messenger conversations.
    
    âœ… UPGRADED VERSION vá»›i Ä‘áº§y Ä‘á»§ field cho chatbot nÃ¢ng cao
    """
    
    _name = 'social.message'
    _description = 'Social Message / Conversation'
    _inherit = ['mail.thread', 'mail.activity.mixin']
    _order = 'create_date desc'
    _rec_name = 'facebook_user_id'
    
    # =========================================================================
    # BASIC FIELDS
    # =========================================================================
    
    facebook_user_id = fields.Char(
        string='Facebook User ID (PSID)',
        required=True,
        index=True,
        help='Page-Scoped User ID from Facebook',
    )
    
    account_id = fields.Many2one(
        'social.account',
        string='Facebook Page',
        required=True,
        ondelete='cascade',
        index=True,
    )
    
    message_id = fields.Char(
        string='Message ID',
        index=True,
        help='Facebook Message ID',
    )
    
    message = fields.Text(
        string='Message Content',
    )
    
    is_from_customer = fields.Boolean(
        string='From Customer',
        default=True,
    )
    
    attachments = fields.Text(
        string='Attachments',
        help='JSON data',
    )
    
    created_date = fields.Datetime(
        string='Created Date',
        default=fields.Datetime.now,
        index=True,
    )
    
    last_message_date = fields.Datetime(
        string='Last Message',
    )
    
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        default=lambda self: self.env.company,
        required=True,
        index=True,
    )
    
    # =========================================================================
    # âœ… CHATBOT FIELDS
    # =========================================================================
    
    chatbot_state = fields.Selection([
        ('idle', 'Idle'),
        ('ask_name', 'Asking Name'),
        ('ask_phone', 'Asking Phone'),
        ('show_products', 'Showing Products'),
        ('confirm_order', 'Confirming Order'),
        ('completed', 'Completed'),
    ], string='Chatbot State', default='idle', tracking=True, index=True)
    
    customer_name = fields.Char(
        string='Customer Name',
        tracking=True,
        help='TÃªn khÃ¡ch hÃ ng (Ä‘Ã£ chuáº©n hÃ³a)',
    )
    
    customer_phone = fields.Char(
        string='Customer Phone',
        tracking=True,
        help='Sá»‘ Ä‘iá»‡n thoáº¡i (Ä‘Ã£ chuáº©n hÃ³a vá» format 0XXXXXXXXX)',
    )
    
    selected_product_ids = fields.Many2many(
        'social.messenger.product',
        'social_message_product_rel',
        'message_id',
        'product_id',
        string='Selected Products',
    )
    
    # âœ… NÃ‚NG Cáº¤P 7: Cooldown field
    cooldown_until = fields.Datetime(
        string='Cooldown Until',
        help='Thá»i gian káº¿t thÃºc cooldown sau khi hoÃ n táº¥t Ä‘Æ¡n hÃ ng (trÃ¡nh spam)',
    )
    
    # =========================================================================
    # CRM & SALES INTEGRATION
    # =========================================================================
    
    lead_id = fields.Many2one(
        'crm.lead',
        string='Lead',
        ondelete='set null',
        tracking=True,
    )
    
    messenger_order_id = fields.Many2one(
        'social.messenger.order',
        string='Messenger Order',
        ondelete='set null',
        tracking=True,
    )
    
    conversation_id = fields.Many2one(
        'social.conversation',
        string='Conversation',
        ondelete='cascade',
    )
    
    # =========================================================================
    # CONSTRAINTS
    # =========================================================================
    
    _sql_constraints = [
        ('facebook_user_account_uniq',
         'UNIQUE(facebook_user_id, account_id)',
         'Conversation already exists for this user and page!'),
    ]



################################################################################
## FILE 298: social_messenger_order.py
## ÄÆ°á»ng dáº«n: models/social_messenger_order.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import UserError
import logging

_logger = logging.getLogger(__name__)


class SocialMessengerOrder(models.Model):
    """
    âœ… VERSION ÄÆ N GIáº¢N - KHÃ”NG Gá»ŒI send_order_confirmation() trong create_sale_order()
    """
    _name = 'social.messenger.order'
    _description = 'Messenger Sales Order'
    _inherit = ['mail.thread', 'mail.activity.mixin']
    _order = 'order_date desc, id desc'
    _rec_name = 'name'

    # Basic Info
    name = fields.Char(
        string='Order Reference',
        required=True,
        copy=False,
        readonly=True,
        default=lambda self: _('New'),
    )
    sale_order_id = fields.Many2one(
        'sale.order',
        string='Sale Order',
        ondelete='cascade',
        tracking=True,
    )
    conversation_id = fields.Many2one(
        'social.message',
        string='Conversation',
        ondelete='set null',
    )
    
    # Customer Info
    partner_id = fields.Many2one(
        'res.partner',
        string='Customer',
        related='sale_order_id.partner_id',
        store=True,
        readonly=True,
    )
    facebook_user_id = fields.Char(
        string='Facebook User ID',
        tracking=True,
    )
    customer_name = fields.Char(
        string='Customer Name',
        required=True,
        tracking=True,
    )
    customer_phone = fields.Char(
        string='Phone',
        required=True,
        tracking=True,
    )
    customer_email = fields.Char(
        string='Email',
        tracking=True,
    )
    
    # Order Details
    state = fields.Selection([
        ('draft', 'Draft'),
        ('confirmed', 'Confirmed'),
        ('sale', 'Sale Order'),
        ('cancelled', 'Cancelled'),
    ], string='Status', default='draft', required=True, tracking=True)
    
    order_date = fields.Datetime(
        string='Order Date',
        default=fields.Datetime.now,
        required=True,
        tracking=True,
    )
    
    # Products
    product_ids = fields.Many2many(
        'social.messenger.product',
        string='Products',
    )
    
    # Pricing
    total_amount = fields.Monetary(
        string='Total',
        compute='_compute_total_amount',
        store=True,
        currency_field='currency_id',
    )
    currency_id = fields.Many2one(
        'res.currency',
        string='Currency',
        default=lambda self: self.env.company.currency_id,
    )
    
    # Organization
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        required=True,
        default=lambda self: self.env.company,
    )
    user_id = fields.Many2one(
        'res.users',
        string='Salesperson',
        default=lambda self: self.env.user,
        tracking=True,
    )
    
    # Notes
    notes = fields.Text(
        string='Internal Notes',
    )
    
    @api.model
    def create(self, vals):
        """Override create Ä‘á»ƒ táº¡o sequence"""
        if vals.get('name', _('New')) == _('New'):
            vals['name'] = self.env['ir.sequence'].next_by_code(
                'social.messenger.order'
            ) or _('New')
        return super().create(vals)
    
    @api.depends('sale_order_id', 'sale_order_id.amount_total')
    def _compute_total_amount(self):
        """TÃ­nh tá»•ng tiá»n"""
        for record in self:
            if record.sale_order_id:
                record.total_amount = record.sale_order_id.amount_total
            else:
                total = sum(record.product_ids.mapped('price'))
                record.total_amount = total
    
    def create_sale_order(self):
        """
        âœ… Táº O SALE ORDER - KHÃ”NG Gá»ŒI send_order_confirmation()
        
        Webhook sáº½ tá»± gá»­i tin nháº¯n confirmation.
        """
        self.ensure_one()
        
        if self.sale_order_id:
            raise UserError(_('Sale Order already exists!'))
        
        if not self.product_ids:
            raise UserError(_('No products selected!'))
        
        # 1. Find or create partner
        partner = self._find_or_create_partner()
        
        # 2. Create sale.order
        sale_vals = {
            'partner_id': partner.id,
            'user_id': self.user_id.id,
            'company_id': self.company_id.id,
            'date_order': self.order_date,
            'origin': f'Messenger: {self.name}',
            'note': f'Order from Facebook Messenger\nPSID: {self.facebook_user_id}',
        }
        
        sale_order = self.env['sale.order'].create(sale_vals)
        
        # 3. Add order lines
        for product in self.product_ids:
            line_vals = {
                'order_id': sale_order.id,
                'product_id': product.product_id.id,
                'product_uom_qty': 1,
                'price_unit': product.price,
            }
            self.env['sale.order.line'].create(line_vals)
        
        # 4. Link sale order
        self.sale_order_id = sale_order.id
        self.state = 'sale'
        
        # âœ… KHÃ”NG Gá»ŒI send_order_confirmation() - Webhook tá»± gá»­i
        
        # 5. Log activity
        self.message_post(
            body=_('Sale Order %s created from Messenger') % sale_order.name,
            subject=_('Sale Order Created'),
        )
        
        _logger.info(f'âœ… Created sale order {sale_order.name} for {self.name}')
        
        return sale_order
    
    def _find_or_create_partner(self):
        """TÃ¬m hoáº·c táº¡o res.partner"""
        Partner = self.env['res.partner']
        
        # Search by phone
        if self.customer_phone:
            partner = Partner.search([
                ('phone', '=', self.customer_phone),
                ('company_id', 'in', [False, self.company_id.id]),
            ], limit=1)
            if partner:
                return partner
        
        # Create new partner
        partner_vals = {
            'name': self.customer_name,
            'phone': self.customer_phone,
            'email': self.customer_email,
            'company_id': self.company_id.id,
            'comment': f'Created from Messenger Order: {self.name}',
        }
        
        partner = Partner.create(partner_vals)
        
        _logger.info(f'Created partner {partner.id} for order {self.name}')
        
        return partner
    
    # âœ… XÃ“A METHOD send_order_confirmation() - Webhook tá»± xá»­ lÃ½
    
    def action_confirm(self):
        """XÃ¡c nháº­n Ä‘Æ¡n hÃ ng"""
        for record in self:
            if record.state != 'draft':
                raise UserError(_('Only draft orders can be confirmed!'))
            record.state = 'confirmed'
            record.message_post(body=_('Order confirmed'))
    
    def action_create_sale_order(self):
        """Button action: Táº¡o sale.order"""
        self.ensure_one()
        sale_order = self.create_sale_order()
        
        return {
            'type': 'ir.actions.act_window',
            'name': _('Sale Order'),
            'res_model': 'sale.order',
            'res_id': sale_order.id,
            'view_mode': 'form',
            'target': 'current',
        }
    
    def action_view_sale_order(self):
        """Xem sale.order"""
        self.ensure_one()
        if not self.sale_order_id:
            raise UserError(_('No Sale Order linked yet!'))
        
        return {
            'type': 'ir.actions.act_window',
            'name': _('Sale Order'),
            'res_model': 'sale.order',
            'res_id': self.sale_order_id.id,
            'view_mode': 'form',
            'target': 'current',
        }
    
    def action_cancel(self):
        """Há»§y Ä‘Æ¡n hÃ ng"""
        for record in self:
            record.state = 'cancelled'
            record.message_post(body=_('Order cancelled'))


class ResPartner(models.Model):
    _inherit = 'res.partner'
    
    facebook_user_id = fields.Char(
        string='Facebook User ID (PSID)',
    )
    messenger_order_count = fields.Integer(
        string='Messenger Orders',
        compute='_compute_messenger_order_count',
    )
    
    def _compute_messenger_order_count(self):
        for partner in self:
            partner.messenger_order_count = self.env['social.messenger.order'].search_count([
                ('partner_id', '=', partner.id)
            ])
    
    def action_view_messenger_orders(self):
        self.ensure_one()
        return {
            'name': _('Messenger Orders'),
            'type': 'ir.actions.act_window',
            'res_model': 'social.messenger.order',
            'view_mode': 'tree,form',
            'domain': [('partner_id', '=', self.id)],
        }



################################################################################
## FILE 299: social_messenger_product.py
## ÄÆ°á»ng dáº«n: models/social_messenger_product.py
################################################################################

# -*- coding: utf-8 -*-

from odoo import api, fields, models, _
from odoo.exceptions import ValidationError
import logging

_logger = logging.getLogger(__name__)


class SocialMessengerProduct(models.Model):
    """
    Sáº£n pháº©m Ä‘Æ°á»£c bÃ¡n qua Facebook Messenger.
    Chá»‰ cÃ¡c sáº£n pháº©m Ä‘Æ°á»£c tick 'active' má»›i hiá»ƒn thá»‹ trong chatbot.
    """
    _name = 'social.messenger.product'
    _description = 'Messenger Product Catalog'
    _order = 'sequence, id'
    _rec_name = 'display_name'

    # Basic Info
    product_id = fields.Many2one(
        'product.product',
        string='Product',
        required=True,
        ondelete='cascade',
        domain=[('sale_ok', '=', True)],
    )
    display_name = fields.Char(
        string='Display Name',
        compute='_compute_display_name',
        store=True,
    )
    active = fields.Boolean(
        string='Sell on Messenger',
        default=True,
        help='Báº­t Ä‘á»ƒ sáº£n pháº©m xuáº¥t hiá»‡n trong chatbot Messenger'
    )
    
    # Messenger Customization
    quick_reply_title = fields.Char(
        string='Quick Reply Title',
        size=20,
        help='TiÃªu Ä‘á» hiá»ƒn thá»‹ trong quick reply button (max 20 kÃ½ tá»±)',
        compute='_compute_quick_reply_title',
        store=True,
        readonly=False,
    )
    description = fields.Text(
        string='Messenger Description',
        help='MÃ´ táº£ gá»­i cho khÃ¡ch hÃ ng qua Messenger',
        compute='_compute_description',
        store=True,
        readonly=False,
    )
    image_url = fields.Char(
        string='Image URL',
        compute='_compute_image_url',
        help='URL hÃ¬nh áº£nh gá»­i trong Messenger (tá»« product.image_1920)'
    )
    
    # Pricing
    price = fields.Float(
        string='Price',
        related='product_id.list_price',
        readonly=True,
    )
    currency_id = fields.Many2one(
        'res.currency',
        related='product_id.currency_id',
        readonly=True,
    )
    
    # Organization
    sequence = fields.Integer(
        string='Sequence',
        default=10,
        help='Thá»© tá»± hiá»ƒn thá»‹ trong danh sÃ¡ch sáº£n pháº©m'
    )
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        default=lambda self: self.env.company,
        required=True,
    )
    
    # Statistics
    order_count = fields.Integer(
        string='Orders',
        compute='_compute_order_count',
    )
    
    _sql_constraints = [
        ('product_company_uniq', 
         'UNIQUE(product_id, company_id)', 
         'Product already exists in Messenger catalog for this company!'),
    ]
    
    @api.depends('product_id', 'product_id.name')
    def _compute_display_name(self):
        """TÃªn hiá»ƒn thá»‹ = tÃªn sáº£n pháº©m"""
        for record in self:
            record.display_name = record.product_id.name if record.product_id else ''
    
    @api.depends('product_id', 'product_id.name')
    def _compute_quick_reply_title(self):
        """Auto-fill quick reply title tá»« tÃªn sáº£n pháº©m (max 20 chars)"""
        for record in self:
            if record.product_id and not record.quick_reply_title:
                name = record.product_id.name
                record.quick_reply_title = name[:20] if len(name) > 20 else name
    
    @api.depends('product_id', 'product_id.description_sale')
    def _compute_description(self):
        """Auto-fill description tá»« product"""
        for record in self:
            if record.product_id and not record.description:
                desc = record.product_id.description_sale or record.product_id.name
                record.description = desc
    
    @api.depends('product_id', 'product_id.image_1920')
    def _compute_image_url(self):
        """Generate public URL cho hÃ¬nh áº£nh"""
        for record in self:
            if record.product_id and record.product_id.image_1920:
                base_url = self.env['ir.config_parameter'].sudo().get_param('web.base.url')
                record.image_url = f"{base_url}/web/image/product.product/{record.product_id.id}/image_1920"
            else:
                record.image_url = False
    
    def _compute_order_count(self):
        """Äáº¿m sá»‘ Ä‘Æ¡n hÃ ng tá»« sáº£n pháº©m nÃ y"""
        for record in self:
            # Count sale.order.line cÃ³ product nÃ y tá»« messenger orders
            orders = self.env['social.messenger.order'].search([
                ('sale_order_id.order_line.product_id', '=', record.product_id.id),
                ('company_id', '=', record.company_id.id),
            ])
            record.order_count = len(orders)
    
    @api.constrains('quick_reply_title')
    def _check_quick_reply_title(self):
        """Validate quick reply title length"""
        for record in self:
            if record.quick_reply_title and len(record.quick_reply_title) > 20:
                raise ValidationError(
                    _('Quick Reply Title cannot exceed 20 characters!')
                )
    
    # -------------------------------------------------------------------------
    # BUSINESS METHODS
    # -------------------------------------------------------------------------
    
    @api.model
    def get_active_products(self, company_id=None):
        """
        Láº¥y danh sÃ¡ch sáº£n pháº©m Ä‘ang active cho Messenger.
        
        Returns:
            recordset: social.messenger.product records
        """
        domain = [('active', '=', True)]
        if company_id:
            domain.append(('company_id', '=', company_id))
        else:
            domain.append(('company_id', '=', self.env.company.id))
        
        return self.search(domain, order='sequence, id')
    
    def format_for_messenger(self):
        """
        Format sáº£n pháº©m thÃ nh quick reply buttons cho Messenger.
        
        Returns:
            list: Danh sÃ¡ch quick reply buttons
            [
                {
                    'content_type': 'text',
                    'title': 'Product Name',
                    'payload': 'PRODUCT_123',
                },
                ...
            ]
        """
        self.ensure_one()
        return {
            'content_type': 'text',
            'title': self.quick_reply_title or self.product_id.name[:20],
            'payload': f'PRODUCT_{self.id}',
        }
    
    def get_product_message(self):
        """
        Táº¡o tin nháº¯n giá»›i thiá»‡u sáº£n pháº©m.
        
        Returns:
            str: Message text
        """
        self.ensure_one()
        price_formatted = f"{self.price:,.0f} {self.currency_id.symbol}"
        message = f"ğŸ›ï¸ {self.product_id.name}\n"
        message += f"ğŸ’° GiÃ¡: {price_formatted}\n"
        if self.description:
            message += f"ğŸ“ {self.description}\n"
        return message
    
    # -------------------------------------------------------------------------
    # ACTIONS
    # -------------------------------------------------------------------------
    
    def action_view_orders(self):
        """Xem cÃ¡c Ä‘Æ¡n hÃ ng tá»« sáº£n pháº©m nÃ y"""
        self.ensure_one()
        return {
            'name': _('Messenger Orders'),
            'type': 'ir.actions.act_window',
            'res_model': 'social.messenger.order',
            'view_mode': 'tree,form',
            'domain': [
                ('sale_order_id.order_line.product_id', '=', self.product_id.id),
                ('company_id', '=', self.company_id.id),
            ],
            'context': {'default_product_id': self.product_id.id},
        }
    
    def action_toggle_active(self):
        """Toggle active state"""
        for record in self:
            record.active = not record.active



################################################################################
## FILE 300: social_post.py
## ÄÆ°á»ng dáº«n: models/social_post.py
################################################################################

# FILE: social_post_fixed.py
# PhiÃªn báº£n sá»­a lá»—i khÃ´ng thá»ƒ Ä‘Äƒng áº£nh

from odoo import models, fields, api, _
from odoo.exceptions import UserError
import requests
import logging
from datetime import datetime
import base64  # âœ… THÃŠM IMPORT


_logger = logging.getLogger(__name__)


class SocialPost(models.Model):
    """
    Model quáº£n lÃ½ bÃ i Ä‘Äƒng Facebook.
    """
    _name = 'social.post'
    _description = 'Facebook Post'
    _order = 'create_date desc'
    _inherit = ['mail.thread', 'mail.activity.mixin']
    _rec_name = 'display_name'

    # -------------------------------------------------------------------------
    # BASIC INFO
    # -------------------------------------------------------------------------
    display_name = fields.Char(
        string='Display Name',
        compute='_compute_display_name',
        store=True,
    )
    
    account_id = fields.Many2one(
        'social.account',
        string='Facebook Page',
        required=True,
        domain=[('platform', '=', 'facebook')],
    )
    
    content = fields.Text(
        string='Content',
        required=True,
        tracking=True,
    )
    
    # -------------------------------------------------------------------------
    # MEDIA
    # -------------------------------------------------------------------------
    media_type = fields.Selection([
        ('text', 'Text Only'),
        ('photo', 'Photo'),
        ('video', 'Video'),
        ('link', 'Link'),
    ], string='Media Type', default='text')
    
    image = fields.Binary(string='Image', attachment=True)
    image_filename = fields.Char(string='Image Filename')
    video_url = fields.Char(string='Video URL')
    link_url = fields.Char(string='Link URL')
    
    # -------------------------------------------------------------------------
    # SCHEDULING
    # -------------------------------------------------------------------------
    post_type = fields.Selection([
        ('now', 'Publish Now'),
        ('scheduled', 'Scheduled'),
    ], string='Post Type', default='now', required=True)
    
    scheduled_date = fields.Datetime(
        string='Scheduled Date',
        tracking=True,
    )
    
    # -------------------------------------------------------------------------
    # FACEBOOK DATA
    # -------------------------------------------------------------------------
    facebook_post_id = fields.Char(
        string='Facebook Post ID',
        readonly=True,
        copy=False,
    )
    
    facebook_post_url = fields.Char(
        string='Facebook URL',
        compute='_compute_facebook_url',
        store=True,
    )
    
    published_date = fields.Datetime(
        string='Published Date',
        readonly=True,
        copy=False,
    )
    
    # -------------------------------------------------------------------------
    # STATUS
    # -------------------------------------------------------------------------
    state = fields.Selection([
        ('draft', 'Draft'),
        ('scheduled', 'Scheduled'),
        ('published', 'Published'),
        ('failed', 'Failed'),
    ], string='Status', default='draft', tracking=True)
    
    error_message = fields.Text(string='Error Message')
    
    # -------------------------------------------------------------------------
    # ENGAGEMENT STATS
    # -------------------------------------------------------------------------
    likes_count = fields.Integer(string='Likes', default=0)
    comments_count = fields.Integer(string='Comments', default=0)
    shares_count = fields.Integer(string='Shares', default=0)
    reach = fields.Integer(string='Reach', default=0)
    impressions = fields.Integer(string='Impressions', default=0)
    engagement_rate = fields.Float(
        string='Engagement Rate (%)',
        compute='_compute_engagement_rate',
        store=True,
    )
    
    # -------------------------------------------------------------------------
    # RELATIONS
    # -------------------------------------------------------------------------
    comment_ids = fields.One2many(
        'social.comment',
        'post_id',
        string='Comments',
    )
    
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        related='account_id.company_id',
        store=True,
    )
    
    user_id = fields.Many2one(
        'res.users',
        string='Created By',
        default=lambda self: self.env.user,
    )
    
    # -------------------------------------------------------------------------
    # COMPUTE METHODS
    # -------------------------------------------------------------------------
    @api.depends('content', 'account_id')
    def _compute_display_name(self):
        for post in self:
            if post.content:
                preview = post.content[:50] + '...' if len(post.content) > 50 else post.content
                post.display_name = f"{post.account_id.name}: {preview}"
            else:
                post.display_name = f"Post #{post.id}"
    
    @api.depends('facebook_post_id', 'account_id')
    def _compute_facebook_url(self):
        for post in self:
            if post.facebook_post_id and post.account_id:
                post.facebook_post_url = f"https://www.facebook.com/{post.facebook_post_id}"
            else:
                post.facebook_post_url = False
    
    @api.depends('likes_count', 'comments_count', 'shares_count', 'reach')
    def _compute_engagement_rate(self):
        for post in self:
            if post.reach > 0:
                total_engagement = post.likes_count + post.comments_count + post.shares_count
                post.engagement_rate = (total_engagement / post.reach) * 100
            else:
                post.engagement_rate = 0
    
    # -------------------------------------------------------------------------
    # BUSINESS METHODS
    # -------------------------------------------------------------------------
    
    def _prepare_facebook_post_data(self):
        """
        âœ… HÃ m má»›i: Chuáº©n bá»‹ dá»¯ liá»‡u post theo media_type
        
        Return: (url, data_dict, files_dict)
        """
        base_url = f'https://graph.facebook.com/v18.0/{self.account_id.facebook_page_id}'
        
        # Dá»¯ liá»‡u cÆ¡ báº£n
        data = {
            'access_token': self.account_id.access_token,
            'message': self.content,
        }
        
        files = None
        
        # Xá»­ lÃ½ dá»±a trÃªn media_type
        if self.media_type == 'photo':
            if not self.image:
                raise UserError(_('Please upload an image for photo post!'))
            
            # Decode base64 image
            image_binary = base64.b64decode(self.image)
            filename = self.image_filename or 'image.jpg'
            files = {'source': (filename, image_binary)}
            url = f'{base_url}/photos'
            
        elif self.media_type == 'video':
            if not self.video_url:
                raise UserError(_('Please provide a video URL!'))
            
            data['video_url'] = self.video_url
            url = f'{base_url}/feed'
            
        elif self.media_type == 'link':
            if not self.link_url:
                raise UserError(_('Please provide a link URL!'))
            
            data['link'] = self.link_url
            url = f'{base_url}/feed'
            
        else:  # text only
            url = f'{base_url}/feed'
        
        return url, data, files
    
    def action_publish_now(self):
        """âœ… Sá»¬A: ÄÄƒng bÃ i ngay láº­p tá»©c - Há»– TRá»¢ IMAGE"""
        self.ensure_one()
        
        if self.state != 'draft':
            raise UserError(_('Only draft posts can be published!'))
        
        try:
            # âœ… Cáº¦U DIá»†N Äáº¦U TIÃŠN: Chuáº©n bá»‹ dá»¯ liá»‡u
            url, data, files = self._prepare_facebook_post_data()
            
            # âœ… THAY Äá»”I: Gá»­i request vá»›i files náº¿u cÃ³ image
            if files:
                # Vá»›i image: dÃ¹ng multipart/form-data
                response = requests.post(url, data=data, files=files, timeout=30)
            else:
                # Chá»‰ text: dÃ¹ng form-urlencoded thÆ°á»ng
                response = requests.post(url, data=data, timeout=30)
            
            # Xá»­ lÃ½ response
            if response.status_code == 200:
                result = response.json()
                self.write({
                    'facebook_post_id': result.get('id'),
                    'published_date': fields.Datetime.now(),
                    'state': 'published',
                    'error_message': False,
                })
                
                self.message_post(body=_('Post published successfully!'))
                
                return {
                    'type': 'ir.actions.client',
                    'tag': 'display_notification',
                    'params': {
                        'title': _('Success'),
                        'message': _('Post published to Facebook!'),
                        'type': 'success',
                        'sticky': False,
                    }
                }
            else:
                # âœ… THÃŠM: Error handling tá»‘t hÆ¡n
                try:
                    error_detail = response.json().get('error', {})
                    error_msg = error_detail.get('message', response.text)
                except:
                    error_msg = response.text
                
                raise UserError(_('Failed to publish: %s') % error_msg)
                
        except Exception as e:
            error_str = str(e)
            self.write({
                'state': 'failed',
                'error_message': error_str,
            })
            _logger.error(f'Error publishing post {self.id}: {error_str}')
            raise UserError(_('Error publishing post: %s') % error_str)
    
    def action_schedule_post(self):
        """LÃªn lá»‹ch Ä‘Äƒng bÃ i"""
        self.ensure_one()
        
        if not self.scheduled_date:
            raise UserError(_('Please set a scheduled date!'))
        
        if self.scheduled_date <= fields.Datetime.now():
            raise UserError(_('Scheduled date must be in the future!'))
        
        self.state = 'scheduled'
        self.message_post(body=_('Post scheduled for %s') % self.scheduled_date)
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Success'),
                'message': _('Post scheduled successfully!'),
                'type': 'success',
                'sticky': False,
            }
        }
    
    def action_sync_stats(self):
        """Äá»“ng bá»™ thá»‘ng kÃª tá»« Facebook"""
        self.ensure_one()
        
        if not self.facebook_post_id:
            return False
        
        try:
            url = f'https://graph.facebook.com/v18.0/{self.facebook_post_id}'
            params = {
                'access_token': self.account_id.access_token,
                'fields': 'likes.summary(true),comments.summary(true),shares'
            }
            
            response = requests.get(url, params=params, timeout=10)
            
            if response.status_code == 200:
                data = response.json()
                self.write({
                    'likes_count': data.get('likes', {}).get('summary', {}).get('total_count', 0),
                    'comments_count': data.get('comments', {}).get('summary', {}).get('total_count', 0),
                    'shares_count': data.get('shares', {}).get('count', 0),
                })
                return True
            else:
                _logger.error(f'Failed to sync stats: {response.text}')
                return False
                
        except Exception as e:
            _logger.error(f'Error syncing stats: {e}')
            return False
    
    def action_view_comments(self):
        """Xem comments"""
        self.ensure_one()
        return {
            'name': _('Comments'),
            'type': 'ir.actions.act_window',
            'res_model': 'social.comment',
            'view_mode': 'list,form',
            'domain': [('post_id', '=', self.id)],
            'context': {'default_post_id': self.id},
        }
    
    @api.model
    def cron_publish_scheduled_posts(self):
        """Cron job Ä‘á»ƒ publish scheduled posts"""
        now = fields.Datetime.now()
        posts = self.search([
            ('state', '=', 'scheduled'),
            ('scheduled_date', '<=', now),
        ])
        
        for post in posts:
            try:
                post.action_publish_now()
            except Exception as e:
                _logger.error(f'Error publishing scheduled post {post.id}: {e}')
    
    @api.model
    def cron_sync_facebook_comments(self):
        """Cron job Ä‘á»ƒ sync comments"""
        posts = self.search([
            ('state', '=', 'published'),
            ('facebook_post_id', '!=', False),
        ], limit=50)
        
        for post in posts:
            try:
                post.action_sync_stats()
            except Exception as e:
                _logger.error(f'Error syncing post {post.id}: {e}')
                
    def action_sync_comments(self):
        """Äá»“ng bá»™ chi tiáº¿t tá»«ng comment tá»« Facebook vá» Odoo"""
        self.ensure_one()
        if not self.facebook_post_id:
            raise UserError(_('Post not published yet!'))
        
        try:
            # Gá»i Graph API láº¥y comments
            url = f'https://graph.facebook.com/v18.0/{self.facebook_post_id}/comments'
            params = {
                'access_token': self.account_id.access_token,
                'fields': 'id,message,from,created_time,parent',
                'limit': 100
            }
            
            response = requests.get(url, params=params, timeout=30)
            if response.status_code == 200:
                data = response.json()
                
                # Loop qua tá»«ng comment
                for fb_comment in data.get('data', []):
                    # Kiá»ƒm tra xem comment Ä‘Ã£ cÃ³ chÆ°a
                    existing = self.env['social.comment'].search([
                        ('facebook_comment_id', '=', fb_comment['id']),
                        ('post_id', '=', self.id)
                    ], limit=1)
                    
                    if not existing:
                        # Táº¡o má»›i comment record
                        author = fb_comment.get('from', {})
                        self.env['social.comment'].create({
                            'post_id': self.id,
                            'facebook_comment_id': fb_comment['id'],
                            'author_name': author.get('name', 'Unknown'),
                            'author_facebook_id': author.get('id', ''),
                            'message': fb_comment.get('message', ''),
                            'comment_date': fb_comment.get('created_time'),
                            'company_id': self.company_id.id,
                        })
                
                self.message_post(body=_('Comments synced from Facebook!'))
                return True
            else:
                raise UserError(_('Failed to sync comments: %s') % response.text)
                
        except Exception as e:
            raise UserError(_('Error syncing comments: %s') % str(e))




################################################################################
## FILE 301: social_post_template.py
## ÄÆ°á»ng dáº«n: models/social_post_template.py
################################################################################

from odoo import models, fields, api, _


class SocialPostTemplate(models.Model):
    """
    Model quáº£n lÃ½ templates cho bÃ i Ä‘Äƒng.
    """
    _name = 'social.post.template'
    _description = 'Social Post Template'
    _order = 'name'

    name = fields.Char(
        string='Template Name',
        required=True,
    )
    
    template_type = fields.Selection([
        ('product_launch', 'Product Launch'),
        ('promotion', 'Promotion'),
        ('testimonial', 'Testimonial'),
        ('educational', 'Educational'),
        ('engagement', 'Engagement'),
        ('event', 'Event'),
        ('custom', 'Custom'),
    ], string='Type', default='custom')
    
    content = fields.Text(
        string='Content Template',
        required=True,
        help='Use {{variable_name}} for dynamic content'
    )
    
    description = fields.Text(string='Description')
    
    active = fields.Boolean(string='Active', default=True)
    
    company_id = fields.Many2one(
        'res.company',
        string='Company',
        default=lambda self: self.env.company,
    )
    
    def action_use_template(self):
        """Sá»­ dá»¥ng template Ä‘á»ƒ táº¡o post má»›i"""
        self.ensure_one()
        return {
            'name': _('New Post from Template'),
            'type': 'ir.actions.act_window',
            'res_model': 'social.post',
            'view_mode': 'form',
            'context': {
                'default_content': self.content,
            },
        }



################################################################################
## FILE 302: ok.py
## ÄÆ°á»ng dáº«n: ok.py
################################################################################

lol



################################################################################
## FILE 303: ir.model.access.csv
## ÄÆ°á»ng dáº«n: security/ir.model.access.csv
################################################################################

id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
access_social_account_user,social.account.user,model_social_account,base.group_user,1,1,1,1
access_social_post_user,social.post.user,model_social_post,base.group_user,1,1,1,1
access_social_comment_user,social.comment.user,model_social_comment,base.group_user,1,1,1,1
access_social_message_user,social.message.user,model_social_message,base.group_user,1,1,1,1
access_social_analytics_user,social.analytics.user,model_social_analytics,base.group_user,1,0,0,0
access_social_post_template_user,social.post.template.user,model_social_post_template,base.group_user,1,1,1,1
access_social_messenger_product_user,social.messenger.product.user,model_social_messenger_product,base.group_user,1,1,1,1
access_social_messenger_order_user,social.messenger.order.user,model_social_messenger_order,base.group_user,1,1,1,1
access_social_conversation_user,social.conversation.user,model_social_conversation,base.group_user,1,1,1,1

access_social_chatbot_automation_user,access_social_chatbot_automation_user,model_social_chatbot_automation,base.group_user,1,0,0,0
access_social_chatbot_automation_manager,access_social_chatbot_automation_manager,model_social_chatbot_automation,group_social_facebook_manager,1,1,1,1



################################################################################
## FILE 304: social_security.xml
## ÄÆ°á»ng dáº«n: security/social_security.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->
    <!-- USER GROUPS                                                        -->
    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->
    
    <!-- âœ… Sá»¬A: Äá»•i tÃªn group cho khá»›p vá»›i ir.model.access.csv -->
    <record id="group_social_facebook_user" model="res.groups">
        <field name="name">Social Media User</field>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        <field name="comment">CÃ³ thá»ƒ xem vÃ  táº¡o bÃ i Ä‘Äƒng trÃªn Facebook</field>
    </record>

    <record id="group_social_facebook_manager" model="res.groups">
        <field name="name">Social Media Manager</field>
        <field name="implied_ids" eval="[(4, ref('group_social_facebook_user'))]"/>
        <field name="comment">CÃ³ thá»ƒ quáº£n lÃ½ táº¥t cáº£ cáº¥u hÃ¬nh vÃ  tÃ i khoáº£n Facebook</field>
    </record>

    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->
    <!-- RECORD RULES                                                       -->
    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->
    
    <!-- Social Account Rules -->
    <record id="social_account_rule_user" model="ir.rule">
        <field name="name">Social Account: User Access</field>
        <field name="model_id" ref="model_social_account"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>

    <!-- Social Post Rules -->
    <record id="social_post_rule_user" model="ir.rule">
        <field name="name">Social Post: User Access</field>
        <field name="model_id" ref="model_social_post"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>

    <!-- Social Comment Rules -->
    <record id="social_comment_rule_user" model="ir.rule">
        <field name="name">Social Comment: User Access</field>
        <field name="model_id" ref="model_social_comment"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>

    <!-- Social Conversation Rules -->
    <record id="social_conversation_rule_user" model="ir.rule">
        <field name="name">Social Conversation: User Access</field>
        <field name="model_id" ref="model_social_conversation"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>
    
    <!-- Social Message Rules -->
    <record id="social_message_rule_user" model="ir.rule">
        <field name="name">Social Message: User Access</field>
        <field name="model_id" ref="model_social_message"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>

    <!-- Social Chatbot Automation Rules -->
    <record id="social_chatbot_automation_rule_user" model="ir.rule">
        <field name="name">Social Chatbot Automation: User Access</field>
        <field name="model_id" ref="model_social_chatbot_automation"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>

</odoo>



################################################################################
## FILE 305: icon.png
## ÄÆ°á»ng dáº«n: static/description/icon.png
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 306: social_facebook.css
## ÄÆ°á»ng dáº«n: static/src/css/social_facebook.css
################################################################################

/*
 * CSS for Social Facebook Module
 */

.social_post_card {
    border-left: 4px solid #1877f2;
    transition: transform 0.2s;
}

.social_post_card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.facebook_badge {
    background-color: #1877f2;
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
}

.engagement_stats {
    display: flex;
    gap: 1rem;
}

.engagement_stats .stat {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}



################################################################################
## FILE 307: social_conversation_list.js
## ÄÆ°á»ng dáº«n: static/src/js/social_conversation_list.js
################################################################################

/** @odoo-module **/

import { ListController } from "@web/views/list/list_controller";
import { listView } from "@web/views/list/list_view";
import { registry } from "@web/core/registry";
import { useService } from "@web/core/utils/hooks";

/**
 * Custom List Controller for Social Conversation
 * Adds "Sync All Conversations" button to the toolbar
 */
export class SocialConversationListController extends ListController {
    setup() {
        super.setup();
        this.orm = useService("orm");
        this.action = useService("action");
        this.notification = useService("notification");
    }

    /**
     * Handler for Sync All Conversations button
     */
    async onClickSyncConversations() {
        // Show loading notification
        this.notification.add("Äang Ä‘á»“ng bá»™ conversations tá»« Facebook...", {
            type: "info",
        });

        try {
            // Call the server method
            const result = await this.orm.call(
                "social.conversation",
                "action_sync_all_conversations",
                [[]]
            );

            // Reload the list view
            await this.model.load();

            // Show success notification
            if (result && result.params) {
                this.notification.add(result.params.message, {
                    type: result.params.type || "success",
                    sticky: result.params.sticky || false,
                });
            } else {
                this.notification.add("Äá»“ng bá»™ hoÃ n táº¥t!", {
                    type: "success",
                });
            }
        } catch (error) {
            console.error("Error syncing conversations:", error);
            this.notification.add("Lá»—i khi Ä‘á»“ng bá»™: " + (error.message || error), {
                type: "danger",
                sticky: true,
            });
        }
    }
}

// Define the template with the sync button
SocialConversationListController.template = "module_social_facebook.SocialConversationListView";

// Create custom list view for social.conversation
export const SocialConversationListView = {
    ...listView,
    Controller: SocialConversationListController,
    buttonTemplate: "module_social_facebook.SocialConversationListView.Buttons",
};

// Register the view
registry.category("views").add("social_conversation_list", SocialConversationListView);



################################################################################
## FILE 308: social_dashboard.js
## ÄÆ°á»ng dáº«n: static/src/js/social_dashboard.js
################################################################################

/** @odoo-module **/

console.log('Social Facebook Dashboard JS loaded');



################################################################################
## FILE 309: social_conversation_templates.xml
## ÄÆ°á»ng dáº«n: static/src/xml/social_conversation_templates.xml
################################################################################

<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- Template for Sync button in list view toolbar -->
    <t t-name="module_social_facebook.SocialConversationListView.Buttons" t-inherit="web.ListView.Buttons">
        <xpath expr="//div[hasclass('o_list_buttons')]" position="inside">
            <button type="button" 
                    class="btn btn-primary o_sync_conversations_button ms-2"
                    t-on-click="() => this.onClickSyncConversations()">
                <i class="fa fa-refresh me-1"/>
                Sync Conversations
            </button>
        </xpath>
    </t>

    <!-- Alternative: Full button template -->
    <t t-name="module_social_facebook.SocialConversationListView">
        <t t-call="web.ListView"/>
    </t>

</templates>



################################################################################
## FILE 310: dashboard_views.xml
## ÄÆ°á»ng dáº«n: views/dashboard_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="action_social_dashboard" model="ir.actions.act_window">
        <field name="name">Social Media Dashboard</field>
        <field name="res_model">social.analytics</field>
        <field name="view_mode">pivot,graph,list</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">Welcome to Social Media Dashboard!</p>
        </field>
    </record>

</odoo>




################################################################################
## FILE 311: menu_views.xml
## ÄÆ°á»ng dáº«n: views/menu_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- ROOT MENU                                                             -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_marketing_root"
              name="Social"
              web_icon="module_social_facebook,static/description/icon.png"
              sequence="100"/>

    <!-- ===================================================================== -->
    <!-- DASHBOARD                                                             -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_dashboard"
              name="Dashboard"
              parent="menu_social_marketing_root"
              action="action_social_dashboard"
              sequence="1"/>

    <!-- ===================================================================== -->
    <!-- FACEBOOK PAGES                                                        -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_accounts"
              name="Facebook Pages"
              parent="menu_social_marketing_root"
              action="action_social_account"
              sequence="10"/>

    <!-- ===================================================================== -->
    <!-- POSTS                                                                 -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_posts"
              name="Posts"
              parent="menu_social_marketing_root"
              sequence="20"/>

    <menuitem id="menu_social_all_posts"
              name="All Posts"
              parent="menu_social_posts"
              action="action_social_post"
              sequence="10"/>

    <menuitem id="menu_social_post_calendar"
              name="Content Calendar"
              parent="menu_social_posts"
              action="action_social_post_calendar"
              sequence="15"/>

    <!-- ===================================================================== -->
    <!-- TEMPLATES                                                             -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_templates"
              name="Templates"
              parent="menu_social_marketing_root"
              action="action_social_post_template"
              sequence="30"/>

    <!-- ===================================================================== -->
    <!-- COMMENTS                                                              -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_comments"
              name="Comments"
              parent="menu_social_marketing_root"
              action="action_social_comment"
              sequence="40"/>

    <!-- ===================================================================== -->
    <!-- CONVERSATIONS                                                         -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_conversations"
              name="Messenger Conversations"
              parent="menu_social_marketing_root"
              action="action_social_conversation"
              sequence="50"/>

    <!-- ===================================================================== -->
    <!-- MESSENGER SALES                                                       -->
    <!-- ===================================================================== -->
    <menuitem id="menu_messenger_sales"
              name="Messenger Sales"
              parent="menu_social_marketing_root"
              sequence="60"/>

    <menuitem id="menu_messenger_products"
              name="Products"
              parent="menu_messenger_sales"
              action="action_social_messenger_product"
              sequence="10"/>

    <menuitem id="menu_messenger_orders"
              name="Orders"
              parent="menu_messenger_sales"
              action="action_social_messenger_order"
              sequence="20"/>

    <!-- ===================================================================== -->
    <!-- ANALYTICS                                                             -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_analytics"
              name="Analytics"
              parent="menu_social_marketing_root"
              action="action_social_analytics"
              sequence="70"/>

    <!-- ===================================================================== -->
    <!-- CONFIGURATION                                                         -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_configuration"
              name="Configuration"
              parent="menu_social_marketing_root"
              sequence="100"/>

    <!-- âœ… THÃŠM Má»šI: Chatbot Automation submenu -->
    <menuitem id="menu_social_chatbot_automation"
              name="Chatbot Automation"
              parent="menu_social_configuration"
              action="action_social_chatbot_automation"
              sequence="30"/>

</odoo>



################################################################################
## FILE 312: res_config_settings_views.md
## ÄÆ°á»ng dáº«n: views/res_config_settings_views.md
################################################################################

<odoo>

    <record id="res_config_settings_view_form_social_facebook" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.social.facebook</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <!-- FIX: Target vÃ o sheet thay vÃ¬ div[class='settings'] -->
            <xpath expr="//sheet" position="inside">
                
                <div class="app_settings_block" data_key="module_social_facebook" 
                     string="Facebook Integration">
                    <h2>Facebook Integration</h2>
                    
                    <!-- Webhook Configuration -->
                    <div class="row mt16 o_settings_container">
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane"></div>
                            <div class="o_setting_right_pane">
                                <span class="o_form_label">Webhook Configuration</span>
                                <div class="text-muted">
                                    Configure your Facebook webhook settings
                                </div>
                                <div class="content-group mt16">
                                    <div class="row">
                                        <label for="facebook_verify_token" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="facebook_verify_token" 
                                               placeholder="e.g., 16112005"/>
                                    </div>
                                    <div class="row mt8">
                                        <label string="Webhook URL" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="facebook_webhook_url" readonly="1"/>
                                        <button name="action_copy_webhook_url" 
                                                type="object" 
                                                string="Copy URL" 
                                                class="btn-link ml8"
                                                icon="fa-copy"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ngrok Integration -->
                    <div class="row mt16 o_settings_container">
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane"></div>
                            <div class="o_setting_right_pane">
                                <span class="o_form_label">Ngrok Integration</span>
                                <div class="text-muted">
                                    Manage ngrok tunnel for localhost development
                                </div>
                                <div class="content-group mt16">
                                    <div class="row">
                                        <label for="ngrok_executable_path" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="ngrok_executable_path" 
                                               placeholder="C:/ngrok/ngrok.exe"/>
                                    </div>
                                    <div class="row mt8">
                                        <label string="Ngrok Status" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="ngrok_is_running" readonly="1" 
                                               widget="boolean"/>
                                        <span class="ml8" 
                                              invisible="not ngrok_is_running">
                                            âœ… Running
                                        </span>
                                        <span class="ml8 text-muted" 
                                              invisible="ngrok_is_running">
                                            â›” Not Running
                                        </span>
                                    </div>
                                    <div class="row mt8" 
                                         invisible="not ngrok_tunnel_url">
                                        <label string="Public URL" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="ngrok_tunnel_url" readonly="1" 
                                               class="text-primary font-weight-bold"/>
                                    </div>
                                    <div class="row mt16">
                                        <div class="col-lg-3"></div>
                                        <div>
                                            <button name="action_start_ngrok" 
                                                    type="object" 
                                                    string="Start Ngrok" 
                                                    class="btn-primary"
                                                    icon="fa-play"
                                                    invisible="ngrok_is_running"/>
                                            <button name="action_stop_ngrok" 
                                                    type="object" 
                                                    string="Stop Ngrok" 
                                                    class="btn-secondary ml8"
                                                    icon="fa-stop"
                                                    invisible="not ngrok_is_running"/>
                                            <button name="action_refresh_ngrok_url" 
                                                    type="object" 
                                                    string="Refresh" 
                                                    class="btn-link ml8"
                                                    icon="fa-refresh"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- CRM Integration -->
                    <div class="row mt16 o_settings_container">
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane">
                                <field name="auto_create_lead"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="auto_create_lead"/>
                                <div class="text-muted">
                                    Automatically create CRM leads from Messenger conversations
                                </div>
                                <div class="content-group mt16" 
                                     invisible="not auto_create_lead">
                                    <div class="row">
                                        <label for="lead_default_user_id" 
                                               string="Default Salesperson" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="lead_default_user_id"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chatbot Configuration -->
                    <div class="row mt16 o_settings_container">
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane">
                                <field name="chatbot_enabled"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="chatbot_enabled"/>
                                <div class="text-muted">
                                    Enable automatic sales chatbot on Messenger
                                </div>
                                <div class="content-group mt16" 
                                     invisible="not chatbot_enabled">
                                    <div class="row">
                                        <label for="chatbot_welcome_message" 
                                               string="Welcome Message" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="chatbot_welcome_message" 
                                               widget="text"/>
                                    </div>
                                    <div class="alert alert-info mt16" role="alert">
                                        <strong>Chatbot Flow:</strong><br/>
                                        1. Ask customer name<br/>
                                        2. Ask phone number<br/>
                                        3. Show product catalog<br/>
                                        4. Confirm order<br/>
                                        5. Create sale order automatically
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
                
            </xpath>
        </field>
    </record>

</odoo>



################################################################################
## FILE 313: social_account_views.xml
## ÄÆ°á»ng dáº«n: views/social_account_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ============================================================
         SOCIAL ACCOUNT - LIST VIEW
         ============================================================ -->
    <record id="social_account_view_tree" model="ir.ui.view">
        <field name="name">social.account.list</field>
        <field name="model">social.account</field>
        <field name="arch" type="xml">
            <list string="Facebook Pages" decoration-muted="not active">
                <field name="name"/>
                <field name="facebook_page_id"/>
                <field name="state" widget="badge" decoration-success="state == 'connected'" decoration-danger="state == 'error'" decoration-info="state == 'draft'"/>
                <field name="followers_count"/>
                <field name="likes_count"/>
                <field name="post_count"/>
                <field name="conversation_count"/>
                <field name="last_sync_date"/>
                <field name="last_message_sync_date"/>
                <field name="active" column_invisible="1"/>
            </list>
        </field>
    </record>

    <!-- ============================================================
         SOCIAL ACCOUNT - FORM VIEW (Cáº¬P NHáº¬T Vá»šI NÃšT SYNC CONVERSATIONS)
         ============================================================ -->
    <record id="social_account_view_form" model="ir.ui.view">
        <field name="name">social.account.form</field>
        <field name="model">social.account</field>
        <field name="arch" type="xml">
            <form string="Facebook Page">
                <header>
                    <button name="action_test_connection" type="object" string="Test Connection" class="btn-primary" invisible="state == 'connected'"/>
                    <button name="action_sync_page_info" type="object" string="Sync Page Info" class="btn-secondary" invisible="state != 'connected'"/>
                    <!-- âœ… THÃŠM: NÃšT SYNC CONVERSATIONS -->
                    <button name="action_sync_conversations" type="object" string="ğŸ”„ Sync Conversations" class="btn-primary" invisible="state != 'connected'"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,connected"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_posts" type="object" class="oe_stat_button" icon="fa-newspaper-o">
                            <field name="post_count" widget="statinfo" string="Posts"/>
                        </button>
                        <!-- âœ… THÃŠM: NÃšT XEM CONVERSATIONS -->
                        <button name="action_view_conversations" type="object" class="oe_stat_button" icon="fa-comments">
                            <field name="conversation_count" widget="statinfo" string="Conversations"/>
                        </button>
                    </div>
                    <div class="oe_title">
                        <label for="name"/>
                        <h1>
                            <field name="name" placeholder="Enter Facebook Page Name..."/>
                        </h1>
                    </div>
                    <group>
                        <group string="Facebook Information">
                            <field name="platform" readonly="1"/>
                            <field name="facebook_page_id" placeholder="Enter Page ID..."/>
                            <field name="facebook_page_url" widget="url" readonly="1"/>
                            <field name="page_category" readonly="1"/>
                            <field name="company_id" groups="base.group_multi_company"/>
                            <field name="active" widget="boolean_toggle"/>
                        </group>
                        <group string="Statistics">
                            <field name="followers_count" readonly="1"/>
                            <field name="likes_count" readonly="1"/>
                            <field name="page_rating" readonly="1"/>
                            <field name="last_sync_date" readonly="1"/>
                            <field name="last_message_sync_date" readonly="1"/>
                        </group>
                    </group>
                    <group string="Authentication">
                        <group>
                            <field name="access_token" password="True"/>
                        </group>
                        <group>
                            <field name="token_expires_at"/>
                            <field name="is_token_valid"/>
                        </group>
                    </group>
                    <group string="Settings">
                        <group>
                            <field name="auto_sync_comments"/>
                        </group>
                        <group>
                            <field name="auto_sync_messages"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="About" name="about">
                            <field name="page_about" readonly="1"/>
                        </page>
                        <page string="Error Log" name="errors" invisible="not error_message">
                            <field name="error_message" readonly="1"/>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <!-- ============================================================
         SOCIAL ACCOUNT - KANBAN VIEW
         ============================================================ -->
    <record id="social_account_view_kanban" model="ir.ui.view">
        <field name="name">social.account.kanban</field>
        <field name="model">social.account</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name"/>
                <field name="state"/>
                <field name="followers_count"/>
                <field name="likes_count"/>
                <field name="post_count"/>
                <field name="conversation_count"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_content">
                            <div class="o_kanban_record_top">
                                <strong class="o_kanban_record_title">
                                    <field name="name"/>
                                </strong>
                            </div>
                            <div class="o_kanban_record_body">
                                <div>Status: <field name="state"/></div>
                                <div><field name="followers_count"/> followers</div>
                                <div><field name="likes_count"/> likes</div>
                                <div><field name="post_count"/> posts</div>
                                <div><field name="conversation_count"/> conversations</div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ============================================================
         SOCIAL ACCOUNT - SEARCH VIEW
         ============================================================ -->
    <record id="social_account_view_search" model="ir.ui.view">
        <field name="name">social.account.search</field>
        <field name="model">social.account</field>
        <field name="arch" type="xml">
            <search string="Search Facebook Pages">
                <field name="name"/>
                <field name="facebook_page_id"/>
                <field name="state"/>
                <field name="company_id" groups="base.group_multi_company"/>
                <filter string="Connected" name="filter_connected" domain="[('state', '=', 'connected')]"/>
                <filter string="Draft" name="filter_draft" domain="[('state', '=', 'draft')]"/>
                <filter string="Error" name="filter_error" domain="[('state', '=', 'error')]"/>
                <filter string="Active" name="filter_active" domain="[('active', '=', True)]"/>
                <filter string="Group By Status" name="group_state" context="{'group_by': 'state'}"/>
                <filter string="Group By Company" name="group_company" context="{'group_by': 'company_id'}" groups="base.group_multi_company"/>
            </search>
        </field>
    </record>

    <!-- ============================================================
         SOCIAL ACCOUNT - ACTION
         ============================================================ -->
    <record id="action_social_account" model="ir.actions.act_window">
        <field name="name">Facebook Pages</field>
        <field name="res_model">social.account</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="search_view_id" ref="social_account_view_search"/>
        <field name="context">{'search_default_filter_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Connect your first Facebook Page!
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 314: social_analytics_views.xml
## ÄÆ°á»ng dáº«n: views/social_analytics_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="social_analytics_view_pivot" model="ir.ui.view">
        <field name="name">social.analytics.pivot</field>
        <field name="model">social.analytics</field>
        <field name="arch" type="xml">
            <pivot string="Facebook Analytics">
                <field name="account_id" type="row"/>
                <field name="date" interval="month" type="col"/>
                <field name="total_posts" type="measure"/>
                <field name="total_likes" type="measure"/>
                <field name="total_comments" type="measure"/>
            </pivot>
        </field>
    </record>

    <record id="social_analytics_view_graph" model="ir.ui.view">
        <field name="name">social.analytics.graph</field>
        <field name="model">social.analytics</field>
        <field name="arch" type="xml">
            <graph string="Facebook Analytics" type="line">
                <field name="date" interval="day"/>
                <field name="total_likes" type="measure"/>
                <field name="total_comments" type="measure"/>
            </graph>
        </field>
    </record>

    <record id="social_analytics_view_tree" model="ir.ui.view">
        <field name="name">social.analytics.list</field>
        <field name="model">social.analytics</field>
        <field name="arch" type="xml">
            <list string="Facebook Analytics" create="0" edit="0" delete="0">
                <field name="date"/>
                <field name="account_id"/>
                <field name="total_posts"/>
                <field name="total_likes"/>
                <field name="total_comments"/>
                <field name="total_shares"/>
                <field name="avg_engagement_rate"/>
            </list>
        </field>
    </record>

    <record id="action_social_analytics" model="ir.actions.act_window">
        <field name="name">Facebook Analytics</field>
        <field name="res_model">social.analytics</field>
        <field name="view_mode">pivot,graph,list</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">No analytics data yet!</p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 315: social_chatbot_automation_views.xml
## ÄÆ°á»ng dáº«n: views/social_chatbot_automation_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- TREE VIEW                                                             -->
    <!-- ===================================================================== -->
    <record id="social_chatbot_automation_view_tree" model="ir.ui.view">
        <field name="name">social.chatbot.automation.tree</field>
        <field name="model">social.chatbot.automation</field>
        <field name="arch" type="xml">
            <list string="Chatbot Automation Rules" 
                  decoration-muted="not active">
                <field name="sequence" widget="handle"/>
                <field name="name"/>
                <field name="trigger_keywords"/>
                <field name="priority"/>
                <field name="account_id"/>
                <field name="triggered_count"/>
                <field name="active" widget="boolean_toggle"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- FORM VIEW                                                             -->
    <!-- ===================================================================== -->
    <record id="social_chatbot_automation_view_form" model="ir.ui.view">
        <field name="name">social.chatbot.automation.form</field>
        <field name="model">social.chatbot.automation</field>
        <field name="arch" type="xml">
            <form string="Chatbot Automation Rule">
                <header>
                    <button name="action_test_rule" type="object" 
                            string="Test Rule" class="btn-primary"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_triggered_messages" type="object"
                                class="oe_stat_button" icon="fa-comment">
                            <field name="triggered_count" widget="statinfo" 
                                   string="Triggered"/>
                        </button>
                    </div>
                    <widget name="web_ribbon" title="Archived" 
                            bg_color="text-bg-danger" 
                            invisible="active"/>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="active" invisible="1"/>
                            <field name="account_id"/>
                        </group>
                        <group>
                            <field name="priority"/>
                            <field name="sequence"/>
                            <field name="last_triggered_date" readonly="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Configuration">
                            <group>
                                <field name="trigger_keywords" 
                                       placeholder="mua,Ä‘áº·t hÃ ng,order,buy"/>
                                <field name="response_text" 
                                       widget="text" 
                                       placeholder="Enter response message..."/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SEARCH VIEW                                                           -->
    <!-- ===================================================================== -->
    <record id="social_chatbot_automation_view_search" model="ir.ui.view">
        <field name="name">social.chatbot.automation.search</field>
        <field name="model">social.chatbot.automation</field>
        <field name="arch" type="xml">
            <search string="Search Chatbot Rules">
                <field name="name"/>
                <field name="trigger_keywords"/>
                <field name="account_id"/>
                
                <filter string="Active" name="filter_active" 
                        domain="[('active', '=', True)]"/>
                <filter string="Archived" name="filter_archived" 
                        domain="[('active', '=', False)]"/>
                
                <separator/>
                
                <filter string="Group By Page" name="group_account" 
                        context="{'group_by': 'account_id'}"/>
                <filter string="Group By Priority" name="group_priority" 
                        context="{'group_by': 'priority'}"/>
            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- ACTION                                                                -->
    <!-- ===================================================================== -->
    <record id="action_social_chatbot_automation" model="ir.actions.act_window">
        <field name="name">Chatbot Automation</field>
        <field name="res_model">social.chatbot.automation</field>
        <field name="view_mode">list,form</field>
        <field name="search_view_id" ref="social_chatbot_automation_view_search"/>
        <field name="context">{'search_default_filter_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first chatbot automation rule!
            </p>
            <p>
                Chatbot rules automatically respond to customer messages based on keywords.
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 316: social_comment_views.xml
## ÄÆ°á»ng dáº«n: views/social_comment_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="social_comment_view_tree" model="ir.ui.view">
        <field name="name">social.comment.list</field>
        <field name="model">social.comment</field>
        <field name="arch" type="xml">
            <list string="Facebook Comments" 
                  decoration-muted="is_hidden"
                  decoration-danger="is_spam"
                  decoration-success="replied">
                <field name="comment_date"/>
                <field name="post_id"/>
                <field name="author_name"/>
                <field name="message"/>
                <field name="replied"/>
                <field name="is_hidden" optional="hide"/>
                <field name="is_spam" optional="hide"/>
            </list>
        </field>
    </record>

    <record id="social_comment_view_form" model="ir.ui.view">
        <field name="name">social.comment.form</field>
        <field name="model">social.comment</field>
        <field name="arch" type="xml">
            <form string="Facebook Comment">
                <header>
                    <button name="action_reply" type="object" string="Reply" class="btn-primary" invisible="replied"/>
                    <button name="action_hide" type="object" string="Hide" class="btn-secondary" invisible="is_hidden"/>
                    <button name="action_mark_spam" type="object" string="Mark Spam" class="btn-danger" invisible="is_spam"/>
                </header>
                <sheet>
                    <group>
                        <group string="Comment Info">
                            <field name="post_id"/>
                            <field name="comment_date"/>
                            <field name="facebook_comment_id"/>
                        </group>
                        <group string="Author">
                            <field name="author_name"/>
                            <field name="author_facebook_id"/>
                        </group>
                    </group>
                    <group string="Message">
                        <field name="message" nolabel="1" readonly="1"/>
                    </group>
                    <group string="Reply" invisible="replied">
                        <field name="reply_text" nolabel="1"/>
                    </group>
                    <group string="Status">
                        <field name="replied"/>
                        <field name="is_hidden"/>
                        <field name="is_spam"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_social_comment" model="ir.actions.act_window">
        <field name="name">Facebook Comments</field>
        <field name="res_model">social.comment</field>
        <field name="view_mode">list,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">No comments yet!</p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 317: social_conversation_views.xml
## ÄÆ°á»ng dáº«n: views/social_conversation_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Form View -->
    <record id="social_conversation_view_form" model="ir.ui.view">
        <field name="name">social.conversation.form</field>
        <field name="model">social.conversation</field>
        <field name="arch" type="xml">
            <form string="Messenger Conversation">
                <header>
                    <button name="action_create_lead" type="object" string="Create Lead" class="btn-primary" invisible="lead_id"/>
                    <button name="action_mark_resolved" type="object" string="Mark Resolved" class="btn-success" invisible="state in ['resolved', 'closed']"/>
                    <button name="action_close" type="object" string="Close" class="btn-secondary" invisible="state == 'closed'"/>
                    <button name="action_reopen" type="object" string="Reopen" class="btn-warning" invisible="state != 'closed'"/>
                    <field name="state" widget="statusbar" statusbar_visible="new,ongoing,resolved"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_messages" type="object" class="oe_stat_button" icon="fa-comments">
                            <field name="message_count" widget="statinfo" string="Messages"/>
                        </button>
                    </div>
                    <group>
                        <group string="Customer Information">
                            <field name="customer_name"/>
                            <field name="facebook_psid"/>
                            <field name="customer_phone"/>
                            <field name="customer_email"/>
                        </group>
                        <group string="Conversation Details">
                            <field name="account_id"/>
                            <field name="conversation_id"/>
                            <field name="lead_id"/>
                            <field name="company_id" groups="base.group_multi_company"/>
                        </group>
                    </group>
                    <group>
                        <group string="Tracking">
                            <field name="last_message_date"/>
                            <field name="last_message_from"/>
                            <field name="unread_count"/>
                            <field name="first_response_time"/>
                        </group>
                        <group string="Status">
                            <field name="active"/>
                        </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                </div>
            </form>
        </field>
    </record>

    <!-- List View -->
    <record id="social_conversation_view_list" model="ir.ui.view">
        <field name="name">social.conversation.list</field>
        <field name="model">social.conversation</field>
        <field name="arch" type="xml">
            <list string="Messenger Conversations">
                <field name="customer_name"/>
                <field name="account_id"/>
                <field name="state"/>
                <field name="message_count"/>
                <field name="unread_count"/>
                <field name="last_message_date"/>
                <field name="lead_id"/>
            </list>
        </field>
    </record>

    <!-- Search View - SIMPLIFIED -->
    <record id="social_conversation_view_search" model="ir.ui.view">
        <field name="name">social.conversation.search</field>
        <field name="model">social.conversation</field>
        <field name="arch" type="xml">
            <search>
                <field name="customer_name"/>
                <field name="account_id"/>
                <field name="lead_id"/>
            </search>
        </field>
    </record>

    <!-- Action -->
    <record id="action_social_conversation" model="ir.actions.act_window">
        <field name="name">Messenger Conversations</field>
        <field name="res_model">social.conversation</field>
        <field name="view_mode">list,form</field>
    </record>

</odoo>



################################################################################
## FILE 318: social_message_views.xml
## ÄÆ°á»ng dáº«n: views/social_message_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- MESSAGE (CONVERSATION) - LIST VIEW                                    -->
    <!-- ===================================================================== -->
    <record id="social_message_view_tree" model="ir.ui.view">
        <field name="name">social.message.list</field>
        <field name="model">social.message</field>
        <field name="arch" type="xml">
            <list string="Facebook Conversations" 
                  decoration-info="is_from_customer == False"
                  decoration-muted="is_from_customer == True">
                <field name="account_id"/>
                <field name="facebook_user_id"/>
                <field name="customer_name"/>
                <field name="message"/>
                <field name="created_date"/>
                <field name="last_message_date"/>
                <field name="is_from_customer" widget="boolean"/>
                <field name="chatbot_state" widget="badge"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSAGE - FORM VIEW                                                   -->
    <!-- ===================================================================== -->
    <record id="social_message_view_form" model="ir.ui.view">
        <field name="name">social.message.form</field>
        <field name="model">social.message</field>
        <field name="arch" type="xml">
            <form string="Facebook Message / Conversation">
                <header>
                    <field name="chatbot_state" widget="statusbar" 
                           statusbar_visible="idle,ask_name,ask_phone,show_products,confirm_order,completed"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <label for="facebook_user_id" string="Conversation with"/>
                        <h1>
                            <field name="customer_name" placeholder="Customer Name"/>
                        </h1>
                        <h3>
                            <field name="facebook_user_id" readonly="1"/>
                        </h3>
                    </div>
                    
                    <group>
                        <group string="Conversation Info">
                            <field name="account_id" readonly="1"/>
                            <field name="message_id" readonly="1"/>
                            <field name="is_from_customer" widget="boolean"/>
                        </group>
                        <group string="Timestamps">
                            <field name="created_date" readonly="1"/>
                            <field name="last_message_date" readonly="1"/>
                        </group>
                    </group>
                    
                    <group string="Message Content">
                        <field name="message" nolabel="1" widget="text"/>
                    </group>
                    
                    <group string="Customer Info (Chatbot)">
                        <group>
                            <field name="customer_phone"/>
                        </group>
                        <group>
                            <field name="chatbot_state"/>
                        </group>
                    </group>
                    
                    <notebook>
                        <page string="Products" name="products">
                            <field name="selected_product_ids" nolabel="1">
                                <list>
                                    <field name="display_name"/>
                                    <field name="price" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                    <field name="currency_id" column_invisible="1"/>
                                    <field name="active" widget="boolean"/>
                                    <field name="sequence"/>
                                </list>
                            </field>
                        </page>
                        
                        <page string="Related Records" name="related">
                            <group>
                                <field name="lead_id"/>
                                <field name="messenger_order_id"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_ids" widget="mail_thread"/>
                    <field name="activity_ids" widget="mail_activity"/>
                </div>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSAGE - SEARCH VIEW                                                 -->
    <!-- ===================================================================== -->
    <record id="social_message_view_search" model="ir.ui.view">
        <field name="name">social.message.search</field>
        <field name="model">social.message</field>
        <field name="arch" type="xml">
            <search string="Search Conversations">
                <field name="facebook_user_id"/>
                <field name="customer_name"/>
                <field name="message"/>
                <field name="account_id"/>
                
                <filter string="From Customer" name="filter_from_customer" 
                        domain="[('is_from_customer', '=', True)]"/>
                <filter string="From Page" name="filter_from_page" 
                        domain="[('is_from_customer', '=', False)]"/>
                <separator/>
                
                <filter string="Idle" name="filter_idle" 
                        domain="[('chatbot_state', '=', 'idle')]"/>
                <filter string="In Progress" name="filter_progress" 
                        domain="[('chatbot_state', 'in', ['ask_name', 'ask_phone', 'show_products', 'confirm_order'])]"/>
                <filter string="Completed" name="filter_completed" 
                        domain="[('chatbot_state', '=', 'completed')]"/>
                <separator/>
                
                <filter string="This Week" name="filter_week" 
                        domain="[('created_date', '&gt;=', (context_today() - datetime.timedelta(days=7)).strftime('%Y-%m-%d'))]"/>
                <filter string="This Month" name="filter_month" 
                        domain="[('created_date', '&gt;=', (context_today().replace(day=1)).strftime('%Y-%m-%d'))]"/>
                <separator/>
                
                <filter string="Has Lead" name="filter_has_lead" 
                        domain="[('lead_id', '!=', False)]"/>
                <filter string="Has Order" name="filter_has_order" 
                        domain="[('messenger_order_id', '!=', False)]"/>
                <separator/>
                
                <filter string="Group By Page" name="group_account" 
                        context="{'group_by': 'account_id'}"/>
                <filter string="Group By State" name="group_state" 
                        context="{'group_by': 'chatbot_state'}"/>
                <filter string="Group By Date" name="group_date" 
                        context="{'group_by': 'created_date:month'}"/>
            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSAGE - ACTION                                                      -->
    <!-- ===================================================================== -->
    <record id="action_social_message" model="ir.actions.act_window">
        <field name="name">Facebook Conversations</field>
        <field name="res_model">social.message</field>
        <field name="view_mode">list,form</field>
        <field name="search_view_id" ref="social_message_view_search"/>
        <field name="context">{'search_default_filter_from_customer': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No conversations yet!
            </p>
            <p>
                Conversations will appear here when customers message your Facebook page.
            </p>
            <p>
                <strong>Webhook must be configured to receive messages automatically.</strong>
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 319: social_messenger_order_views.xml
## ÄÆ°á»ng dáº«n: views/social_messenger_order_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- MESSENGER ORDER - LIST VIEW                                           -->
    <!-- ===================================================================== -->
    <record id="social_messenger_order_view_tree" model="ir.ui.view">
        <field name="name">social.messenger.order.list</field>
        <field name="model">social.messenger.order</field>
        <field name="arch" type="xml">
            <list string="Messenger Orders" 
                  decoration-success="state == 'sale'" 
                  decoration-info="state == 'confirmed'"
                  decoration-muted="state == 'cancelled'">
                <field name="name"/>
                <field name="order_date"/>
                <field name="customer_name"/>
                <field name="customer_phone"/>
                <field name="total_amount" widget="monetary" options="{'currency_field': 'currency_id'}" sum="Total"/>
                <field name="currency_id" column_invisible="1"/>
                <field name="state" widget="badge" 
                       decoration-success="state == 'sale'"
                       decoration-info="state == 'confirmed'"
                       decoration-muted="state == 'cancelled'"/>
                <field name="sale_order_id"/>
                <field name="user_id" widget="many2one_avatar_user"/>
                <field name="company_id" groups="base.group_multi_company" column_invisible="1"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER ORDER - FORM VIEW                                           -->
    <!-- ===================================================================== -->
    <record id="social_messenger_order_view_form" model="ir.ui.view">
        <field name="name">social.messenger.order.form</field>
        <field name="model">social.messenger.order</field>
        <field name="arch" type="xml">
            <form string="Messenger Order">
                <header>
                    <button name="action_confirm" type="object" 
                            string="Confirm" class="btn-primary"
                            invisible="state != 'draft'"/>
                    <button name="action_create_sale_order" type="object" 
                            string="Create Sale Order" class="btn-primary"
                            invisible="state != 'confirmed' or sale_order_id != False"/>
                    <button name="action_view_sale_order" type="object" 
                            string="View Sale Order" class="btn-info"
                            invisible="sale_order_id == False"/>
                    <button name="action_cancel" type="object" 
                            string="Cancel"
                            invisible="state in ['sale', 'cancelled']"/>
                    <field name="state" widget="statusbar" 
                           statusbar_visible="draft,confirmed,sale"/>
                </header>
                
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="1"/>
                        </h1>
                    </div>
                    
                    <group>
                        <group string="Customer Information">
                            <field name="customer_name"/>
                            <field name="customer_phone"/>
                            <field name="customer_email"/>
                            <field name="facebook_user_id"/>
                            <field name="partner_id" readonly="1"/>
                        </group>
                        <group string="Order Information">
                            <field name="order_date"/>
                            <field name="user_id"/>
                            <field name="total_amount" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                            <field name="currency_id" column_invisible="1"/>
                            <field name="sale_order_id" readonly="1"/>
                            <field name="conversation_id"/>
                        </group>
                    </group>
                    
                    <notebook>
                        <page string="Products" name="products">
                            <field name="product_ids">
                                <list>
                                    <field name="product_id"/>
                                    <field name="quick_reply_title"/>
                                    <field name="price" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                    <field name="currency_id" column_invisible="1"/>
                                </list>
                            </field>
                        </page>
                        
                        <page string="Internal Notes" name="notes">
                            <field name="notes" placeholder="Add internal notes..."/>
                        </page>
                    </notebook>
                </sheet>
                
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER ORDER - SEARCH VIEW                                         -->
    <!-- ===================================================================== -->
    <record id="social_messenger_order_view_search" model="ir.ui.view">
        <field name="name">social.messenger.order.search</field>
        <field name="model">social.messenger.order</field>
        <field name="arch" type="xml">
            <search string="Search Messenger Orders">
                <field name="name"/>
                <field name="customer_name"/>
                <field name="customer_phone"/>
                <field name="sale_order_id"/>
                
                <filter string="Draft" name="filter_draft" 
                        domain="[('state', '=', 'draft')]"/>
                <filter string="Confirmed" name="filter_confirmed" 
                        domain="[('state', '=', 'confirmed')]"/>
                <filter string="Sale Order Created" name="filter_sale" 
                        domain="[('state', '=', 'sale')]"/>
                <filter string="Cancelled" name="filter_cancelled" 
                        domain="[('state', '=', 'cancelled')]"/>
                <separator/>
                
                <filter string="My Orders" name="filter_my_orders" 
                        domain="[('user_id', '=', uid)]"/>
                <filter string="This Month" name="filter_this_month" 
                        domain="[('order_date', '&gt;=', (context_today() - datetime.timedelta(days=30)).strftime('%Y-%m-%d'))]"/>
                <separator/>
                
                <filter string="Group By Salesperson" name="group_user" 
                        context="{'group_by': 'user_id'}"/>
                <filter string="Group By Status" name="group_state" 
                        context="{'group_by': 'state'}"/>
                <filter string="Group By Order Date" name="group_date" 
                        context="{'group_by': 'order_date:month'}"/>
                <filter string="Group By Company" name="group_company" 
                        context="{'group_by': 'company_id'}" 
                        groups="base.group_multi_company"/>
            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER ORDER - ACTION                                              -->
    <!-- ===================================================================== -->
    <record id="action_social_messenger_order" model="ir.actions.act_window">
        <field name="name">Messenger Orders</field>
        <field name="res_model">social.messenger.order</field>
        <field name="view_mode">list,form</field>
        <field name="search_view_id" ref="social_messenger_order_view_search"/>
        <field name="context">{'search_default_filter_confirmed': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                ğŸ“¦ No Messenger Orders Yet
            </p>
            <p>
                Orders created through the Facebook Messenger chatbot will appear here.<br/>
                Enable the chatbot in Settings to start receiving orders!
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 320: social_messenger_product_views.xml
## ÄÆ°á»ng dáº«n: views/social_messenger_product_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- MESSENGER PRODUCT - LIST VIEW                                         -->
    <!-- ===================================================================== -->
    <record id="social_messenger_product_view_tree" model="ir.ui.view">
        <field name="name">social.messenger.product.list</field>
        <field name="model">social.messenger.product</field>
        <field name="arch" type="xml">
            <list string="Messenger Products" 
                  decoration-muted="active == False"
                  editable="bottom">
                <field name="sequence" widget="handle"/>
                <field name="product_id"/>
                <field name="quick_reply_title"/>
                <field name="price" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                <field name="currency_id" column_invisible="1"/>
                <field name="active" widget="boolean_toggle"/>
                <field name="order_count"/>
                <field name="company_id" groups="base.group_multi_company" column_invisible="1"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER PRODUCT - FORM VIEW                                         -->
    <!-- ===================================================================== -->
    <record id="social_messenger_product_view_form" model="ir.ui.view">
        <field name="name">social.messenger.product.form</field>
        <field name="model">social.messenger.product</field>
        <field name="arch" type="xml">
            <form string="Messenger Product">
                <header>
                    <button name="action_toggle_active" type="object" 
                            string="Enable" class="btn-primary"
                            invisible="active == True"/>
                    <button name="action_toggle_active" type="object" 
                            string="Disable" class="btn-secondary"
                            invisible="active == False"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_orders" type="object" 
                                class="oe_stat_button" icon="fa-shopping-cart"
                                invisible="order_count == 0">
                            <field name="order_count" widget="statinfo" 
                                   string="Orders"/>
                        </button>
                    </div>
                    
                    <field name="image_url" widget="image" class="oe_avatar"/>
                    
                    <div class="oe_title">
                        <h1>
                            <field name="product_id" 
                                   placeholder="Select Product..."
                                   options="{'no_create': True}"/>
                        </h1>
                    </div>
                    
                    <group>
                        <group string="Product Info">
                            <field name="display_name" invisible="1"/>
                            <field name="quick_reply_title" 
                                   placeholder="Max 20 characters"/>
                            <field name="price" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                            <field name="currency_id" column_invisible="1"/>
                            <field name="sequence"/>
                        </group>
                        <group string="Organization">
                            <field name="company_id" 
                                   groups="base.group_multi_company"/>
                        </group>
                    </group>
                    
                    <group string="Messenger Description">
                        <field name="description" nolabel="1" 
                               placeholder="Description sent to customers..."/>
                    </group>
                    
                    <notebook>
                        <page string="Preview" name="preview">
                            <group>
                                <group string="How it appears in Messenger">
                                    <div class="alert alert-info" role="alert">
                                        <h4>Quick Reply Button:</h4>
                                        <p>
                                            <strong>
                                                <field name="quick_reply_title" readonly="1"/>
                                            </strong>
                                        </p>
                                        
                                        <h4>Product Message:</h4>
                                        <p>
                                            ğŸ›ï¸ <field name="product_id" readonly="1"/><br/>
                                            ğŸ’° GiÃ¡: <field name="price" readonly="1"/> 
                                            <field name="currency_id" readonly="1"/><br/>
                                            ğŸ“ <field name="description" readonly="1"/>
                                        </p>
                                    </div>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER PRODUCT - KANBAN VIEW                                       -->
    <!-- ===================================================================== -->
    <record id="social_messenger_product_view_kanban" model="ir.ui.view">
        <field name="name">social.messenger.product.kanban</field>
        <field name="model">social.messenger.product</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_mobile">
                <field name="product_id"/>
                <field name="quick_reply_title"/>
                <field name="price"/>
                <field name="currency_id"/>
                <field name="active"/>
                <field name="order_count"/>
                
                <templates>
                    <t t-name="card" t-translation="off">
                        <div class="oe_kanban_global_click">
                            <div class="o_kanban_record_top">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title">
                                        <field name="product_id"/>
                                    </strong>
                                </div>
                                <span class="badge rounded-pill" 
                                      t-att-class="record.active.raw_value ? 'text-bg-success' : 'text-bg-secondary'">
                                    <t t-if="record.active.raw_value">Active</t>
                                    <t t-else="">Inactive</t>
                                </span>
                            </div>
                            <div class="o_kanban_record_body">
                                <field name="quick_reply_title"/>
                            </div>
                            <div class="o_kanban_record_bottom">
                                <div class="oe_kanban_bottom_left">
                                    <field name="price" widget="monetary"/>
                                </div>
                                <div class="oe_kanban_bottom_right">
                                    <i class="fa fa-shopping-cart"/> 
                                    <field name="order_count"/> orders
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER PRODUCT - SEARCH VIEW                                       -->
    <!-- ===================================================================== -->
    <record id="social_messenger_product_view_search" model="ir.ui.view">
        <field name="name">social.messenger.product.search</field>
        <field name="model">social.messenger.product</field>
        <field name="arch" type="xml">
            <search string="Search Products">
                <field name="product_id"/>
                <field name="quick_reply_title"/>
                
                <filter string="Active" name="filter_active" 
                        domain="[('active', '=', True)]"/>
                <filter string="Inactive" name="filter_inactive" 
                        domain="[('active', '=', False)]"/>
                <separator/>
                
                <!-- XÃ“A FILTER "Has Orders" VÃŒ order_count LÃ€ COMPUTED FIELD -->
                
                <filter string="Group By Product" name="group_product" 
                        context="{'group_by': 'product_id'}"/>
            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER PRODUCT - ACTION                                            -->
    <!-- ===================================================================== -->
    <record id="action_social_messenger_product" model="ir.actions.act_window">
        <field name="name">Messenger Products</field>
        <field name="res_model">social.messenger.product</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="search_view_id" ref="social_messenger_product_view_search"/>
        <field name="context">{'search_default_filter_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No products configured for Messenger!
            </p>
            <p>
                Add products to sell via Facebook Messenger chatbot.
            </p>
            <p>
                <strong>Only active products will appear in the chatbot.</strong>
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 321: social_post_calendar_views.xml
## ÄÆ°á»ng dáº«n: views/social_post_calendar_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="social_post_view_calendar" model="ir.ui.view">
        <field name="name">social.post.calendar</field>
        <field name="model">social.post</field>
        <field name="arch" type="xml">
            <calendar
                string="Content Calendar"
                date_start="scheduled_date"
                mode="month"
                color="state"
                quick_create="0"
                event_open_popup="1">
                
                <!-- Required fields for calendar -->
                <field name="content"/>
                <field name="account_id"/>
                <field name="state"/>
                
            </calendar>
        </field>
    </record>

    <record id="action_social_post_calendar" model="ir.actions.act_window">
        <field name="name">Content Calendar</field>
        <field name="res_model">social.post</field>
        <field name="view_mode">calendar,tree,form</field>
        <field name="domain">[('scheduled_date', '!=', False)]</field>
        <field name="context">{'default_post_type': 'scheduled'}</field>
    </record>

</odoo>



################################################################################
## FILE 322: social_post_template_views.xml
## ÄÆ°á»ng dáº«n: views/social_post_template_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST TEMPLATE - LIST VIEW                                      -->
    <!-- ===================================================================== -->
    <record id="social_post_template_view_tree" model="ir.ui.view">
        <field name="name">social.post.template.list</field>
        <field name="model">social.post.template</field>
        <field name="arch" type="xml">
            <list string="Post Templates" decoration-muted="not active">
                <field name="name"/>
                <field name="template_type" widget="badge"/>
                <field name="description"/>
                <field name="active" column_invisible="1"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST TEMPLATE - FORM VIEW                                      -->
    <!-- ===================================================================== -->
    <record id="social_post_template_view_form" model="ir.ui.view">
        <field name="name">social.post.template.form</field>
        <field name="model">social.post.template</field>
        <field name="arch" type="xml">
            <form string="Post Template">
                <sheet>
                    <div class="oe_title">
                        <label for="name" string="Template Name"/>
                        <h1>
                            <field name="name" placeholder="Enter template name..."/>
                        </h1>
                    </div>
                    <group>
                        <group string="Template Info">
                            <field name="template_type"/>
                            <field name="active" widget="boolean_toggle"/>
                            <field name="company_id" groups="base.group_multi_company"/>
                        </group>
                        <group string="Description">
                            <field name="description" nolabel="1" placeholder="Optional description..."/>
                        </group>
                    </group>
                    <group string="Content Template">
                        <field name="content" nolabel="1" placeholder="Enter your template content here. Use {{variable_name}} for dynamic content..."/>
                    </group>
                    <div class="mt-3">
                        <button name="action_use_template" type="object"
                                string="Use This Template" class="btn-primary"/>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST TEMPLATE - KANBAN VIEW (FIXED FOR ODOO 19)                -->
    <!-- ===================================================================== -->
    <record id="social_post_template_view_kanban" model="ir.ui.view">
        <field name="name">social.post.template.kanban</field>
        <field name="model">social.post.template</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name"/>
                <field name="template_type"/>
                <field name="content"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_content">
                            <div class="o_kanban_record_top">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title">
                                        <field name="name"/>
                                    </strong>
                                </div>
                            </div>
                            <div class="o_kanban_record_body">
                                <div>Type: <field name="template_type"/></div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST TEMPLATE - SEARCH VIEW                                    -->
    <!-- ===================================================================== -->
    <record id="social_post_template_view_search" model="ir.ui.view">
        <field name="name">social.post.template.search</field>
        <field name="model">social.post.template</field>
        <field name="arch" type="xml">
            <search string="Search Templates">
                <field name="name"/>
                <field name="content"/>
                <filter string="Active" name="filter_active" domain="[('active', '=', True)]"/>
<!-- Group By -->
                <filter string="Group By Type" name="group_type" context="{'group_by': 'template_type'}"/>
            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST TEMPLATE - ACTION                                         -->
    <!-- ===================================================================== -->
    <record id="action_social_post_template" model="ir.actions.act_window">
        <field name="name">Post Templates</field>
        <field name="res_model">social.post.template</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="search_view_id" ref="social_post_template_view_search"/>
        <field name="context">{'search_default_filter_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first post template!
            </p>
            <p>
                Templates help you quickly create consistent social media posts.
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 323: social_post_views.xml
## ÄÆ°á»ng dáº«n: views/social_post_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>
    

    <!-- ===================================================================== -->
    <!-- SOCIAL POST - LIST VIEW                                               -->
    <!-- ===================================================================== -->
    <record id="social_post_view_tree" model="ir.ui.view">
        <field name="name">social.post.list</field>
        <field name="model">social.post</field>
        <field name="arch" type="xml">
            <list string="Facebook Posts" 
                  decoration-success="state == 'published'"
                  decoration-info="state == 'scheduled'"
                  decoration-danger="state == 'failed'">
                <field name="account_id"/>
                <field name="content"/>
                <field name="state" widget="badge"
                       decoration-success="state == 'published'"
                       decoration-info="state == 'scheduled'"
                       decoration-danger="state == 'failed'"
                       decoration-warning="state == 'draft'"/>
                <field name="scheduled_date" optional="show"/>
                <field name="published_date" optional="show"/>
                <field name="likes_count"/>
                <field name="comments_count"/>
                <field name="shares_count"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST - FORM VIEW (FIXED FOR ODOO 19)                           -->
    <!-- ===================================================================== -->
    <record id="social_post_view_form" model="ir.ui.view">
        <field name="name">social.post.form</field>
        <field name="model">social.post</field>
        <field name="arch" type="xml">
            <form string="Facebook Post">
                <header>
                    <button name="action_publish_now" type="object"
                            string="Publish Now" class="btn-primary"
                            invisible="state != 'draft'"/>
                    <button name="action_schedule_post" type="object"
                            string="Schedule" class="btn-secondary"
                            invisible="state != 'draft'"/>
                    <button name="action_sync_stats" type="object"
                            string="Sync Stats" class="btn-secondary"
                            invisible="state != 'published'"/>
                                <!-- NÃšT Má»šI: SYNC COMMENTS -->
                    <button name="action_sync_comments" type="object"
                            string="Sync Comments" class="btn-secondary"
                            invisible="state != 'published'"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,scheduled,published"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_comments" type="object"
                                class="oe_stat_button" icon="fa-comments"
                                invisible="comments_count == 0">
                            <field name="comments_count" widget="statinfo" string="Comments"/>
                        </button>
                    </div>
                    
                    <group>
                        <group string="Post Information">
                            <field name="account_id" options="{'no_create': True}"/>
                            <field name="post_type" widget="radio"/>
                            <field name="scheduled_date" invisible="post_type != 'scheduled'"/>
                            <field name="user_id" readonly="1"/>
                        </group>
                        <group string="Engagement Stats" invisible="state != 'published'">
                            <field name="likes_count" readonly="1"/>
                            <field name="comments_count" readonly="1"/>
                            <field name="shares_count" readonly="1"/>
                            <field name="engagement_rate" readonly="1"/>
                        </group>
                    </group>
                    
                    <group string="Content">
                        <field name="content" nolabel="1" placeholder="What do you want to share?"/>
                    </group>
                    
                    <group string="Media">
                        <group>
                            <field name="media_type" widget="radio"/>
                        </group>
                        <group>
                            <field name="image" widget="image" invisible="media_type != 'photo'" class="oe_avatar"/>
                            <field name="link_url" invisible="media_type != 'link'" placeholder="https://..."/>
                            <field name="video_url" invisible="media_type != 'video'" placeholder="https://..."/>
                        </group>
                    </group>
                    
                    <notebook invisible="state == 'draft'">
                        <page string="Facebook Info" name="fb_info" invisible="not facebook_post_id">
                            <group>
                                <group>
                                    <field name="facebook_post_id" readonly="1"/>
                                    <field name="facebook_post_url" widget="url" readonly="1"/>
                                </group>
                                <group>
                                    <field name="published_date" readonly="1"/>
                                    <field name="reach" readonly="1"/>
                                    <field name="impressions" readonly="1"/>
                                </group>
                            </group>
                        </page>
                        <page string="Error Log" name="errors" invisible="not error_message">
                            <group>
                                <field name="error_message" nolabel="1" readonly="1"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST - KANBAN VIEW (FIXED FOR ODOO 19)                         -->
    <!-- ===================================================================== -->
    <record id="social_post_view_kanban" model="ir.ui.view">
        <field name="name">social.post.kanban</field>
        <field name="model">social.post</field>
        <field name="arch" type="xml">
            <kanban default_group_by="state">
                <field name="content"/>
                <field name="state"/>
                <field name="account_id"/>
                <field name="likes_count"/>
                <field name="comments_count"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_content">
                            <div class="o_kanban_record_top">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title">
                                        <field name="account_id"/>
                                    </strong>
                                </div>
                            </div>
                            <div class="o_kanban_record_body">
                                <field name="content"/>
                            </div>
                            <div class="o_kanban_record_bottom">
                                <div class="oe_kanban_bottom_left">
                                    <span><field name="likes_count"/> likes</span>
                                </div>
                                <div class="oe_kanban_bottom_right">
                                    <span><field name="comments_count"/> comments</span>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST - SEARCH VIEW                                             -->
    <!-- ===================================================================== -->
    <record id="social_post_view_search" model="ir.ui.view">
        <field name="name">social.post.search</field>
        <field name="model">social.post</field>
        <field name="arch" type="xml">
            <search string="Search Posts">
                <field name="content"/>
                <field name="account_id"/>
                <filter string="Draft" name="filter_draft" domain="[('state', '=', 'draft')]"/>
                <filter string="Scheduled" name="filter_scheduled" domain="[('state', '=', 'scheduled')]"/>
                <filter string="Published" name="filter_published" domain="[('state', '=', 'published')]"/>
                <filter string="Failed" name="filter_failed" domain="[('state', '=', 'failed')]"/>
                <filter string="Group By Status" name="group_state" context="{'group_by': 'state'}"/>
                <filter string="Group By Page" name="group_account" context="{'group_by': 'account_id'}"/>

            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST - ACTION                                                  -->
    <!-- ===================================================================== -->
    <record id="action_social_post" model="ir.actions.act_window">
        <field name="name">Facebook Posts</field>
        <field name="res_model">social.post</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="search_view_id" ref="social_post_view_search"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first Facebook post!
            </p>
            <p>
                Click the "New" button to create a new post.
            </p>
        </field>
    </record>
    
</odoo>



################################################################################
## FILE 324: __init__.py
## ÄÆ°á»ng dáº«n: wizard/__init__.py
################################################################################

from . import post_composer_wizard
from . import bulk_schedule_wizard



################################################################################
## FILE 325: bulk_schedule_wizard.py
## ÄÆ°á»ng dáº«n: wizard/bulk_schedule_wizard.py
################################################################################

from odoo import models, fields, api, _
from odoo.exceptions import UserError, ValidationError
from datetime import timedelta
import logging

_logger = logging.getLogger(__name__)


class BulkScheduleWizard(models.TransientModel):
    _name = 'social.bulk.schedule.wizard'
    _description = 'Bulk Post Scheduler Wizard'

    account_ids = fields.Many2many('social.account', string='Facebook Pages', required=True,
                                    domain=[('platform', '=', 'facebook'), ('state', '=', 'connected')])
    post_template_ids = fields.Many2many('social.post.template', string='Post Templates')
    
    schedule_type = fields.Selection([
        ('specific', 'Specific Dates'),
        ('recurring', 'Recurring Schedule'),
    ], string='Schedule Type', default='specific', required=True)
    
    start_date = fields.Datetime(string='Start Date', default=lambda self: fields.Datetime.now() + timedelta(hours=1))
    end_date = fields.Datetime(string='End Date')
    time_slots = fields.Text(string='Time Slots', default='09:00\n12:00\n15:00\n18:00')
    
    frequency = fields.Selection([
        ('daily', 'Daily'),
        ('weekly', 'Weekly'),
        ('monthly', 'Monthly'),
    ], string='Frequency', default='daily')
    
    interval = fields.Integer(string='Every', default=1)
    
    weekday_monday = fields.Boolean(string='Monday', default=True)
    weekday_tuesday = fields.Boolean(string='Tuesday', default=True)
    weekday_wednesday = fields.Boolean(string='Wednesday', default=True)
    weekday_thursday = fields.Boolean(string='Thursday', default=True)
    weekday_friday = fields.Boolean(string='Friday', default=True)
    weekday_saturday = fields.Boolean(string='Saturday', default=False)
    weekday_sunday = fields.Boolean(string='Sunday', default=False)
    
    day_of_month = fields.Integer(string='Day of Month', default=1)
    posting_times = fields.Text(string='Daily Posting Times', default='09:00\n15:00')
    duration_days = fields.Integer(string='Duration (Days)', default=30)
    
    content_rotation = fields.Selection([
        ('sequential', 'Sequential'),
        ('random', 'Random'),
    ], string='Content Rotation', default='sequential')
    
    preview_count = fields.Integer(string='Posts to Create', compute='_compute_preview_count')
    
    @api.depends('account_ids', 'post_template_ids', 'schedule_type', 'start_date', 'end_date', 'duration_days')
    def _compute_preview_count(self):
        for wizard in self:
            try:
                schedule = wizard._generate_schedule()
                wizard.preview_count = len(schedule) * len(wizard.account_ids)
            except:
                wizard.preview_count = 0
    
    def _get_selected_weekdays(self):
        self.ensure_one()
        weekdays = []
        if self.weekday_monday: weekdays.append(0)
        if self.weekday_tuesday: weekdays.append(1)
        if self.weekday_wednesday: weekdays.append(2)
        if self.weekday_thursday: weekdays.append(3)
        if self.weekday_friday: weekdays.append(4)
        if self.weekday_saturday: weekdays.append(5)
        if self.weekday_sunday: weekdays.append(6)
        return weekdays
    
    def _parse_time_slots(self, time_text):
        times = []
        for line in (time_text or '').split('\n'):
            line = line.strip()
            if not line:
                continue
            try:
                hour, minute = map(int, line.split(':'))
                if 0 <= hour <= 23 and 0 <= minute <= 59:
                    times.append((hour, minute))
            except:
                pass
        return times if times else [(9, 0)]
    
    def _generate_schedule(self):
        self.ensure_one()
        schedule = []
        
        if not self.start_date:
            return schedule
        
        if self.schedule_type == 'specific':
            current = self.start_date
            end = self.end_date or (self.start_date + timedelta(days=30))
            times = self._parse_time_slots(self.time_slots)
            
            while current <= end:
                for hour, minute in times:
                    scheduled_time = current.replace(hour=hour, minute=minute, second=0, microsecond=0)
                    if scheduled_time > fields.Datetime.now():
                        schedule.append(scheduled_time)
                current += timedelta(days=1)
        else:
            current = self.start_date
            end_date = current + timedelta(days=self.duration_days)
            times = self._parse_time_slots(self.posting_times)
            selected_weekdays = self._get_selected_weekdays()
            
            while current <= end_date:
                should_post = False
                if self.frequency == 'daily':
                    should_post = True
                elif self.frequency == 'weekly':
                    should_post = current.weekday() in selected_weekdays
                elif self.frequency == 'monthly':
                    should_post = current.day == self.day_of_month
                
                if should_post:
                    for hour, minute in times:
                        scheduled_time = current.replace(hour=hour, minute=minute, second=0, microsecond=0)
                        if scheduled_time > fields.Datetime.now():
                            schedule.append(scheduled_time)
                
                current += timedelta(days=1)
        
        return sorted(schedule)
    
    def action_schedule_posts(self):
        self.ensure_one()
        
        if not self.account_ids:
            raise UserError(_('Please select at least one Facebook Page!'))
        if not self.post_template_ids:
            raise UserError(_('Please select at least one post template!'))
        
        schedule = self._generate_schedule()
        if not schedule:
            raise UserError(_('No valid schedule dates found!'))
        
        created_posts = self.env['social.post']
        template_index = 0
        templates_list = list(self.post_template_ids)
        
        for scheduled_time in schedule:
            template = templates_list[template_index % len(templates_list)]
            template_index += 1
            
            for account in self.account_ids:
                post = self.env['social.post'].create({
                    'account_id': account.id,
                    'content': template.content,
                    'post_type': 'scheduled',
                    'scheduled_date': scheduled_time,
                    'state': 'scheduled',
                })
                created_posts |= post
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Success'),
                'message': _('Successfully scheduled %d posts!') % len(created_posts),
                'type': 'success',
                'sticky': False,
            }
        }




################################################################################
## FILE 326: post_composer_wizard.py
## ÄÆ°á»ng dáº«n: wizard/post_composer_wizard.py
################################################################################

from odoo import models, fields, api, _
from odoo.exceptions import UserError, ValidationError
import logging

_logger = logging.getLogger(__name__)


class PostComposerWizard(models.TransientModel):
    """
    Wizard Ä‘á»ƒ táº¡o vÃ  Ä‘Äƒng bÃ i nhanh lÃªn Facebook.
    Cho phÃ©p publish ngay hoáº·c lÃªn lá»‹ch.
    """
    _name = 'social.post.composer.wizard'
    _description = 'Quick Post Composer Wizard'

    # -------------------------------------------------------------------------
    # BASIC FIELDS
    # -------------------------------------------------------------------------
    account_ids = fields.Many2many(
        'social.account',
        string='Facebook Pages',
        required=True,
        domain=[('platform', '=', 'facebook'), ('state', '=', 'connected')],
        help='Select which pages to post to'
    )
    
    content = fields.Text(
        string='Post Content',
        required=True,
        help='What do you want to share?'
    )
    
    template_id = fields.Many2one(
        'social.post.template',
        string='Use Template',
        help='Select a template to start with'
    )
    
    # -------------------------------------------------------------------------
    # MEDIA
    # -------------------------------------------------------------------------
    media_type = fields.Selection([
        ('text', 'Text Only'),
        ('photo', 'Photo'),
        ('link', 'Link'),
    ], string='Post Type', default='text', required=True)
    
    image = fields.Binary(
        string='Image',
        attachment=True,
    )
    
    image_filename = fields.Char(string='Image Filename')
    
    link_url = fields.Char(
        string='Link URL',
        help='Share a link (optional)'
    )
    
    # -------------------------------------------------------------------------
    # SCHEDULING
    # -------------------------------------------------------------------------
    post_method = fields.Selection([
        ('now', 'Publish Now'),
        ('scheduled', 'Schedule for Later'),
    ], string='When to Post', default='now', required=True)
    
    scheduled_date = fields.Datetime(
        string='Schedule Date',
        help='When should this post be published?'
    )
    
    # -------------------------------------------------------------------------
    # PREVIEW
    # -------------------------------------------------------------------------
    preview_text = fields.Html(
        string='Preview',
        compute='_compute_preview_text',
        sanitize=False,
    )
    
    character_count = fields.Integer(
        string='Characters',
        compute='_compute_character_count',
    )
    
    # -------------------------------------------------------------------------
    # STATS
    # -------------------------------------------------------------------------
    page_count = fields.Integer(
        string='Number of Pages',
        compute='_compute_page_count',
    )
    
    # -------------------------------------------------------------------------
    # COMPUTE METHODS
    # -------------------------------------------------------------------------
    @api.onchange('template_id')
    def _onchange_template_id(self):
        """Load template content"""
        if self.template_id:
            self.content = self.template_id.content
    
    @api.depends('content')
    def _compute_character_count(self):
        """Count characters in content"""
        for wizard in self:
            wizard.character_count = len(wizard.content or '')
    
    @api.depends('account_ids')
    def _compute_page_count(self):
        """Count selected pages"""
        for wizard in self:
            wizard.page_count = len(wizard.account_ids)
    
    @api.depends('content', 'link_url', 'media_type')
    def _compute_preview_text(self):
        """Generate preview of the post"""
        for wizard in self:
            preview = '<div style="border: 1px solid #e0e0e0; padding: 15px; border-radius: 8px; background-color: #f9f9f9;">'
            preview += '<div style="margin-bottom: 10px;">'
            preview += '<i class="fa fa-facebook-square" style="color: #1877f2; font-size: 20px;"></i> '
            preview += '<strong>Facebook Post Preview</strong>'
            preview += '</div>'
            
            if wizard.content:
                preview += f'<p style="white-space: pre-wrap; margin-bottom: 10px;">{wizard.content}</p>'
            
            if wizard.link_url:
                preview += f'<div style="border: 1px solid #ddd; padding: 10px; border-radius: 5px; background-color: #fff;">'
                preview += f'<i class="fa fa-link"></i> <a href="{wizard.link_url}" target="_blank">{wizard.link_url}</a>'
                preview += '</div>'
            
            if wizard.media_type == 'photo':
                preview += '<div style="margin-top: 10px;">'
                preview += '<i class="fa fa-camera"></i> <em>Image will be attached</em>'
                preview += '</div>'
            
            preview += '</div>'
            wizard.preview_text = preview
    
    # -------------------------------------------------------------------------
    # VALIDATION
    # -------------------------------------------------------------------------
    @api.constrains('scheduled_date', 'post_method')
    def _check_scheduled_date(self):
        """Validate scheduled date"""
        for wizard in self:
            if wizard.post_method == 'scheduled':
                if not wizard.scheduled_date:
                    raise ValidationError(_('Please set a scheduled date!'))
                if wizard.scheduled_date <= fields.Datetime.now():
                    raise ValidationError(_('Scheduled date must be in the future!'))
    
    @api.constrains('content')
    def _check_content_length(self):
        """Check content length"""
        for wizard in self:
            if wizard.content and len(wizard.content) > 63206:
                raise ValidationError(_('Facebook posts are limited to 63,206 characters!'))
    
    # -------------------------------------------------------------------------
    # ACTIONS
    # -------------------------------------------------------------------------
    def action_publish(self):
        """Create and publish/schedule posts"""
        self.ensure_one()
        
        if not self.account_ids:
            raise UserError(_('Please select at least one Facebook Page!'))
        
        created_posts = self.env['social.post']
        
        for account in self.account_ids:
            post_vals = {
                'account_id': account.id,
                'content': self.content,
                'media_type': self.media_type,
                'link_url': self.link_url,
                'post_type': self.post_method,
            }
            
            if self.media_type == 'photo' and self.image:
                post_vals.update({
                    'image': self.image,
                    'image_filename': self.image_filename,
                })
            
            if self.post_method == 'scheduled':
                post_vals['scheduled_date'] = self.scheduled_date
            
            post = self.env['social.post'].create(post_vals)
            created_posts |= post
            
            # If publish now, trigger publish action
            if self.post_method == 'now':
                try:
                    post.action_publish_now()
                except Exception as e:
                    _logger.error(f'Error publishing post {post.id}: {e}')
                    raise UserError(_('Error publishing to %s: %s') % (account.name, str(e)))
            else:
                post.state = 'scheduled'
        
        # Show success notification
        message = _('Successfully created %d post(s)!') % len(created_posts)
        if self.post_method == 'now':
            message = _('Successfully published to %d page(s)!') % len(self.account_ids)
        else:
            message = _('Successfully scheduled %d post(s) for %s') % (
                len(created_posts), 
                self.scheduled_date.strftime('%Y-%m-%d %H:%M')
            )
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Success'),
                'message': message,
                'type': 'success',
                'sticky': False,
                'next': {
                    'type': 'ir.actions.act_window',
                    'res_model': 'social.post',
                    'view_mode': 'list,form',
                    'domain': [('id', 'in', created_posts.ids)],
                }
            }
        }
    
    def action_preview(self):
        """Show preview of the post"""
        self.ensure_one()
        return {
            'type': 'ir.actions.act_window',
            'name': _('Post Preview'),
            'res_model': 'social.post.composer.wizard',
            'view_mode': 'form',
            'res_id': self.id,
            'target': 'new',
        }




################################################################################
## FILE 327: wizard_views.xml
## ÄÆ°á»ng dáº«n: wizard/wizard_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="post_composer_wizard_view_form" model="ir.ui.view">
        <field name="name">social.post.composer.wizard.form</field>
        <field name="model">social.post.composer.wizard</field>
        <field name="arch" type="xml">
            <form string="Quick Post Composer">
                <sheet>
                    <group>
                        <group string="Select Pages">
                            <field name="account_ids" widget="many2many_tags"/>
                        </group>
                        <group string="Options">
                            <field name="template_id"/>
                            <field name="post_method" widget="radio"/>
                        </group>
                    </group>
                    <group string="Content">
                        <field name="content" nolabel="1"/>
                    </group>
                    <group>
                        <group string="Media">
                            <field name="media_type" widget="radio"/>
                            <field name="image" widget="image" invisible="media_type != 'photo'"/>
                            <field name="link_url" invisible="media_type != 'link'"/>
                        </group>
                        <group string="Scheduling" invisible="post_method != 'scheduled'">
                            <field name="scheduled_date"/>
                        </group>
                    </group>
                </sheet>
                <footer>
                    <button name="action_publish" type="object" string="Publish/Schedule" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="action_post_composer_wizard" model="ir.actions.act_window">
        <field name="name">Create Post</field>
        <field name="res_model">social.post.composer.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

    <record id="bulk_schedule_wizard_view_form" model="ir.ui.view">
        <field name="name">social.bulk.schedule.wizard.form</field>
        <field name="model">social.bulk.schedule.wizard</field>
        <field name="arch" type="xml">
            <form string="Bulk Post Scheduler">
                <sheet>
                    <group>
                        <group string="Select Pages">
                            <field name="account_ids" widget="many2many_tags"/>
                        </group>
                        <group string="Select Templates">
                            <field name="post_template_ids" widget="many2many_tags"/>
                            <field name="content_rotation" widget="radio"/>
                        </group>
                    </group>
                    <group string="Schedule Type">
                        <field name="schedule_type" widget="radio"/>
                    </group>
                    <group invisible="schedule_type != 'specific'">
                        <group string="Date Range">
                            <field name="start_date"/>
                            <field name="end_date"/>
                        </group>
                        <group string="Time Slots">
                            <field name="time_slots" nolabel="1"/>
                        </group>
                    </group>
                    <group invisible="schedule_type != 'recurring'">
                        <group string="Frequency">
                            <field name="frequency" widget="radio"/>
                            <field name="interval"/>
                            <field name="duration_days"/>
                            <field name="day_of_month" invisible="frequency != 'monthly'"/>
                        </group>
                        <group string="Posting Times">
                            <field name="posting_times" nolabel="1"/>
                        </group>
                    </group>
                    <group string="Weekdays" invisible="schedule_type != 'recurring' or frequency != 'weekly'">
                        <group>
                            <field name="weekday_monday"/>
                            <field name="weekday_tuesday"/>
                            <field name="weekday_wednesday"/>
                            <field name="weekday_thursday"/>
                        </group>
                        <group>
                            <field name="weekday_friday"/>
                            <field name="weekday_saturday"/>
                            <field name="weekday_sunday"/>
                        </group>
                    </group>
                    <group string="Preview">
                        <field name="preview_count" readonly="1"/>
                    </group>
                </sheet>
                <footer>
                    <button name="action_schedule_posts" type="object" string="Schedule All Posts" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="action_bulk_schedule_wizard" model="ir.actions.act_window">
        <field name="name">Bulk Schedule Posts</field>
        <field name="res_model">social.bulk.schedule.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

</odoo>






################################################################################
## FILE 29: ok.py
## ÄÆ°á»ng dáº«n: ok.py
################################################################################

lol



################################################################################
## FILE 30: ir.model.access.csv
## ÄÆ°á»ng dáº«n: security/ir.model.access.csv
################################################################################

id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
access_social_account_user,social.account.user,model_social_account,base.group_user,1,1,1,1
access_social_post_user,social.post.user,model_social_post,base.group_user,1,1,1,1
access_social_comment_user,social.comment.user,model_social_comment,base.group_user,1,1,1,1
access_social_message_user,social.message.user,model_social_message,base.group_user,1,1,1,1
access_social_analytics_user,social.analytics.user,model_social_analytics,base.group_user,1,0,0,0
access_social_post_template_user,social.post.template.user,model_social_post_template,base.group_user,1,1,1,1
access_social_messenger_product_user,social.messenger.product.user,model_social_messenger_product,base.group_user,1,1,1,1
access_social_messenger_order_user,social.messenger.order.user,model_social_messenger_order,base.group_user,1,1,1,1
access_social_conversation_user,social.conversation.user,model_social_conversation,base.group_user,1,1,1,1

access_social_chatbot_automation_user,access_social_chatbot_automation_user,model_social_chatbot_automation,base.group_user,1,0,0,0
access_social_chatbot_automation_manager,access_social_chatbot_automation_manager,model_social_chatbot_automation,group_social_facebook_manager,1,1,1,1



################################################################################
## FILE 31: social_security.xml
## ÄÆ°á»ng dáº«n: security/social_security.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->
    <!-- USER GROUPS                                                        -->
    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->
    
    <!-- âœ… Sá»¬A: Äá»•i tÃªn group cho khá»›p vá»›i ir.model.access.csv -->
    <record id="group_social_facebook_user" model="res.groups">
        <field name="name">Social Media User</field>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        <field name="comment">CÃ³ thá»ƒ xem vÃ  táº¡o bÃ i Ä‘Äƒng trÃªn Facebook</field>
    </record>

    <record id="group_social_facebook_manager" model="res.groups">
        <field name="name">Social Media Manager</field>
        <field name="implied_ids" eval="[(4, ref('group_social_facebook_user'))]"/>
        <field name="comment">CÃ³ thá»ƒ quáº£n lÃ½ táº¥t cáº£ cáº¥u hÃ¬nh vÃ  tÃ i khoáº£n Facebook</field>
    </record>

    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->
    <!-- RECORD RULES                                                       -->
    <!-- â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” -->
    
    <!-- Social Account Rules -->
    <record id="social_account_rule_user" model="ir.rule">
        <field name="name">Social Account: User Access</field>
        <field name="model_id" ref="model_social_account"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>

    <!-- Social Post Rules -->
    <record id="social_post_rule_user" model="ir.rule">
        <field name="name">Social Post: User Access</field>
        <field name="model_id" ref="model_social_post"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>

    <!-- Social Comment Rules -->
    <record id="social_comment_rule_user" model="ir.rule">
        <field name="name">Social Comment: User Access</field>
        <field name="model_id" ref="model_social_comment"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>

    <!-- Social Conversation Rules -->
    <record id="social_conversation_rule_user" model="ir.rule">
        <field name="name">Social Conversation: User Access</field>
        <field name="model_id" ref="model_social_conversation"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>
    
    <!-- Social Message Rules -->
    <record id="social_message_rule_user" model="ir.rule">
        <field name="name">Social Message: User Access</field>
        <field name="model_id" ref="model_social_message"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>

    <!-- Social Chatbot Automation Rules -->
    <record id="social_chatbot_automation_rule_user" model="ir.rule">
        <field name="name">Social Chatbot Automation: User Access</field>
        <field name="model_id" ref="model_social_chatbot_automation"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_social_facebook_user'))]"/>
    </record>

</odoo>



################################################################################
## FILE 32: icon.png
## ÄÆ°á»ng dáº«n: static/description/icon.png
################################################################################

[KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file â€“ cÃ³ thá»ƒ lÃ  binary hoáº·c lá»—i mÃ£ hÃ³a]



################################################################################
## FILE 33: social_facebook.css
## ÄÆ°á»ng dáº«n: static/src/css/social_facebook.css
################################################################################

/*
 * CSS for Social Facebook Module
 */

.social_post_card {
    border-left: 4px solid #1877f2;
    transition: transform 0.2s;
}

.social_post_card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.facebook_badge {
    background-color: #1877f2;
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
}

.engagement_stats {
    display: flex;
    gap: 1rem;
}

.engagement_stats .stat {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}



################################################################################
## FILE 34: social_conversation_list.js
## ÄÆ°á»ng dáº«n: static/src/js/social_conversation_list.js
################################################################################

/** @odoo-module **/

import { ListController } from "@web/views/list/list_controller";
import { listView } from "@web/views/list/list_view";
import { registry } from "@web/core/registry";
import { useService } from "@web/core/utils/hooks";

/**
 * Custom List Controller for Social Conversation
 * Adds "Sync All Conversations" button to the toolbar
 */
export class SocialConversationListController extends ListController {
    setup() {
        super.setup();
        this.orm = useService("orm");
        this.action = useService("action");
        this.notification = useService("notification");
    }

    /**
     * Handler for Sync All Conversations button
     */
    async onClickSyncConversations() {
        // Show loading notification
        this.notification.add("Äang Ä‘á»“ng bá»™ conversations tá»« Facebook...", {
            type: "info",
        });

        try {
            // Call the server method
            const result = await this.orm.call(
                "social.conversation",
                "action_sync_all_conversations",
                [[]]
            );

            // Reload the list view
            await this.model.load();

            // Show success notification
            if (result && result.params) {
                this.notification.add(result.params.message, {
                    type: result.params.type || "success",
                    sticky: result.params.sticky || false,
                });
            } else {
                this.notification.add("Äá»“ng bá»™ hoÃ n táº¥t!", {
                    type: "success",
                });
            }
        } catch (error) {
            console.error("Error syncing conversations:", error);
            this.notification.add("Lá»—i khi Ä‘á»“ng bá»™: " + (error.message || error), {
                type: "danger",
                sticky: true,
            });
        }
    }
}

// Define the template with the sync button
SocialConversationListController.template = "module_social_facebook.SocialConversationListView";

// Create custom list view for social.conversation
export const SocialConversationListView = {
    ...listView,
    Controller: SocialConversationListController,
    buttonTemplate: "module_social_facebook.SocialConversationListView.Buttons",
};

// Register the view
registry.category("views").add("social_conversation_list", SocialConversationListView);



################################################################################
## FILE 35: social_dashboard.js
## ÄÆ°á»ng dáº«n: static/src/js/social_dashboard.js
################################################################################

/** @odoo-module **/

console.log('Social Facebook Dashboard JS loaded');



################################################################################
## FILE 36: social_conversation_templates.xml
## ÄÆ°á»ng dáº«n: static/src/xml/social_conversation_templates.xml
################################################################################

<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- Template for Sync button in list view toolbar -->
    <t t-name="module_social_facebook.SocialConversationListView.Buttons" t-inherit="web.ListView.Buttons">
        <xpath expr="//div[hasclass('o_list_buttons')]" position="inside">
            <button type="button" 
                    class="btn btn-primary o_sync_conversations_button ms-2"
                    t-on-click="() => this.onClickSyncConversations()">
                <i class="fa fa-refresh me-1"/>
                Sync Conversations
            </button>
        </xpath>
    </t>

    <!-- Alternative: Full button template -->
    <t t-name="module_social_facebook.SocialConversationListView">
        <t t-call="web.ListView"/>
    </t>

</templates>



################################################################################
## FILE 37: dashboard_views.xml
## ÄÆ°á»ng dáº«n: views/dashboard_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="action_social_dashboard" model="ir.actions.act_window">
        <field name="name">Social Media Dashboard</field>
        <field name="res_model">social.analytics</field>
        <field name="view_mode">pivot,graph,list</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">Welcome to Social Media Dashboard!</p>
        </field>
    </record>

</odoo>




################################################################################
## FILE 38: menu_views.xml
## ÄÆ°á»ng dáº«n: views/menu_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- ROOT MENU                                                             -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_marketing_root"
              name="Social"
              web_icon="module_social_facebook,static/description/icon.png"
              sequence="100"/>

    <!-- ===================================================================== -->
    <!-- DASHBOARD                                                             -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_dashboard"
              name="Dashboard"
              parent="menu_social_marketing_root"
              action="action_social_dashboard"
              sequence="1"/>

    <!-- ===================================================================== -->
    <!-- FACEBOOK PAGES                                                        -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_accounts"
              name="Facebook Pages"
              parent="menu_social_marketing_root"
              action="action_social_account"
              sequence="10"/>

    <!-- ===================================================================== -->
    <!-- POSTS                                                                 -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_posts"
              name="Posts"
              parent="menu_social_marketing_root"
              sequence="20"/>

    <menuitem id="menu_social_all_posts"
              name="All Posts"
              parent="menu_social_posts"
              action="action_social_post"
              sequence="10"/>

    <menuitem id="menu_social_post_calendar"
              name="Content Calendar"
              parent="menu_social_posts"
              action="action_social_post_calendar"
              sequence="15"/>

    <!-- ===================================================================== -->
    <!-- TEMPLATES                                                             -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_templates"
              name="Templates"
              parent="menu_social_marketing_root"
              action="action_social_post_template"
              sequence="30"/>

    <!-- ===================================================================== -->
    <!-- COMMENTS                                                              -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_comments"
              name="Comments"
              parent="menu_social_marketing_root"
              action="action_social_comment"
              sequence="40"/>

    <!-- ===================================================================== -->
    <!-- CONVERSATIONS                                                         -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_conversations"
              name="Messenger Conversations"
              parent="menu_social_marketing_root"
              action="action_social_conversation"
              sequence="50"/>

    <!-- ===================================================================== -->
    <!-- MESSENGER SALES                                                       -->
    <!-- ===================================================================== -->
    <menuitem id="menu_messenger_sales"
              name="Messenger Sales"
              parent="menu_social_marketing_root"
              sequence="60"/>

    <menuitem id="menu_messenger_products"
              name="Products"
              parent="menu_messenger_sales"
              action="action_social_messenger_product"
              sequence="10"/>

    <menuitem id="menu_messenger_orders"
              name="Orders"
              parent="menu_messenger_sales"
              action="action_social_messenger_order"
              sequence="20"/>

    <!-- ===================================================================== -->
    <!-- ANALYTICS                                                             -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_analytics"
              name="Analytics"
              parent="menu_social_marketing_root"
              action="action_social_analytics"
              sequence="70"/>

    <!-- ===================================================================== -->
    <!-- CONFIGURATION                                                         -->
    <!-- ===================================================================== -->
    <menuitem id="menu_social_configuration"
              name="Configuration"
              parent="menu_social_marketing_root"
              sequence="100"/>

    <!-- âœ… THÃŠM Má»šI: Chatbot Automation submenu -->
    <menuitem id="menu_social_chatbot_automation"
              name="Chatbot Automation"
              parent="menu_social_configuration"
              action="action_social_chatbot_automation"
              sequence="30"/>

</odoo>



################################################################################
## FILE 39: res_config_settings_views.md
## ÄÆ°á»ng dáº«n: views/res_config_settings_views.md
################################################################################

<odoo>

    <record id="res_config_settings_view_form_social_facebook" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.social.facebook</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <!-- FIX: Target vÃ o sheet thay vÃ¬ div[class='settings'] -->
            <xpath expr="//sheet" position="inside">
                
                <div class="app_settings_block" data_key="module_social_facebook" 
                     string="Facebook Integration">
                    <h2>Facebook Integration</h2>
                    
                    <!-- Webhook Configuration -->
                    <div class="row mt16 o_settings_container">
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane"></div>
                            <div class="o_setting_right_pane">
                                <span class="o_form_label">Webhook Configuration</span>
                                <div class="text-muted">
                                    Configure your Facebook webhook settings
                                </div>
                                <div class="content-group mt16">
                                    <div class="row">
                                        <label for="facebook_verify_token" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="facebook_verify_token" 
                                               placeholder="e.g., 16112005"/>
                                    </div>
                                    <div class="row mt8">
                                        <label string="Webhook URL" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="facebook_webhook_url" readonly="1"/>
                                        <button name="action_copy_webhook_url" 
                                                type="object" 
                                                string="Copy URL" 
                                                class="btn-link ml8"
                                                icon="fa-copy"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ngrok Integration -->
                    <div class="row mt16 o_settings_container">
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane"></div>
                            <div class="o_setting_right_pane">
                                <span class="o_form_label">Ngrok Integration</span>
                                <div class="text-muted">
                                    Manage ngrok tunnel for localhost development
                                </div>
                                <div class="content-group mt16">
                                    <div class="row">
                                        <label for="ngrok_executable_path" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="ngrok_executable_path" 
                                               placeholder="C:/ngrok/ngrok.exe"/>
                                    </div>
                                    <div class="row mt8">
                                        <label string="Ngrok Status" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="ngrok_is_running" readonly="1" 
                                               widget="boolean"/>
                                        <span class="ml8" 
                                              invisible="not ngrok_is_running">
                                            âœ… Running
                                        </span>
                                        <span class="ml8 text-muted" 
                                              invisible="ngrok_is_running">
                                            â›” Not Running
                                        </span>
                                    </div>
                                    <div class="row mt8" 
                                         invisible="not ngrok_tunnel_url">
                                        <label string="Public URL" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="ngrok_tunnel_url" readonly="1" 
                                               class="text-primary font-weight-bold"/>
                                    </div>
                                    <div class="row mt16">
                                        <div class="col-lg-3"></div>
                                        <div>
                                            <button name="action_start_ngrok" 
                                                    type="object" 
                                                    string="Start Ngrok" 
                                                    class="btn-primary"
                                                    icon="fa-play"
                                                    invisible="ngrok_is_running"/>
                                            <button name="action_stop_ngrok" 
                                                    type="object" 
                                                    string="Stop Ngrok" 
                                                    class="btn-secondary ml8"
                                                    icon="fa-stop"
                                                    invisible="not ngrok_is_running"/>
                                            <button name="action_refresh_ngrok_url" 
                                                    type="object" 
                                                    string="Refresh" 
                                                    class="btn-link ml8"
                                                    icon="fa-refresh"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- CRM Integration -->
                    <div class="row mt16 o_settings_container">
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane">
                                <field name="auto_create_lead"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="auto_create_lead"/>
                                <div class="text-muted">
                                    Automatically create CRM leads from Messenger conversations
                                </div>
                                <div class="content-group mt16" 
                                     invisible="not auto_create_lead">
                                    <div class="row">
                                        <label for="lead_default_user_id" 
                                               string="Default Salesperson" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="lead_default_user_id"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chatbot Configuration -->
                    <div class="row mt16 o_settings_container">
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane">
                                <field name="chatbot_enabled"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="chatbot_enabled"/>
                                <div class="text-muted">
                                    Enable automatic sales chatbot on Messenger
                                </div>
                                <div class="content-group mt16" 
                                     invisible="not chatbot_enabled">
                                    <div class="row">
                                        <label for="chatbot_welcome_message" 
                                               string="Welcome Message" 
                                               class="col-lg-3 o_light_label"/>
                                        <field name="chatbot_welcome_message" 
                                               widget="text"/>
                                    </div>
                                    <div class="alert alert-info mt16" role="alert">
                                        <strong>Chatbot Flow:</strong><br/>
                                        1. Ask customer name<br/>
                                        2. Ask phone number<br/>
                                        3. Show product catalog<br/>
                                        4. Confirm order<br/>
                                        5. Create sale order automatically
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
                
            </xpath>
        </field>
    </record>

</odoo>



################################################################################
## FILE 40: social_account_views.xml
## ÄÆ°á»ng dáº«n: views/social_account_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ============================================================
         SOCIAL ACCOUNT - LIST VIEW
         ============================================================ -->
    <record id="social_account_view_tree" model="ir.ui.view">
        <field name="name">social.account.list</field>
        <field name="model">social.account</field>
        <field name="arch" type="xml">
            <list string="Facebook Pages" decoration-muted="not active">
                <field name="name"/>
                <field name="facebook_page_id"/>
                <field name="state" widget="badge" decoration-success="state == 'connected'" decoration-danger="state == 'error'" decoration-info="state == 'draft'"/>
                <field name="followers_count"/>
                <field name="likes_count"/>
                <field name="post_count"/>
                <field name="conversation_count"/>
                <field name="last_sync_date"/>
                <field name="last_message_sync_date"/>
                <field name="active" column_invisible="1"/>
            </list>
        </field>
    </record>

    <!-- ============================================================
         SOCIAL ACCOUNT - FORM VIEW (Cáº¬P NHáº¬T Vá»šI NÃšT SYNC CONVERSATIONS)
         ============================================================ -->
    <record id="social_account_view_form" model="ir.ui.view">
        <field name="name">social.account.form</field>
        <field name="model">social.account</field>
        <field name="arch" type="xml">
            <form string="Facebook Page">
                <header>
                    <button name="action_test_connection" type="object" string="Test Connection" class="btn-primary" invisible="state == 'connected'"/>
                    <button name="action_sync_page_info" type="object" string="Sync Page Info" class="btn-secondary" invisible="state != 'connected'"/>
                    <!-- âœ… THÃŠM: NÃšT SYNC CONVERSATIONS -->
                    <button name="action_sync_conversations" type="object" string="ğŸ”„ Sync Conversations" class="btn-primary" invisible="state != 'connected'"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,connected"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_posts" type="object" class="oe_stat_button" icon="fa-newspaper-o">
                            <field name="post_count" widget="statinfo" string="Posts"/>
                        </button>
                        <!-- âœ… THÃŠM: NÃšT XEM CONVERSATIONS -->
                        <button name="action_view_conversations" type="object" class="oe_stat_button" icon="fa-comments">
                            <field name="conversation_count" widget="statinfo" string="Conversations"/>
                        </button>
                    </div>
                    <div class="oe_title">
                        <label for="name"/>
                        <h1>
                            <field name="name" placeholder="Enter Facebook Page Name..."/>
                        </h1>
                    </div>
                    <group>
                        <group string="Facebook Information">
                            <field name="platform" readonly="1"/>
                            <field name="facebook_page_id" placeholder="Enter Page ID..."/>
                            <field name="facebook_page_url" widget="url" readonly="1"/>
                            <field name="page_category" readonly="1"/>
                            <field name="company_id" groups="base.group_multi_company"/>
                            <field name="active" widget="boolean_toggle"/>
                        </group>
                        <group string="Statistics">
                            <field name="followers_count" readonly="1"/>
                            <field name="likes_count" readonly="1"/>
                            <field name="page_rating" readonly="1"/>
                            <field name="last_sync_date" readonly="1"/>
                            <field name="last_message_sync_date" readonly="1"/>
                        </group>
                    </group>
                    <group string="Authentication">
                        <group>
                            <field name="access_token" password="True"/>
                        </group>
                        <group>
                            <field name="token_expires_at"/>
                            <field name="is_token_valid"/>
                        </group>
                    </group>
                    <group string="Settings">
                        <group>
                            <field name="auto_sync_comments"/>
                        </group>
                        <group>
                            <field name="auto_sync_messages"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="About" name="about">
                            <field name="page_about" readonly="1"/>
                        </page>
                        <page string="Error Log" name="errors" invisible="not error_message">
                            <field name="error_message" readonly="1"/>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <!-- ============================================================
         SOCIAL ACCOUNT - KANBAN VIEW
         ============================================================ -->
    <record id="social_account_view_kanban" model="ir.ui.view">
        <field name="name">social.account.kanban</field>
        <field name="model">social.account</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name"/>
                <field name="state"/>
                <field name="followers_count"/>
                <field name="likes_count"/>
                <field name="post_count"/>
                <field name="conversation_count"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_content">
                            <div class="o_kanban_record_top">
                                <strong class="o_kanban_record_title">
                                    <field name="name"/>
                                </strong>
                            </div>
                            <div class="o_kanban_record_body">
                                <div>Status: <field name="state"/></div>
                                <div><field name="followers_count"/> followers</div>
                                <div><field name="likes_count"/> likes</div>
                                <div><field name="post_count"/> posts</div>
                                <div><field name="conversation_count"/> conversations</div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ============================================================
         SOCIAL ACCOUNT - SEARCH VIEW
         ============================================================ -->
    <record id="social_account_view_search" model="ir.ui.view">
        <field name="name">social.account.search</field>
        <field name="model">social.account</field>
        <field name="arch" type="xml">
            <search string="Search Facebook Pages">
                <field name="name"/>
                <field name="facebook_page_id"/>
                <field name="state"/>
                <field name="company_id" groups="base.group_multi_company"/>
                <filter string="Connected" name="filter_connected" domain="[('state', '=', 'connected')]"/>
                <filter string="Draft" name="filter_draft" domain="[('state', '=', 'draft')]"/>
                <filter string="Error" name="filter_error" domain="[('state', '=', 'error')]"/>
                <filter string="Active" name="filter_active" domain="[('active', '=', True)]"/>
                <filter string="Group By Status" name="group_state" context="{'group_by': 'state'}"/>
                <filter string="Group By Company" name="group_company" context="{'group_by': 'company_id'}" groups="base.group_multi_company"/>
            </search>
        </field>
    </record>

    <!-- ============================================================
         SOCIAL ACCOUNT - ACTION
         ============================================================ -->
    <record id="action_social_account" model="ir.actions.act_window">
        <field name="name">Facebook Pages</field>
        <field name="res_model">social.account</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="search_view_id" ref="social_account_view_search"/>
        <field name="context">{'search_default_filter_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Connect your first Facebook Page!
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 41: social_analytics_views.xml
## ÄÆ°á»ng dáº«n: views/social_analytics_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="social_analytics_view_pivot" model="ir.ui.view">
        <field name="name">social.analytics.pivot</field>
        <field name="model">social.analytics</field>
        <field name="arch" type="xml">
            <pivot string="Facebook Analytics">
                <field name="account_id" type="row"/>
                <field name="date" interval="month" type="col"/>
                <field name="total_posts" type="measure"/>
                <field name="total_likes" type="measure"/>
                <field name="total_comments" type="measure"/>
            </pivot>
        </field>
    </record>

    <record id="social_analytics_view_graph" model="ir.ui.view">
        <field name="name">social.analytics.graph</field>
        <field name="model">social.analytics</field>
        <field name="arch" type="xml">
            <graph string="Facebook Analytics" type="line">
                <field name="date" interval="day"/>
                <field name="total_likes" type="measure"/>
                <field name="total_comments" type="measure"/>
            </graph>
        </field>
    </record>

    <record id="social_analytics_view_tree" model="ir.ui.view">
        <field name="name">social.analytics.list</field>
        <field name="model">social.analytics</field>
        <field name="arch" type="xml">
            <list string="Facebook Analytics" create="0" edit="0" delete="0">
                <field name="date"/>
                <field name="account_id"/>
                <field name="total_posts"/>
                <field name="total_likes"/>
                <field name="total_comments"/>
                <field name="total_shares"/>
                <field name="avg_engagement_rate"/>
            </list>
        </field>
    </record>

    <record id="action_social_analytics" model="ir.actions.act_window">
        <field name="name">Facebook Analytics</field>
        <field name="res_model">social.analytics</field>
        <field name="view_mode">pivot,graph,list</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">No analytics data yet!</p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 42: social_chatbot_automation_views.xml
## ÄÆ°á»ng dáº«n: views/social_chatbot_automation_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- TREE VIEW                                                             -->
    <!-- ===================================================================== -->
    <record id="social_chatbot_automation_view_tree" model="ir.ui.view">
        <field name="name">social.chatbot.automation.tree</field>
        <field name="model">social.chatbot.automation</field>
        <field name="arch" type="xml">
            <list string="Chatbot Automation Rules" 
                  decoration-muted="not active">
                <field name="sequence" widget="handle"/>
                <field name="name"/>
                <field name="trigger_keywords"/>
                <field name="priority"/>
                <field name="account_id"/>
                <field name="triggered_count"/>
                <field name="active" widget="boolean_toggle"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- FORM VIEW                                                             -->
    <!-- ===================================================================== -->
    <record id="social_chatbot_automation_view_form" model="ir.ui.view">
        <field name="name">social.chatbot.automation.form</field>
        <field name="model">social.chatbot.automation</field>
        <field name="arch" type="xml">
            <form string="Chatbot Automation Rule">
                <header>
                    <button name="action_test_rule" type="object" 
                            string="Test Rule" class="btn-primary"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_triggered_messages" type="object"
                                class="oe_stat_button" icon="fa-comment">
                            <field name="triggered_count" widget="statinfo" 
                                   string="Triggered"/>
                        </button>
                    </div>
                    <widget name="web_ribbon" title="Archived" 
                            bg_color="text-bg-danger" 
                            invisible="active"/>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="active" invisible="1"/>
                            <field name="account_id"/>
                        </group>
                        <group>
                            <field name="priority"/>
                            <field name="sequence"/>
                            <field name="last_triggered_date" readonly="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Configuration">
                            <group>
                                <field name="trigger_keywords" 
                                       placeholder="mua,Ä‘áº·t hÃ ng,order,buy"/>
                                <field name="response_text" 
                                       widget="text" 
                                       placeholder="Enter response message..."/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SEARCH VIEW                                                           -->
    <!-- ===================================================================== -->
    <record id="social_chatbot_automation_view_search" model="ir.ui.view">
        <field name="name">social.chatbot.automation.search</field>
        <field name="model">social.chatbot.automation</field>
        <field name="arch" type="xml">
            <search string="Search Chatbot Rules">
                <field name="name"/>
                <field name="trigger_keywords"/>
                <field name="account_id"/>
                
                <filter string="Active" name="filter_active" 
                        domain="[('active', '=', True)]"/>
                <filter string="Archived" name="filter_archived" 
                        domain="[('active', '=', False)]"/>
                
                <separator/>
                
                <filter string="Group By Page" name="group_account" 
                        context="{'group_by': 'account_id'}"/>
                <filter string="Group By Priority" name="group_priority" 
                        context="{'group_by': 'priority'}"/>
            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- ACTION                                                                -->
    <!-- ===================================================================== -->
    <record id="action_social_chatbot_automation" model="ir.actions.act_window">
        <field name="name">Chatbot Automation</field>
        <field name="res_model">social.chatbot.automation</field>
        <field name="view_mode">list,form</field>
        <field name="search_view_id" ref="social_chatbot_automation_view_search"/>
        <field name="context">{'search_default_filter_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first chatbot automation rule!
            </p>
            <p>
                Chatbot rules automatically respond to customer messages based on keywords.
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 43: social_comment_views.xml
## ÄÆ°á»ng dáº«n: views/social_comment_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="social_comment_view_tree" model="ir.ui.view">
        <field name="name">social.comment.list</field>
        <field name="model">social.comment</field>
        <field name="arch" type="xml">
            <list string="Facebook Comments" 
                  decoration-muted="is_hidden"
                  decoration-danger="is_spam"
                  decoration-success="replied">
                <field name="comment_date"/>
                <field name="post_id"/>
                <field name="author_name"/>
                <field name="message"/>
                <field name="replied"/>
                <field name="is_hidden" optional="hide"/>
                <field name="is_spam" optional="hide"/>
            </list>
        </field>
    </record>

    <record id="social_comment_view_form" model="ir.ui.view">
        <field name="name">social.comment.form</field>
        <field name="model">social.comment</field>
        <field name="arch" type="xml">
            <form string="Facebook Comment">
                <header>
                    <button name="action_reply" type="object" string="Reply" class="btn-primary" invisible="replied"/>
                    <button name="action_hide" type="object" string="Hide" class="btn-secondary" invisible="is_hidden"/>
                    <button name="action_mark_spam" type="object" string="Mark Spam" class="btn-danger" invisible="is_spam"/>
                </header>
                <sheet>
                    <group>
                        <group string="Comment Info">
                            <field name="post_id"/>
                            <field name="comment_date"/>
                            <field name="facebook_comment_id"/>
                        </group>
                        <group string="Author">
                            <field name="author_name"/>
                            <field name="author_facebook_id"/>
                        </group>
                    </group>
                    <group string="Message">
                        <field name="message" nolabel="1" readonly="1"/>
                    </group>
                    <group string="Reply" invisible="replied">
                        <field name="reply_text" nolabel="1"/>
                    </group>
                    <group string="Status">
                        <field name="replied"/>
                        <field name="is_hidden"/>
                        <field name="is_spam"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_social_comment" model="ir.actions.act_window">
        <field name="name">Facebook Comments</field>
        <field name="res_model">social.comment</field>
        <field name="view_mode">list,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">No comments yet!</p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 44: social_conversation_views.xml
## ÄÆ°á»ng dáº«n: views/social_conversation_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Form View -->
    <record id="social_conversation_view_form" model="ir.ui.view">
        <field name="name">social.conversation.form</field>
        <field name="model">social.conversation</field>
        <field name="arch" type="xml">
            <form string="Messenger Conversation">
                <header>
                    <button name="action_create_lead" type="object" string="Create Lead" class="btn-primary" invisible="lead_id"/>
                    <button name="action_mark_resolved" type="object" string="Mark Resolved" class="btn-success" invisible="state in ['resolved', 'closed']"/>
                    <button name="action_close" type="object" string="Close" class="btn-secondary" invisible="state == 'closed'"/>
                    <button name="action_reopen" type="object" string="Reopen" class="btn-warning" invisible="state != 'closed'"/>
                    <field name="state" widget="statusbar" statusbar_visible="new,ongoing,resolved"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_messages" type="object" class="oe_stat_button" icon="fa-comments">
                            <field name="message_count" widget="statinfo" string="Messages"/>
                        </button>
                    </div>
                    <group>
                        <group string="Customer Information">
                            <field name="customer_name"/>
                            <field name="facebook_psid"/>
                            <field name="customer_phone"/>
                            <field name="customer_email"/>
                        </group>
                        <group string="Conversation Details">
                            <field name="account_id"/>
                            <field name="conversation_id"/>
                            <field name="lead_id"/>
                            <field name="company_id" groups="base.group_multi_company"/>
                        </group>
                    </group>
                    <group>
                        <group string="Tracking">
                            <field name="last_message_date"/>
                            <field name="last_message_from"/>
                            <field name="unread_count"/>
                            <field name="first_response_time"/>
                        </group>
                        <group string="Status">
                            <field name="active"/>
                        </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                </div>
            </form>
        </field>
    </record>

    <!-- List View -->
    <record id="social_conversation_view_list" model="ir.ui.view">
        <field name="name">social.conversation.list</field>
        <field name="model">social.conversation</field>
        <field name="arch" type="xml">
            <list string="Messenger Conversations">
                <field name="customer_name"/>
                <field name="account_id"/>
                <field name="state"/>
                <field name="message_count"/>
                <field name="unread_count"/>
                <field name="last_message_date"/>
                <field name="lead_id"/>
            </list>
        </field>
    </record>

    <!-- Search View - SIMPLIFIED -->
    <record id="social_conversation_view_search" model="ir.ui.view">
        <field name="name">social.conversation.search</field>
        <field name="model">social.conversation</field>
        <field name="arch" type="xml">
            <search>
                <field name="customer_name"/>
                <field name="account_id"/>
                <field name="lead_id"/>
            </search>
        </field>
    </record>

    <!-- Action -->
    <record id="action_social_conversation" model="ir.actions.act_window">
        <field name="name">Messenger Conversations</field>
        <field name="res_model">social.conversation</field>
        <field name="view_mode">list,form</field>
    </record>

</odoo>



################################################################################
## FILE 45: social_message_views.xml
## ÄÆ°á»ng dáº«n: views/social_message_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- MESSAGE (CONVERSATION) - LIST VIEW                                    -->
    <!-- ===================================================================== -->
    <record id="social_message_view_tree" model="ir.ui.view">
        <field name="name">social.message.list</field>
        <field name="model">social.message</field>
        <field name="arch" type="xml">
            <list string="Facebook Conversations" 
                  decoration-info="is_from_customer == False"
                  decoration-muted="is_from_customer == True">
                <field name="account_id"/>
                <field name="facebook_user_id"/>
                <field name="customer_name"/>
                <field name="message"/>
                <field name="created_date"/>
                <field name="last_message_date"/>
                <field name="is_from_customer" widget="boolean"/>
                <field name="chatbot_state" widget="badge"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSAGE - FORM VIEW                                                   -->
    <!-- ===================================================================== -->
    <record id="social_message_view_form" model="ir.ui.view">
        <field name="name">social.message.form</field>
        <field name="model">social.message</field>
        <field name="arch" type="xml">
            <form string="Facebook Message / Conversation">
                <header>
                    <field name="chatbot_state" widget="statusbar" 
                           statusbar_visible="idle,ask_name,ask_phone,show_products,confirm_order,completed"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <label for="facebook_user_id" string="Conversation with"/>
                        <h1>
                            <field name="customer_name" placeholder="Customer Name"/>
                        </h1>
                        <h3>
                            <field name="facebook_user_id" readonly="1"/>
                        </h3>
                    </div>
                    
                    <group>
                        <group string="Conversation Info">
                            <field name="account_id" readonly="1"/>
                            <field name="message_id" readonly="1"/>
                            <field name="is_from_customer" widget="boolean"/>
                        </group>
                        <group string="Timestamps">
                            <field name="created_date" readonly="1"/>
                            <field name="last_message_date" readonly="1"/>
                        </group>
                    </group>
                    
                    <group string="Message Content">
                        <field name="message" nolabel="1" widget="text"/>
                    </group>
                    
                    <group string="Customer Info (Chatbot)">
                        <group>
                            <field name="customer_phone"/>
                        </group>
                        <group>
                            <field name="chatbot_state"/>
                        </group>
                    </group>
                    
                    <notebook>
                        <page string="Products" name="products">
                            <field name="selected_product_ids" nolabel="1">
                                <list>
                                    <field name="display_name"/>
                                    <field name="price" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                    <field name="currency_id" column_invisible="1"/>
                                    <field name="active" widget="boolean"/>
                                    <field name="sequence"/>
                                </list>
                            </field>
                        </page>
                        
                        <page string="Related Records" name="related">
                            <group>
                                <field name="lead_id"/>
                                <field name="messenger_order_id"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_ids" widget="mail_thread"/>
                    <field name="activity_ids" widget="mail_activity"/>
                </div>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSAGE - SEARCH VIEW                                                 -->
    <!-- ===================================================================== -->
    <record id="social_message_view_search" model="ir.ui.view">
        <field name="name">social.message.search</field>
        <field name="model">social.message</field>
        <field name="arch" type="xml">
            <search string="Search Conversations">
                <field name="facebook_user_id"/>
                <field name="customer_name"/>
                <field name="message"/>
                <field name="account_id"/>
                
                <filter string="From Customer" name="filter_from_customer" 
                        domain="[('is_from_customer', '=', True)]"/>
                <filter string="From Page" name="filter_from_page" 
                        domain="[('is_from_customer', '=', False)]"/>
                <separator/>
                
                <filter string="Idle" name="filter_idle" 
                        domain="[('chatbot_state', '=', 'idle')]"/>
                <filter string="In Progress" name="filter_progress" 
                        domain="[('chatbot_state', 'in', ['ask_name', 'ask_phone', 'show_products', 'confirm_order'])]"/>
                <filter string="Completed" name="filter_completed" 
                        domain="[('chatbot_state', '=', 'completed')]"/>
                <separator/>
                
                <filter string="This Week" name="filter_week" 
                        domain="[('created_date', '&gt;=', (context_today() - datetime.timedelta(days=7)).strftime('%Y-%m-%d'))]"/>
                <filter string="This Month" name="filter_month" 
                        domain="[('created_date', '&gt;=', (context_today().replace(day=1)).strftime('%Y-%m-%d'))]"/>
                <separator/>
                
                <filter string="Has Lead" name="filter_has_lead" 
                        domain="[('lead_id', '!=', False)]"/>
                <filter string="Has Order" name="filter_has_order" 
                        domain="[('messenger_order_id', '!=', False)]"/>
                <separator/>
                
                <filter string="Group By Page" name="group_account" 
                        context="{'group_by': 'account_id'}"/>
                <filter string="Group By State" name="group_state" 
                        context="{'group_by': 'chatbot_state'}"/>
                <filter string="Group By Date" name="group_date" 
                        context="{'group_by': 'created_date:month'}"/>
            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSAGE - ACTION                                                      -->
    <!-- ===================================================================== -->
    <record id="action_social_message" model="ir.actions.act_window">
        <field name="name">Facebook Conversations</field>
        <field name="res_model">social.message</field>
        <field name="view_mode">list,form</field>
        <field name="search_view_id" ref="social_message_view_search"/>
        <field name="context">{'search_default_filter_from_customer': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No conversations yet!
            </p>
            <p>
                Conversations will appear here when customers message your Facebook page.
            </p>
            <p>
                <strong>Webhook must be configured to receive messages automatically.</strong>
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 46: social_messenger_order_views.xml
## ÄÆ°á»ng dáº«n: views/social_messenger_order_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- MESSENGER ORDER - LIST VIEW                                           -->
    <!-- ===================================================================== -->
    <record id="social_messenger_order_view_tree" model="ir.ui.view">
        <field name="name">social.messenger.order.list</field>
        <field name="model">social.messenger.order</field>
        <field name="arch" type="xml">
            <list string="Messenger Orders" 
                  decoration-success="state == 'sale'" 
                  decoration-info="state == 'confirmed'"
                  decoration-muted="state == 'cancelled'">
                <field name="name"/>
                <field name="order_date"/>
                <field name="customer_name"/>
                <field name="customer_phone"/>
                <field name="total_amount" widget="monetary" options="{'currency_field': 'currency_id'}" sum="Total"/>
                <field name="currency_id" column_invisible="1"/>
                <field name="state" widget="badge" 
                       decoration-success="state == 'sale'"
                       decoration-info="state == 'confirmed'"
                       decoration-muted="state == 'cancelled'"/>
                <field name="sale_order_id"/>
                <field name="user_id" widget="many2one_avatar_user"/>
                <field name="company_id" groups="base.group_multi_company" column_invisible="1"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER ORDER - FORM VIEW                                           -->
    <!-- ===================================================================== -->
    <record id="social_messenger_order_view_form" model="ir.ui.view">
        <field name="name">social.messenger.order.form</field>
        <field name="model">social.messenger.order</field>
        <field name="arch" type="xml">
            <form string="Messenger Order">
                <header>
                    <button name="action_confirm" type="object" 
                            string="Confirm" class="btn-primary"
                            invisible="state != 'draft'"/>
                    <button name="action_create_sale_order" type="object" 
                            string="Create Sale Order" class="btn-primary"
                            invisible="state != 'confirmed' or sale_order_id != False"/>
                    <button name="action_view_sale_order" type="object" 
                            string="View Sale Order" class="btn-info"
                            invisible="sale_order_id == False"/>
                    <button name="action_cancel" type="object" 
                            string="Cancel"
                            invisible="state in ['sale', 'cancelled']"/>
                    <field name="state" widget="statusbar" 
                           statusbar_visible="draft,confirmed,sale"/>
                </header>
                
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="1"/>
                        </h1>
                    </div>
                    
                    <group>
                        <group string="Customer Information">
                            <field name="customer_name"/>
                            <field name="customer_phone"/>
                            <field name="customer_email"/>
                            <field name="facebook_user_id"/>
                            <field name="partner_id" readonly="1"/>
                        </group>
                        <group string="Order Information">
                            <field name="order_date"/>
                            <field name="user_id"/>
                            <field name="total_amount" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                            <field name="currency_id" column_invisible="1"/>
                            <field name="sale_order_id" readonly="1"/>
                            <field name="conversation_id"/>
                        </group>
                    </group>
                    
                    <notebook>
                        <page string="Products" name="products">
                            <field name="product_ids">
                                <list>
                                    <field name="product_id"/>
                                    <field name="quick_reply_title"/>
                                    <field name="price" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                    <field name="currency_id" column_invisible="1"/>
                                </list>
                            </field>
                        </page>
                        
                        <page string="Internal Notes" name="notes">
                            <field name="notes" placeholder="Add internal notes..."/>
                        </page>
                    </notebook>
                </sheet>
                
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER ORDER - SEARCH VIEW                                         -->
    <!-- ===================================================================== -->
    <record id="social_messenger_order_view_search" model="ir.ui.view">
        <field name="name">social.messenger.order.search</field>
        <field name="model">social.messenger.order</field>
        <field name="arch" type="xml">
            <search string="Search Messenger Orders">
                <field name="name"/>
                <field name="customer_name"/>
                <field name="customer_phone"/>
                <field name="sale_order_id"/>
                
                <filter string="Draft" name="filter_draft" 
                        domain="[('state', '=', 'draft')]"/>
                <filter string="Confirmed" name="filter_confirmed" 
                        domain="[('state', '=', 'confirmed')]"/>
                <filter string="Sale Order Created" name="filter_sale" 
                        domain="[('state', '=', 'sale')]"/>
                <filter string="Cancelled" name="filter_cancelled" 
                        domain="[('state', '=', 'cancelled')]"/>
                <separator/>
                
                <filter string="My Orders" name="filter_my_orders" 
                        domain="[('user_id', '=', uid)]"/>
                <filter string="This Month" name="filter_this_month" 
                        domain="[('order_date', '&gt;=', (context_today() - datetime.timedelta(days=30)).strftime('%Y-%m-%d'))]"/>
                <separator/>
                
                <filter string="Group By Salesperson" name="group_user" 
                        context="{'group_by': 'user_id'}"/>
                <filter string="Group By Status" name="group_state" 
                        context="{'group_by': 'state'}"/>
                <filter string="Group By Order Date" name="group_date" 
                        context="{'group_by': 'order_date:month'}"/>
                <filter string="Group By Company" name="group_company" 
                        context="{'group_by': 'company_id'}" 
                        groups="base.group_multi_company"/>
            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER ORDER - ACTION                                              -->
    <!-- ===================================================================== -->
    <record id="action_social_messenger_order" model="ir.actions.act_window">
        <field name="name">Messenger Orders</field>
        <field name="res_model">social.messenger.order</field>
        <field name="view_mode">list,form</field>
        <field name="search_view_id" ref="social_messenger_order_view_search"/>
        <field name="context">{'search_default_filter_confirmed': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                ğŸ“¦ No Messenger Orders Yet
            </p>
            <p>
                Orders created through the Facebook Messenger chatbot will appear here.<br/>
                Enable the chatbot in Settings to start receiving orders!
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 47: social_messenger_product_views.xml
## ÄÆ°á»ng dáº«n: views/social_messenger_product_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- MESSENGER PRODUCT - LIST VIEW                                         -->
    <!-- ===================================================================== -->
    <record id="social_messenger_product_view_tree" model="ir.ui.view">
        <field name="name">social.messenger.product.list</field>
        <field name="model">social.messenger.product</field>
        <field name="arch" type="xml">
            <list string="Messenger Products" 
                  decoration-muted="active == False"
                  editable="bottom">
                <field name="sequence" widget="handle"/>
                <field name="product_id"/>
                <field name="quick_reply_title"/>
                <field name="price" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                <field name="currency_id" column_invisible="1"/>
                <field name="active" widget="boolean_toggle"/>
                <field name="order_count"/>
                <field name="company_id" groups="base.group_multi_company" column_invisible="1"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER PRODUCT - FORM VIEW                                         -->
    <!-- ===================================================================== -->
    <record id="social_messenger_product_view_form" model="ir.ui.view">
        <field name="name">social.messenger.product.form</field>
        <field name="model">social.messenger.product</field>
        <field name="arch" type="xml">
            <form string="Messenger Product">
                <header>
                    <button name="action_toggle_active" type="object" 
                            string="Enable" class="btn-primary"
                            invisible="active == True"/>
                    <button name="action_toggle_active" type="object" 
                            string="Disable" class="btn-secondary"
                            invisible="active == False"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_orders" type="object" 
                                class="oe_stat_button" icon="fa-shopping-cart"
                                invisible="order_count == 0">
                            <field name="order_count" widget="statinfo" 
                                   string="Orders"/>
                        </button>
                    </div>
                    
                    <field name="image_url" widget="image" class="oe_avatar"/>
                    
                    <div class="oe_title">
                        <h1>
                            <field name="product_id" 
                                   placeholder="Select Product..."
                                   options="{'no_create': True}"/>
                        </h1>
                    </div>
                    
                    <group>
                        <group string="Product Info">
                            <field name="display_name" invisible="1"/>
                            <field name="quick_reply_title" 
                                   placeholder="Max 20 characters"/>
                            <field name="price" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                            <field name="currency_id" column_invisible="1"/>
                            <field name="sequence"/>
                        </group>
                        <group string="Organization">
                            <field name="company_id" 
                                   groups="base.group_multi_company"/>
                        </group>
                    </group>
                    
                    <group string="Messenger Description">
                        <field name="description" nolabel="1" 
                               placeholder="Description sent to customers..."/>
                    </group>
                    
                    <notebook>
                        <page string="Preview" name="preview">
                            <group>
                                <group string="How it appears in Messenger">
                                    <div class="alert alert-info" role="alert">
                                        <h4>Quick Reply Button:</h4>
                                        <p>
                                            <strong>
                                                <field name="quick_reply_title" readonly="1"/>
                                            </strong>
                                        </p>
                                        
                                        <h4>Product Message:</h4>
                                        <p>
                                            ğŸ›ï¸ <field name="product_id" readonly="1"/><br/>
                                            ğŸ’° GiÃ¡: <field name="price" readonly="1"/> 
                                            <field name="currency_id" readonly="1"/><br/>
                                            ğŸ“ <field name="description" readonly="1"/>
                                        </p>
                                    </div>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER PRODUCT - KANBAN VIEW                                       -->
    <!-- ===================================================================== -->
    <record id="social_messenger_product_view_kanban" model="ir.ui.view">
        <field name="name">social.messenger.product.kanban</field>
        <field name="model">social.messenger.product</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_mobile">
                <field name="product_id"/>
                <field name="quick_reply_title"/>
                <field name="price"/>
                <field name="currency_id"/>
                <field name="active"/>
                <field name="order_count"/>
                
                <templates>
                    <t t-name="card" t-translation="off">
                        <div class="oe_kanban_global_click">
                            <div class="o_kanban_record_top">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title">
                                        <field name="product_id"/>
                                    </strong>
                                </div>
                                <span class="badge rounded-pill" 
                                      t-att-class="record.active.raw_value ? 'text-bg-success' : 'text-bg-secondary'">
                                    <t t-if="record.active.raw_value">Active</t>
                                    <t t-else="">Inactive</t>
                                </span>
                            </div>
                            <div class="o_kanban_record_body">
                                <field name="quick_reply_title"/>
                            </div>
                            <div class="o_kanban_record_bottom">
                                <div class="oe_kanban_bottom_left">
                                    <field name="price" widget="monetary"/>
                                </div>
                                <div class="oe_kanban_bottom_right">
                                    <i class="fa fa-shopping-cart"/> 
                                    <field name="order_count"/> orders
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER PRODUCT - SEARCH VIEW                                       -->
    <!-- ===================================================================== -->
    <record id="social_messenger_product_view_search" model="ir.ui.view">
        <field name="name">social.messenger.product.search</field>
        <field name="model">social.messenger.product</field>
        <field name="arch" type="xml">
            <search string="Search Products">
                <field name="product_id"/>
                <field name="quick_reply_title"/>
                
                <filter string="Active" name="filter_active" 
                        domain="[('active', '=', True)]"/>
                <filter string="Inactive" name="filter_inactive" 
                        domain="[('active', '=', False)]"/>
                <separator/>
                
                <!-- XÃ“A FILTER "Has Orders" VÃŒ order_count LÃ€ COMPUTED FIELD -->
                
                <filter string="Group By Product" name="group_product" 
                        context="{'group_by': 'product_id'}"/>
            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- MESSENGER PRODUCT - ACTION                                            -->
    <!-- ===================================================================== -->
    <record id="action_social_messenger_product" model="ir.actions.act_window">
        <field name="name">Messenger Products</field>
        <field name="res_model">social.messenger.product</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="search_view_id" ref="social_messenger_product_view_search"/>
        <field name="context">{'search_default_filter_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No products configured for Messenger!
            </p>
            <p>
                Add products to sell via Facebook Messenger chatbot.
            </p>
            <p>
                <strong>Only active products will appear in the chatbot.</strong>
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 48: social_post_calendar_views.xml
## ÄÆ°á»ng dáº«n: views/social_post_calendar_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="social_post_view_calendar" model="ir.ui.view">
        <field name="name">social.post.calendar</field>
        <field name="model">social.post</field>
        <field name="arch" type="xml">
            <calendar
                string="Content Calendar"
                date_start="scheduled_date"
                mode="month"
                color="state"
                quick_create="0"
                event_open_popup="1">
                
                <!-- Required fields for calendar -->
                <field name="content"/>
                <field name="account_id"/>
                <field name="state"/>
                
            </calendar>
        </field>
    </record>

    <record id="action_social_post_calendar" model="ir.actions.act_window">
        <field name="name">Content Calendar</field>
        <field name="res_model">social.post</field>
        <field name="view_mode">calendar,tree,form</field>
        <field name="domain">[('scheduled_date', '!=', False)]</field>
        <field name="context">{'default_post_type': 'scheduled'}</field>
    </record>

</odoo>



################################################################################
## FILE 49: social_post_template_views.xml
## ÄÆ°á»ng dáº«n: views/social_post_template_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST TEMPLATE - LIST VIEW                                      -->
    <!-- ===================================================================== -->
    <record id="social_post_template_view_tree" model="ir.ui.view">
        <field name="name">social.post.template.list</field>
        <field name="model">social.post.template</field>
        <field name="arch" type="xml">
            <list string="Post Templates" decoration-muted="not active">
                <field name="name"/>
                <field name="template_type" widget="badge"/>
                <field name="description"/>
                <field name="active" column_invisible="1"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST TEMPLATE - FORM VIEW                                      -->
    <!-- ===================================================================== -->
    <record id="social_post_template_view_form" model="ir.ui.view">
        <field name="name">social.post.template.form</field>
        <field name="model">social.post.template</field>
        <field name="arch" type="xml">
            <form string="Post Template">
                <sheet>
                    <div class="oe_title">
                        <label for="name" string="Template Name"/>
                        <h1>
                            <field name="name" placeholder="Enter template name..."/>
                        </h1>
                    </div>
                    <group>
                        <group string="Template Info">
                            <field name="template_type"/>
                            <field name="active" widget="boolean_toggle"/>
                            <field name="company_id" groups="base.group_multi_company"/>
                        </group>
                        <group string="Description">
                            <field name="description" nolabel="1" placeholder="Optional description..."/>
                        </group>
                    </group>
                    <group string="Content Template">
                        <field name="content" nolabel="1" placeholder="Enter your template content here. Use {{variable_name}} for dynamic content..."/>
                    </group>
                    <div class="mt-3">
                        <button name="action_use_template" type="object"
                                string="Use This Template" class="btn-primary"/>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST TEMPLATE - KANBAN VIEW (FIXED FOR ODOO 19)                -->
    <!-- ===================================================================== -->
    <record id="social_post_template_view_kanban" model="ir.ui.view">
        <field name="name">social.post.template.kanban</field>
        <field name="model">social.post.template</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name"/>
                <field name="template_type"/>
                <field name="content"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_content">
                            <div class="o_kanban_record_top">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title">
                                        <field name="name"/>
                                    </strong>
                                </div>
                            </div>
                            <div class="o_kanban_record_body">
                                <div>Type: <field name="template_type"/></div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST TEMPLATE - SEARCH VIEW                                    -->
    <!-- ===================================================================== -->
    <record id="social_post_template_view_search" model="ir.ui.view">
        <field name="name">social.post.template.search</field>
        <field name="model">social.post.template</field>
        <field name="arch" type="xml">
            <search string="Search Templates">
                <field name="name"/>
                <field name="content"/>
                <filter string="Active" name="filter_active" domain="[('active', '=', True)]"/>
<!-- Group By -->
                <filter string="Group By Type" name="group_type" context="{'group_by': 'template_type'}"/>
            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST TEMPLATE - ACTION                                         -->
    <!-- ===================================================================== -->
    <record id="action_social_post_template" model="ir.actions.act_window">
        <field name="name">Post Templates</field>
        <field name="res_model">social.post.template</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="search_view_id" ref="social_post_template_view_search"/>
        <field name="context">{'search_default_filter_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first post template!
            </p>
            <p>
                Templates help you quickly create consistent social media posts.
            </p>
        </field>
    </record>

</odoo>



################################################################################
## FILE 50: social_post_views.xml
## ÄÆ°á»ng dáº«n: views/social_post_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>
    

    <!-- ===================================================================== -->
    <!-- SOCIAL POST - LIST VIEW                                               -->
    <!-- ===================================================================== -->
    <record id="social_post_view_tree" model="ir.ui.view">
        <field name="name">social.post.list</field>
        <field name="model">social.post</field>
        <field name="arch" type="xml">
            <list string="Facebook Posts" 
                  decoration-success="state == 'published'"
                  decoration-info="state == 'scheduled'"
                  decoration-danger="state == 'failed'">
                <field name="account_id"/>
                <field name="content"/>
                <field name="state" widget="badge"
                       decoration-success="state == 'published'"
                       decoration-info="state == 'scheduled'"
                       decoration-danger="state == 'failed'"
                       decoration-warning="state == 'draft'"/>
                <field name="scheduled_date" optional="show"/>
                <field name="published_date" optional="show"/>
                <field name="likes_count"/>
                <field name="comments_count"/>
                <field name="shares_count"/>
            </list>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST - FORM VIEW (FIXED FOR ODOO 19)                           -->
    <!-- ===================================================================== -->
    <record id="social_post_view_form" model="ir.ui.view">
        <field name="name">social.post.form</field>
        <field name="model">social.post</field>
        <field name="arch" type="xml">
            <form string="Facebook Post">
                <header>
                    <button name="action_publish_now" type="object"
                            string="Publish Now" class="btn-primary"
                            invisible="state != 'draft'"/>
                    <button name="action_schedule_post" type="object"
                            string="Schedule" class="btn-secondary"
                            invisible="state != 'draft'"/>
                    <button name="action_sync_stats" type="object"
                            string="Sync Stats" class="btn-secondary"
                            invisible="state != 'published'"/>
                                <!-- NÃšT Má»šI: SYNC COMMENTS -->
                    <button name="action_sync_comments" type="object"
                            string="Sync Comments" class="btn-secondary"
                            invisible="state != 'published'"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,scheduled,published"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_comments" type="object"
                                class="oe_stat_button" icon="fa-comments"
                                invisible="comments_count == 0">
                            <field name="comments_count" widget="statinfo" string="Comments"/>
                        </button>
                    </div>
                    
                    <group>
                        <group string="Post Information">
                            <field name="account_id" options="{'no_create': True}"/>
                            <field name="post_type" widget="radio"/>
                            <field name="scheduled_date" invisible="post_type != 'scheduled'"/>
                            <field name="user_id" readonly="1"/>
                        </group>
                        <group string="Engagement Stats" invisible="state != 'published'">
                            <field name="likes_count" readonly="1"/>
                            <field name="comments_count" readonly="1"/>
                            <field name="shares_count" readonly="1"/>
                            <field name="engagement_rate" readonly="1"/>
                        </group>
                    </group>
                    
                    <group string="Content">
                        <field name="content" nolabel="1" placeholder="What do you want to share?"/>
                    </group>
                    
                    <group string="Media">
                        <group>
                            <field name="media_type" widget="radio"/>
                        </group>
                        <group>
                            <field name="image" widget="image" invisible="media_type != 'photo'" class="oe_avatar"/>
                            <field name="link_url" invisible="media_type != 'link'" placeholder="https://..."/>
                            <field name="video_url" invisible="media_type != 'video'" placeholder="https://..."/>
                        </group>
                    </group>
                    
                    <notebook invisible="state == 'draft'">
                        <page string="Facebook Info" name="fb_info" invisible="not facebook_post_id">
                            <group>
                                <group>
                                    <field name="facebook_post_id" readonly="1"/>
                                    <field name="facebook_post_url" widget="url" readonly="1"/>
                                </group>
                                <group>
                                    <field name="published_date" readonly="1"/>
                                    <field name="reach" readonly="1"/>
                                    <field name="impressions" readonly="1"/>
                                </group>
                            </group>
                        </page>
                        <page string="Error Log" name="errors" invisible="not error_message">
                            <group>
                                <field name="error_message" nolabel="1" readonly="1"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST - KANBAN VIEW (FIXED FOR ODOO 19)                         -->
    <!-- ===================================================================== -->
    <record id="social_post_view_kanban" model="ir.ui.view">
        <field name="name">social.post.kanban</field>
        <field name="model">social.post</field>
        <field name="arch" type="xml">
            <kanban default_group_by="state">
                <field name="content"/>
                <field name="state"/>
                <field name="account_id"/>
                <field name="likes_count"/>
                <field name="comments_count"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_content">
                            <div class="o_kanban_record_top">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title">
                                        <field name="account_id"/>
                                    </strong>
                                </div>
                            </div>
                            <div class="o_kanban_record_body">
                                <field name="content"/>
                            </div>
                            <div class="o_kanban_record_bottom">
                                <div class="oe_kanban_bottom_left">
                                    <span><field name="likes_count"/> likes</span>
                                </div>
                                <div class="oe_kanban_bottom_right">
                                    <span><field name="comments_count"/> comments</span>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST - SEARCH VIEW                                             -->
    <!-- ===================================================================== -->
    <record id="social_post_view_search" model="ir.ui.view">
        <field name="name">social.post.search</field>
        <field name="model">social.post</field>
        <field name="arch" type="xml">
            <search string="Search Posts">
                <field name="content"/>
                <field name="account_id"/>
                <filter string="Draft" name="filter_draft" domain="[('state', '=', 'draft')]"/>
                <filter string="Scheduled" name="filter_scheduled" domain="[('state', '=', 'scheduled')]"/>
                <filter string="Published" name="filter_published" domain="[('state', '=', 'published')]"/>
                <filter string="Failed" name="filter_failed" domain="[('state', '=', 'failed')]"/>
                <filter string="Group By Status" name="group_state" context="{'group_by': 'state'}"/>
                <filter string="Group By Page" name="group_account" context="{'group_by': 'account_id'}"/>

            </search>
        </field>
    </record>

    <!-- ===================================================================== -->
    <!-- SOCIAL POST - ACTION                                                  -->
    <!-- ===================================================================== -->
    <record id="action_social_post" model="ir.actions.act_window">
        <field name="name">Facebook Posts</field>
        <field name="res_model">social.post</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="search_view_id" ref="social_post_view_search"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first Facebook post!
            </p>
            <p>
                Click the "New" button to create a new post.
            </p>
        </field>
    </record>
    
</odoo>



################################################################################
## FILE 51: __init__.py
## ÄÆ°á»ng dáº«n: wizard/__init__.py
################################################################################

from . import post_composer_wizard
from . import bulk_schedule_wizard



################################################################################
## FILE 52: bulk_schedule_wizard.py
## ÄÆ°á»ng dáº«n: wizard/bulk_schedule_wizard.py
################################################################################

from odoo import models, fields, api, _
from odoo.exceptions import UserError, ValidationError
from datetime import timedelta
import logging

_logger = logging.getLogger(__name__)


class BulkScheduleWizard(models.TransientModel):
    _name = 'social.bulk.schedule.wizard'
    _description = 'Bulk Post Scheduler Wizard'

    account_ids = fields.Many2many('social.account', string='Facebook Pages', required=True,
                                    domain=[('platform', '=', 'facebook'), ('state', '=', 'connected')])
    post_template_ids = fields.Many2many('social.post.template', string='Post Templates')
    
    schedule_type = fields.Selection([
        ('specific', 'Specific Dates'),
        ('recurring', 'Recurring Schedule'),
    ], string='Schedule Type', default='specific', required=True)
    
    start_date = fields.Datetime(string='Start Date', default=lambda self: fields.Datetime.now() + timedelta(hours=1))
    end_date = fields.Datetime(string='End Date')
    time_slots = fields.Text(string='Time Slots', default='09:00\n12:00\n15:00\n18:00')
    
    frequency = fields.Selection([
        ('daily', 'Daily'),
        ('weekly', 'Weekly'),
        ('monthly', 'Monthly'),
    ], string='Frequency', default='daily')
    
    interval = fields.Integer(string='Every', default=1)
    
    weekday_monday = fields.Boolean(string='Monday', default=True)
    weekday_tuesday = fields.Boolean(string='Tuesday', default=True)
    weekday_wednesday = fields.Boolean(string='Wednesday', default=True)
    weekday_thursday = fields.Boolean(string='Thursday', default=True)
    weekday_friday = fields.Boolean(string='Friday', default=True)
    weekday_saturday = fields.Boolean(string='Saturday', default=False)
    weekday_sunday = fields.Boolean(string='Sunday', default=False)
    
    day_of_month = fields.Integer(string='Day of Month', default=1)
    posting_times = fields.Text(string='Daily Posting Times', default='09:00\n15:00')
    duration_days = fields.Integer(string='Duration (Days)', default=30)
    
    content_rotation = fields.Selection([
        ('sequential', 'Sequential'),
        ('random', 'Random'),
    ], string='Content Rotation', default='sequential')
    
    preview_count = fields.Integer(string='Posts to Create', compute='_compute_preview_count')
    
    @api.depends('account_ids', 'post_template_ids', 'schedule_type', 'start_date', 'end_date', 'duration_days')
    def _compute_preview_count(self):
        for wizard in self:
            try:
                schedule = wizard._generate_schedule()
                wizard.preview_count = len(schedule) * len(wizard.account_ids)
            except:
                wizard.preview_count = 0
    
    def _get_selected_weekdays(self):
        self.ensure_one()
        weekdays = []
        if self.weekday_monday: weekdays.append(0)
        if self.weekday_tuesday: weekdays.append(1)
        if self.weekday_wednesday: weekdays.append(2)
        if self.weekday_thursday: weekdays.append(3)
        if self.weekday_friday: weekdays.append(4)
        if self.weekday_saturday: weekdays.append(5)
        if self.weekday_sunday: weekdays.append(6)
        return weekdays
    
    def _parse_time_slots(self, time_text):
        times = []
        for line in (time_text or '').split('\n'):
            line = line.strip()
            if not line:
                continue
            try:
                hour, minute = map(int, line.split(':'))
                if 0 <= hour <= 23 and 0 <= minute <= 59:
                    times.append((hour, minute))
            except:
                pass
        return times if times else [(9, 0)]
    
    def _generate_schedule(self):
        self.ensure_one()
        schedule = []
        
        if not self.start_date:
            return schedule
        
        if self.schedule_type == 'specific':
            current = self.start_date
            end = self.end_date or (self.start_date + timedelta(days=30))
            times = self._parse_time_slots(self.time_slots)
            
            while current <= end:
                for hour, minute in times:
                    scheduled_time = current.replace(hour=hour, minute=minute, second=0, microsecond=0)
                    if scheduled_time > fields.Datetime.now():
                        schedule.append(scheduled_time)
                current += timedelta(days=1)
        else:
            current = self.start_date
            end_date = current + timedelta(days=self.duration_days)
            times = self._parse_time_slots(self.posting_times)
            selected_weekdays = self._get_selected_weekdays()
            
            while current <= end_date:
                should_post = False
                if self.frequency == 'daily':
                    should_post = True
                elif self.frequency == 'weekly':
                    should_post = current.weekday() in selected_weekdays
                elif self.frequency == 'monthly':
                    should_post = current.day == self.day_of_month
                
                if should_post:
                    for hour, minute in times:
                        scheduled_time = current.replace(hour=hour, minute=minute, second=0, microsecond=0)
                        if scheduled_time > fields.Datetime.now():
                            schedule.append(scheduled_time)
                
                current += timedelta(days=1)
        
        return sorted(schedule)
    
    def action_schedule_posts(self):
        self.ensure_one()
        
        if not self.account_ids:
            raise UserError(_('Please select at least one Facebook Page!'))
        if not self.post_template_ids:
            raise UserError(_('Please select at least one post template!'))
        
        schedule = self._generate_schedule()
        if not schedule:
            raise UserError(_('No valid schedule dates found!'))
        
        created_posts = self.env['social.post']
        template_index = 0
        templates_list = list(self.post_template_ids)
        
        for scheduled_time in schedule:
            template = templates_list[template_index % len(templates_list)]
            template_index += 1
            
            for account in self.account_ids:
                post = self.env['social.post'].create({
                    'account_id': account.id,
                    'content': template.content,
                    'post_type': 'scheduled',
                    'scheduled_date': scheduled_time,
                    'state': 'scheduled',
                })
                created_posts |= post
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Success'),
                'message': _('Successfully scheduled %d posts!') % len(created_posts),
                'type': 'success',
                'sticky': False,
            }
        }




################################################################################
## FILE 53: post_composer_wizard.py
## ÄÆ°á»ng dáº«n: wizard/post_composer_wizard.py
################################################################################

from odoo import models, fields, api, _
from odoo.exceptions import UserError, ValidationError
import logging

_logger = logging.getLogger(__name__)


class PostComposerWizard(models.TransientModel):
    """
    Wizard Ä‘á»ƒ táº¡o vÃ  Ä‘Äƒng bÃ i nhanh lÃªn Facebook.
    Cho phÃ©p publish ngay hoáº·c lÃªn lá»‹ch.
    """
    _name = 'social.post.composer.wizard'
    _description = 'Quick Post Composer Wizard'

    # -------------------------------------------------------------------------
    # BASIC FIELDS
    # -------------------------------------------------------------------------
    account_ids = fields.Many2many(
        'social.account',
        string='Facebook Pages',
        required=True,
        domain=[('platform', '=', 'facebook'), ('state', '=', 'connected')],
        help='Select which pages to post to'
    )
    
    content = fields.Text(
        string='Post Content',
        required=True,
        help='What do you want to share?'
    )
    
    template_id = fields.Many2one(
        'social.post.template',
        string='Use Template',
        help='Select a template to start with'
    )
    
    # -------------------------------------------------------------------------
    # MEDIA
    # -------------------------------------------------------------------------
    media_type = fields.Selection([
        ('text', 'Text Only'),
        ('photo', 'Photo'),
        ('link', 'Link'),
    ], string='Post Type', default='text', required=True)
    
    image = fields.Binary(
        string='Image',
        attachment=True,
    )
    
    image_filename = fields.Char(string='Image Filename')
    
    link_url = fields.Char(
        string='Link URL',
        help='Share a link (optional)'
    )
    
    # -------------------------------------------------------------------------
    # SCHEDULING
    # -------------------------------------------------------------------------
    post_method = fields.Selection([
        ('now', 'Publish Now'),
        ('scheduled', 'Schedule for Later'),
    ], string='When to Post', default='now', required=True)
    
    scheduled_date = fields.Datetime(
        string='Schedule Date',
        help='When should this post be published?'
    )
    
    # -------------------------------------------------------------------------
    # PREVIEW
    # -------------------------------------------------------------------------
    preview_text = fields.Html(
        string='Preview',
        compute='_compute_preview_text',
        sanitize=False,
    )
    
    character_count = fields.Integer(
        string='Characters',
        compute='_compute_character_count',
    )
    
    # -------------------------------------------------------------------------
    # STATS
    # -------------------------------------------------------------------------
    page_count = fields.Integer(
        string='Number of Pages',
        compute='_compute_page_count',
    )
    
    # -------------------------------------------------------------------------
    # COMPUTE METHODS
    # -------------------------------------------------------------------------
    @api.onchange('template_id')
    def _onchange_template_id(self):
        """Load template content"""
        if self.template_id:
            self.content = self.template_id.content
    
    @api.depends('content')
    def _compute_character_count(self):
        """Count characters in content"""
        for wizard in self:
            wizard.character_count = len(wizard.content or '')
    
    @api.depends('account_ids')
    def _compute_page_count(self):
        """Count selected pages"""
        for wizard in self:
            wizard.page_count = len(wizard.account_ids)
    
    @api.depends('content', 'link_url', 'media_type')
    def _compute_preview_text(self):
        """Generate preview of the post"""
        for wizard in self:
            preview = '<div style="border: 1px solid #e0e0e0; padding: 15px; border-radius: 8px; background-color: #f9f9f9;">'
            preview += '<div style="margin-bottom: 10px;">'
            preview += '<i class="fa fa-facebook-square" style="color: #1877f2; font-size: 20px;"></i> '
            preview += '<strong>Facebook Post Preview</strong>'
            preview += '</div>'
            
            if wizard.content:
                preview += f'<p style="white-space: pre-wrap; margin-bottom: 10px;">{wizard.content}</p>'
            
            if wizard.link_url:
                preview += f'<div style="border: 1px solid #ddd; padding: 10px; border-radius: 5px; background-color: #fff;">'
                preview += f'<i class="fa fa-link"></i> <a href="{wizard.link_url}" target="_blank">{wizard.link_url}</a>'
                preview += '</div>'
            
            if wizard.media_type == 'photo':
                preview += '<div style="margin-top: 10px;">'
                preview += '<i class="fa fa-camera"></i> <em>Image will be attached</em>'
                preview += '</div>'
            
            preview += '</div>'
            wizard.preview_text = preview
    
    # -------------------------------------------------------------------------
    # VALIDATION
    # -------------------------------------------------------------------------
    @api.constrains('scheduled_date', 'post_method')
    def _check_scheduled_date(self):
        """Validate scheduled date"""
        for wizard in self:
            if wizard.post_method == 'scheduled':
                if not wizard.scheduled_date:
                    raise ValidationError(_('Please set a scheduled date!'))
                if wizard.scheduled_date <= fields.Datetime.now():
                    raise ValidationError(_('Scheduled date must be in the future!'))
    
    @api.constrains('content')
    def _check_content_length(self):
        """Check content length"""
        for wizard in self:
            if wizard.content and len(wizard.content) > 63206:
                raise ValidationError(_('Facebook posts are limited to 63,206 characters!'))
    
    # -------------------------------------------------------------------------
    # ACTIONS
    # -------------------------------------------------------------------------
    def action_publish(self):
        """Create and publish/schedule posts"""
        self.ensure_one()
        
        if not self.account_ids:
            raise UserError(_('Please select at least one Facebook Page!'))
        
        created_posts = self.env['social.post']
        
        for account in self.account_ids:
            post_vals = {
                'account_id': account.id,
                'content': self.content,
                'media_type': self.media_type,
                'link_url': self.link_url,
                'post_type': self.post_method,
            }
            
            if self.media_type == 'photo' and self.image:
                post_vals.update({
                    'image': self.image,
                    'image_filename': self.image_filename,
                })
            
            if self.post_method == 'scheduled':
                post_vals['scheduled_date'] = self.scheduled_date
            
            post = self.env['social.post'].create(post_vals)
            created_posts |= post
            
            # If publish now, trigger publish action
            if self.post_method == 'now':
                try:
                    post.action_publish_now()
                except Exception as e:
                    _logger.error(f'Error publishing post {post.id}: {e}')
                    raise UserError(_('Error publishing to %s: %s') % (account.name, str(e)))
            else:
                post.state = 'scheduled'
        
        # Show success notification
        message = _('Successfully created %d post(s)!') % len(created_posts)
        if self.post_method == 'now':
            message = _('Successfully published to %d page(s)!') % len(self.account_ids)
        else:
            message = _('Successfully scheduled %d post(s) for %s') % (
                len(created_posts), 
                self.scheduled_date.strftime('%Y-%m-%d %H:%M')
            )
        
        return {
            'type': 'ir.actions.client',
            'tag': 'display_notification',
            'params': {
                'title': _('Success'),
                'message': message,
                'type': 'success',
                'sticky': False,
                'next': {
                    'type': 'ir.actions.act_window',
                    'res_model': 'social.post',
                    'view_mode': 'list,form',
                    'domain': [('id', 'in', created_posts.ids)],
                }
            }
        }
    
    def action_preview(self):
        """Show preview of the post"""
        self.ensure_one()
        return {
            'type': 'ir.actions.act_window',
            'name': _('Post Preview'),
            'res_model': 'social.post.composer.wizard',
            'view_mode': 'form',
            'res_id': self.id,
            'target': 'new',
        }




################################################################################
## FILE 54: wizard_views.xml
## ÄÆ°á»ng dáº«n: wizard/wizard_views.xml
################################################################################

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="post_composer_wizard_view_form" model="ir.ui.view">
        <field name="name">social.post.composer.wizard.form</field>
        <field name="model">social.post.composer.wizard</field>
        <field name="arch" type="xml">
            <form string="Quick Post Composer">
                <sheet>
                    <group>
                        <group string="Select Pages">
                            <field name="account_ids" widget="many2many_tags"/>
                        </group>
                        <group string="Options">
                            <field name="template_id"/>
                            <field name="post_method" widget="radio"/>
                        </group>
                    </group>
                    <group string="Content">
                        <field name="content" nolabel="1"/>
                    </group>
                    <group>
                        <group string="Media">
                            <field name="media_type" widget="radio"/>
                            <field name="image" widget="image" invisible="media_type != 'photo'"/>
                            <field name="link_url" invisible="media_type != 'link'"/>
                        </group>
                        <group string="Scheduling" invisible="post_method != 'scheduled'">
                            <field name="scheduled_date"/>
                        </group>
                    </group>
                </sheet>
                <footer>
                    <button name="action_publish" type="object" string="Publish/Schedule" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="action_post_composer_wizard" model="ir.actions.act_window">
        <field name="name">Create Post</field>
        <field name="res_model">social.post.composer.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

    <record id="bulk_schedule_wizard_view_form" model="ir.ui.view">
        <field name="name">social.bulk.schedule.wizard.form</field>
        <field name="model">social.bulk.schedule.wizard</field>
        <field name="arch" type="xml">
            <form string="Bulk Post Scheduler">
                <sheet>
                    <group>
                        <group string="Select Pages">
                            <field name="account_ids" widget="many2many_tags"/>
                        </group>
                        <group string="Select Templates">
                            <field name="post_template_ids" widget="many2many_tags"/>
                            <field name="content_rotation" widget="radio"/>
                        </group>
                    </group>
                    <group string="Schedule Type">
                        <field name="schedule_type" widget="radio"/>
                    </group>
                    <group invisible="schedule_type != 'specific'">
                        <group string="Date Range">
                            <field name="start_date"/>
                            <field name="end_date"/>
                        </group>
                        <group string="Time Slots">
                            <field name="time_slots" nolabel="1"/>
                        </group>
                    </group>
                    <group invisible="schedule_type != 'recurring'">
                        <group string="Frequency">
                            <field name="frequency" widget="radio"/>
                            <field name="interval"/>
                            <field name="duration_days"/>
                            <field name="day_of_month" invisible="frequency != 'monthly'"/>
                        </group>
                        <group string="Posting Times">
                            <field name="posting_times" nolabel="1"/>
                        </group>
                    </group>
                    <group string="Weekdays" invisible="schedule_type != 'recurring' or frequency != 'weekly'">
                        <group>
                            <field name="weekday_monday"/>
                            <field name="weekday_tuesday"/>
                            <field name="weekday_wednesday"/>
                            <field name="weekday_thursday"/>
                        </group>
                        <group>
                            <field name="weekday_friday"/>
                            <field name="weekday_saturday"/>
                            <field name="weekday_sunday"/>
                        </group>
                    </group>
                    <group string="Preview">
                        <field name="preview_count" readonly="1"/>
                    </group>
                </sheet>
                <footer>
                    <button name="action_schedule_posts" type="object" string="Schedule All Posts" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="action_bulk_schedule_wizard" model="ir.actions.act_window">
        <field name="name">Bulk Schedule Posts</field>
        <field name="res_model">social.bulk.schedule.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

</odoo>


